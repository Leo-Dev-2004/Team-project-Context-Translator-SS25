2025-05-22 13:14:44,748 - INFO - Application startup event triggered.
2025-05-22 13:14:44,748 - INFO - Initializing all queues...
2025-05-22 13:14:44,749 - INFO - All queues initialized on loop 29787952
2025-05-22 13:14:44,749 - INFO - Shared queues initialized.
2025-05-22 13:14:44,749 - INFO - Retrieved queue instances. Event loop ID: 29787952
2025-05-22 13:14:44,749 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 13:14:44,749 - INFO - MessageProcessor task started.
2025-05-22 13:14:44,749 - INFO - QueueForwarder task started.
2025-05-22 13:14:44,749 - INFO - Application startup complete. All core services initialized.
2025-05-22 13:14:44,749 - INFO - Starting message processor
2025-05-22 13:14:44,750 - INFO - Starting queue forwarder
2025-05-22 13:14:47,546 - INFO - Simulation task starting
2025-05-22 13:14:47,546 - INFO - System message enqueued to backend queue
2025-05-22 13:14:47,548 - INFO - Successfully forwarded message sys_init to frontend
2025-05-22 13:15:06,565 - INFO - Simulation stopped
2025-05-22 13:15:08,026 - ERROR - Receive error: 1012
2025-05-22 13:15:08,026 - INFO - Connection closed for 127.0.0.1:58294
2025-05-22 13:15:08,126 - INFO - Application shutdown event triggered.
2025-05-22 13:15:08,126 - INFO - MessageProcessor task cancelled.
2025-05-22 13:15:08,126 - INFO - QueueForwarder task cancelled.
2025-05-22 13:15:08,127 - INFO - All WebSocket connections attempted to close.
2025-05-22 13:15:08,127 - INFO - Application shutdown complete.
2025-05-22 13:24:37,306 - INFO - Application startup event triggered.
2025-05-22 13:24:37,306 - INFO - Initializing all queues...
2025-05-22 13:24:37,306 - INFO - All queues initialized on loop 270280496
2025-05-22 13:24:37,306 - INFO - Shared queues initialized.
2025-05-22 13:24:37,307 - INFO - Retrieved queue instances. Event loop ID: 270280496
2025-05-22 13:24:37,307 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 13:24:37,307 - INFO - MessageProcessor task started.
2025-05-22 13:24:37,307 - INFO - QueueForwarder task started.
2025-05-22 13:24:37,307 - INFO - Application startup complete. All core services initialized.
2025-05-22 13:24:37,307 - INFO - Starting message processor
2025-05-22 13:24:37,307 - INFO - Starting queue forwarder
2025-05-22 13:24:40,972 - INFO - Simulation task starting
2025-05-22 13:24:40,972 - INFO - System message enqueued to backend queue
2025-05-22 13:24:40,973 - INFO - Successfully forwarded message sys_init to frontend
2025-05-22 13:24:48,013 - INFO - Simulation stopped
2025-05-22 13:24:48,751 - ERROR - Receive error: 1012
2025-05-22 13:24:48,751 - INFO - Connection closed for 127.0.0.1:46096
2025-05-22 13:24:48,850 - INFO - Application shutdown event triggered.
2025-05-22 13:24:48,850 - INFO - MessageProcessor task cancelled.
2025-05-22 13:24:48,851 - INFO - QueueForwarder task cancelled.
2025-05-22 13:24:48,851 - INFO - All WebSocket connections attempted to close.
2025-05-22 13:24:48,851 - INFO - Application shutdown complete.
2025-05-22 13:45:33,075 - INFO - Application startup event triggered.
2025-05-22 13:45:33,075 - INFO - Initializing all queues...
2025-05-22 13:45:33,075 - INFO - All queues initialized on loop 353412912
2025-05-22 13:45:33,075 - INFO - Shared queues initialized.
2025-05-22 13:45:33,076 - INFO - Retrieved queue instances. Event loop ID: 353412912
2025-05-22 13:45:33,076 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 13:51:07,801 - INFO - Application startup event triggered.
2025-05-22 13:51:07,801 - INFO - Initializing all queues...
2025-05-22 13:51:07,801 - INFO - All queues initialized on loop 792147760
2025-05-22 13:51:07,801 - INFO - Shared queues initialized.
2025-05-22 13:51:07,801 - INFO - Retrieved queue instances. Event loop ID: 792147760
2025-05-22 13:51:07,801 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 13:51:07,802 - INFO - MessageProcessor queues verified
2025-05-22 13:51:07,802 - INFO - MessageProcessor task started.
2025-05-22 13:51:07,802 - INFO - QueueForwarder queues verified
2025-05-22 13:51:07,802 - INFO - QueueForwarder task started.
2025-05-22 13:51:07,802 - INFO - Application startup complete. All core services initialized.
2025-05-22 13:51:07,802 - INFO - Starting MessageProcessor
2025-05-22 13:51:07,802 - INFO - Starting QueueForwarder
2025-05-22 13:51:10,804 - INFO - Simulation task starting
2025-05-22 13:51:10,804 - INFO - System message enqueued to backend queue
2025-05-22 13:51:17,600 - INFO - Simulation stopped
2025-05-22 13:52:02,744 - ERROR - Receive error: 1001
2025-05-22 13:52:02,744 - INFO - Connection closed for 127.0.0.1:43510
2025-05-22 13:55:57,660 - INFO - Application shutdown event triggered.
2025-05-22 13:55:57,660 - INFO - MessageProcessor task cancelled.
2025-05-22 13:55:57,660 - INFO - QueueForwarder task cancelled.
2025-05-22 13:55:57,660 - INFO - All WebSocket connections attempted to close.
2025-05-22 13:55:57,660 - INFO - Application shutdown complete.
2025-05-22 15:56:58,825 - INFO - Application startup event triggered.
2025-05-22 15:56:58,825 - INFO - Initializing all queues...
2025-05-22 15:56:58,826 - INFO - All queues initialized on loop 614646368
2025-05-22 15:56:58,826 - INFO - Shared queues initialized.
2025-05-22 15:56:58,826 - INFO - Retrieved queue instances. Event loop ID: 614646368
2025-05-22 15:56:58,826 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 15:56:58,826 - INFO - MessageProcessor queues verified
2025-05-22 15:56:58,826 - INFO - MessageProcessor task started.
2025-05-22 15:56:58,826 - INFO - QueueForwarder queues verified
2025-05-22 15:56:58,826 - INFO - QueueForwarder task started.
2025-05-22 15:56:58,826 - INFO - Application startup complete. All core services initialized.
2025-05-22 15:56:58,826 - INFO - Starting MessageProcessor
2025-05-22 15:56:58,827 - INFO - Starting QueueForwarder
2025-05-22 15:57:12,377 - INFO - Application shutdown event triggered.
2025-05-22 15:57:12,377 - INFO - Stopping MessageProcessor...
2025-05-22 15:57:12,377 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 15:57:12,377 - INFO - QueueForwarder task cancelled.
2025-05-22 15:57:12,377 - INFO - All WebSocket connections attempted to close.
2025-05-22 15:57:12,378 - INFO - Application shutdown complete.
2025-05-22 15:57:24,549 - INFO - Application startup event triggered.
2025-05-22 15:57:24,549 - INFO - Initializing all queues...
2025-05-22 15:57:24,549 - INFO - All queues initialized on loop 387778688
2025-05-22 15:57:24,549 - INFO - Shared queues initialized.
2025-05-22 15:57:24,549 - INFO - Retrieved queue instances. Event loop ID: 387778688
2025-05-22 15:57:24,549 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 15:57:24,549 - INFO - MessageProcessor queues verified
2025-05-22 15:57:24,549 - INFO - MessageProcessor task started.
2025-05-22 15:57:24,549 - INFO - QueueForwarder queues verified
2025-05-22 15:57:24,549 - INFO - QueueForwarder task started.
2025-05-22 15:57:24,549 - INFO - Application startup complete. All core services initialized.
2025-05-22 15:57:24,550 - INFO - Starting MessageProcessor
2025-05-22 15:57:24,550 - INFO - Starting QueueForwarder
2025-05-22 15:57:25,863 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37246)
2025-05-22 15:57:25,863 - ERROR - Connection error for 127.0.0.1:37246: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-22 15:57:25,868 - INFO - Connection closed for 127.0.0.1:37246
2025-05-22 15:57:25,869 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 15:57:25,869 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=37246): Cannot call "send" once a close message has been sent.
2025-05-22 15:57:25,870 - INFO - Connection closed for Address(host='127.0.0.1', port=37246)
2025-05-22 15:57:25,870 - INFO - WebSocket connection closed cleanly
2025-05-22 15:57:25,877 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37260)
2025-05-22 15:57:25,877 - ERROR - Connection error for 127.0.0.1:37260: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-22 15:57:25,889 - INFO - Connection closed for 127.0.0.1:37260
2025-05-22 15:57:25,889 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 15:57:25,889 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=37260): Cannot call "send" once a close message has been sent.
2025-05-22 15:57:25,890 - INFO - Connection closed for Address(host='127.0.0.1', port=37260)
2025-05-22 15:57:25,890 - INFO - WebSocket connection closed cleanly
2025-05-22 15:57:39,293 - INFO - Application shutdown event triggered.
2025-05-22 15:57:39,293 - INFO - Stopping MessageProcessor...
2025-05-22 15:57:39,294 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 15:57:39,294 - INFO - QueueForwarder task cancelled.
2025-05-22 15:57:39,294 - INFO - All WebSocket connections attempted to close.
2025-05-22 15:57:39,294 - INFO - Application shutdown complete.
2025-05-22 16:00:00,584 - INFO - Application startup event triggered.
2025-05-22 16:00:00,585 - INFO - Initializing all queues...
2025-05-22 16:00:00,585 - INFO - All queues initialized on loop 808941696
2025-05-22 16:00:00,585 - INFO - Shared queues initialized.
2025-05-22 16:00:00,585 - INFO - Retrieved queue instances. Event loop ID: 808941696
2025-05-22 16:00:00,585 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:00:00,585 - INFO - MessageProcessor queues verified
2025-05-22 16:00:00,585 - INFO - MessageProcessor task started.
2025-05-22 16:00:00,585 - INFO - QueueForwarder queues verified
2025-05-22 16:00:00,585 - INFO - QueueForwarder task started.
2025-05-22 16:00:00,585 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:00:00,586 - INFO - Starting MessageProcessor
2025-05-22 16:00:00,586 - INFO - Starting QueueForwarder
2025-05-22 16:00:01,880 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=52928)
2025-05-22 16:00:01,881 - ERROR - Connection error for 127.0.0.1:52928: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-22 16:00:01,885 - INFO - Connection closed for 127.0.0.1:52928
2025-05-22 16:00:01,885 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:00:01,885 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=52928): Cannot call "send" once a close message has been sent.
2025-05-22 16:00:01,885 - INFO - Connection closed for Address(host='127.0.0.1', port=52928)
2025-05-22 16:00:01,885 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 16:00:01,893 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=52934)
2025-05-22 16:00:01,894 - ERROR - Connection error for 127.0.0.1:52934: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-22 16:00:01,904 - INFO - Connection closed for 127.0.0.1:52934
2025-05-22 16:00:01,905 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:00:01,905 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=52934): Cannot call "send" once a close message has been sent.
2025-05-22 16:00:01,905 - INFO - Connection closed for Address(host='127.0.0.1', port=52934)
2025-05-22 16:00:01,905 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 16:00:03,328 - INFO - Simulation task starting
2025-05-22 16:00:03,329 - INFO - System message enqueued to backend queue
2025-05-22 16:00:21,953 - INFO - Application shutdown event triggered.
2025-05-22 16:00:21,953 - INFO - SimulationManager stopped.
2025-05-22 16:00:21,953 - INFO - Stopping MessageProcessor...
2025-05-22 16:00:21,953 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 16:00:21,954 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:00:21,954 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:00:21,954 - INFO - Application shutdown complete.
2025-05-22 16:03:08,875 - INFO - Application startup event triggered.
2025-05-22 16:03:08,875 - INFO - Initializing all queues...
2025-05-22 16:03:08,875 - INFO - All queues initialized on loop 795453568
2025-05-22 16:03:08,875 - INFO - Shared queues initialized.
2025-05-22 16:03:08,875 - INFO - Retrieved queue instances. Event loop ID: 795453568
2025-05-22 16:03:08,875 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:03:08,876 - INFO - MessageProcessor queues verified
2025-05-22 16:03:08,876 - INFO - MessageProcessor task started.
2025-05-22 16:03:08,876 - INFO - QueueForwarder queues verified
2025-05-22 16:03:08,876 - INFO - QueueForwarder task started.
2025-05-22 16:03:08,876 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:03:08,876 - INFO - Starting MessageProcessor
2025-05-22 16:03:08,877 - INFO - Starting QueueForwarder
2025-05-22 16:03:10,201 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=45202)
2025-05-22 16:03:10,205 - ERROR - Receive error: 1001
2025-05-22 16:03:10,206 - ERROR - Error closing WebSocket for 127.0.0.1:45202: Unexpected ASGI message 'websocket.close', after sending 'websocket.close'.
2025-05-22 16:03:10,206 - INFO - Connection closed for 127.0.0.1:45202
2025-05-22 16:03:10,206 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:03:10,206 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=45202): Cannot call "send" once a close message has been sent.
2025-05-22 16:03:10,206 - INFO - Connection closed for Address(host='127.0.0.1', port=45202)
2025-05-22 16:03:10,206 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=45202)
2025-05-22 16:03:10,214 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=45214)
2025-05-22 16:03:17,886 - INFO - Simulation task starting
2025-05-22 16:03:17,886 - INFO - System message enqueued to backend queue
2025-05-22 16:03:17,887 - ERROR - Send error: Cannot call "send" once a close message has been sent.
2025-05-22 16:03:26,029 - ERROR - Receive error: 1012
2025-05-22 16:03:26,030 - ERROR - Error closing WebSocket for 127.0.0.1:45214: Unexpected ASGI message 'websocket.close', after sending 'websocket.close'.
2025-05-22 16:03:26,030 - INFO - Connection closed for 127.0.0.1:45214
2025-05-22 16:03:26,030 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:03:26,030 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=45214): Cannot call "send" once a close message has been sent.
2025-05-22 16:03:26,030 - INFO - Connection closed for Address(host='127.0.0.1', port=45214)
2025-05-22 16:03:26,030 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=45214)
2025-05-22 16:03:26,233 - INFO - Application shutdown event triggered.
2025-05-22 16:03:26,233 - INFO - SimulationManager stopped.
2025-05-22 16:03:26,233 - INFO - Stopping MessageProcessor...
2025-05-22 16:03:26,233 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:03:26,233 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:03:26,233 - INFO - Application shutdown complete.
2025-05-22 16:05:54,855 - INFO - Application startup event triggered.
2025-05-22 16:05:54,855 - INFO - Initializing all queues...
2025-05-22 16:05:54,856 - INFO - All queues initialized on loop 776222848
2025-05-22 16:05:54,856 - INFO - Shared queues initialized.
2025-05-22 16:05:54,856 - INFO - Retrieved queue instances. Event loop ID: 776222848
2025-05-22 16:05:54,856 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:05:54,856 - INFO - MessageProcessor queues verified
2025-05-22 16:05:54,856 - INFO - MessageProcessor task started.
2025-05-22 16:05:54,856 - INFO - QueueForwarder queues verified
2025-05-22 16:05:54,856 - INFO - QueueForwarder task started.
2025-05-22 16:05:54,856 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:05:54,856 - INFO - Starting MessageProcessor
2025-05-22 16:05:54,856 - INFO - Starting QueueForwarder
2025-05-22 16:05:56,160 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35564)
2025-05-22 16:05:56,163 - ERROR - Receive error: 1001
2025-05-22 16:05:56,163 - ERROR - Error closing WebSocket for 127.0.0.1:35564: Unexpected ASGI message 'websocket.close', after sending 'websocket.close'.
2025-05-22 16:05:56,163 - INFO - Connection closed for 127.0.0.1:35564
2025-05-22 16:05:56,164 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:05:56,164 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=35564): Cannot call "send" once a close message has been sent.
2025-05-22 16:05:56,164 - INFO - Connection closed for Address(host='127.0.0.1', port=35564)
2025-05-22 16:05:56,164 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=35564)
2025-05-22 16:05:56,173 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35574)
2025-05-22 16:05:58,354 - INFO - Simulation task starting
2025-05-22 16:05:58,355 - INFO - System message enqueued to backend queue
2025-05-22 16:05:58,355 - ERROR - Send error: Cannot call "send" once a close message has been sent.
2025-05-22 16:06:12,907 - ERROR - Receive error: 1012
2025-05-22 16:06:12,907 - ERROR - Error closing WebSocket for 127.0.0.1:35574: Unexpected ASGI message 'websocket.close', after sending 'websocket.close'.
2025-05-22 16:06:12,907 - INFO - Connection closed for 127.0.0.1:35574
2025-05-22 16:06:12,908 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:06:12,908 - ERROR - Error closing WebSocket for Address(host='127.0.0.1', port=35574): Cannot call "send" once a close message has been sent.
2025-05-22 16:06:12,908 - INFO - Connection closed for Address(host='127.0.0.1', port=35574)
2025-05-22 16:06:12,908 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=35574)
2025-05-22 16:06:13,010 - INFO - Application shutdown event triggered.
2025-05-22 16:06:13,010 - INFO - SimulationManager stopped.
2025-05-22 16:06:13,010 - INFO - Stopping MessageProcessor...
2025-05-22 16:06:13,010 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:06:13,011 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:06:13,011 - INFO - Application shutdown complete.
2025-05-22 16:08:45,244 - INFO - Application startup event triggered.
2025-05-22 16:08:45,244 - INFO - Initializing all queues...
2025-05-22 16:08:45,244 - INFO - All queues initialized on loop 836790672
2025-05-22 16:08:45,244 - INFO - Shared queues initialized.
2025-05-22 16:08:45,244 - INFO - Retrieved queue instances. Event loop ID: 836790672
2025-05-22 16:08:45,245 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:08:45,245 - INFO - MessageProcessor queues verified
2025-05-22 16:08:45,245 - INFO - MessageProcessor task started.
2025-05-22 16:08:45,245 - INFO - QueueForwarder queues verified
2025-05-22 16:08:45,245 - INFO - QueueForwarder task started.
2025-05-22 16:08:45,245 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:08:45,245 - INFO - Starting MessageProcessor
2025-05-22 16:08:45,245 - INFO - Starting QueueForwarder
2025-05-22 16:09:06,509 - INFO - Application shutdown event triggered.
2025-05-22 16:09:06,510 - INFO - Stopping MessageProcessor...
2025-05-22 16:09:06,510 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 16:09:06,510 - INFO - QueueForwarder task cancelled.
2025-05-22 16:09:06,510 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:09:06,510 - INFO - Application shutdown complete.
2025-05-22 16:09:21,271 - INFO - Application startup event triggered.
2025-05-22 16:09:21,271 - INFO - Initializing all queues...
2025-05-22 16:09:21,271 - INFO - All queues initialized on loop 1078958208
2025-05-22 16:09:21,271 - INFO - Shared queues initialized.
2025-05-22 16:09:21,271 - INFO - Retrieved queue instances. Event loop ID: 1078958208
2025-05-22 16:09:21,271 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:09:21,271 - INFO - MessageProcessor queues verified
2025-05-22 16:09:21,271 - INFO - MessageProcessor task started.
2025-05-22 16:09:21,271 - INFO - QueueForwarder queues verified
2025-05-22 16:09:21,272 - INFO - QueueForwarder task started.
2025-05-22 16:09:21,272 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:09:21,272 - INFO - Starting MessageProcessor
2025-05-22 16:09:21,272 - INFO - Starting QueueForwarder
2025-05-22 16:09:22,558 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54618)
2025-05-22 16:09:22,565 - ERROR - Receive error: 1001
2025-05-22 16:09:22,565 - INFO - Connection cleanup completed for 127.0.0.1:54618
2025-05-22 16:09:22,565 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:09:22,565 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54618)
2025-05-22 16:09:22,566 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=54618)
2025-05-22 16:09:22,573 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54628)
2025-05-22 16:09:24,783 - INFO - Simulation task starting
2025-05-22 16:09:24,784 - INFO - System message enqueued to backend queue
2025-05-22 16:09:24,784 - ERROR - Send error: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-22 16:09:31,809 - ERROR - Receive error: 1012
2025-05-22 16:09:31,810 - INFO - Connection cleanup completed for 127.0.0.1:54628
2025-05-22 16:09:31,810 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:09:31,810 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54628)
2025-05-22 16:09:31,810 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=54628)
2025-05-22 16:09:32,014 - INFO - Application shutdown event triggered.
2025-05-22 16:09:32,014 - INFO - SimulationManager stopped.
2025-05-22 16:09:32,014 - INFO - Stopping MessageProcessor...
2025-05-22 16:09:32,014 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:09:32,014 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:09:32,014 - INFO - Application shutdown complete.
2025-05-22 16:10:51,412 - INFO - Application startup event triggered.
2025-05-22 16:10:51,412 - INFO - Initializing all queues...
2025-05-22 16:10:51,412 - INFO - All queues initialized on loop 457562240
2025-05-22 16:10:51,413 - INFO - Shared queues initialized.
2025-05-22 16:10:51,413 - INFO - Retrieved queue instances. Event loop ID: 457562240
2025-05-22 16:10:51,413 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:10:51,413 - INFO - MessageProcessor queues verified
2025-05-22 16:10:51,413 - INFO - MessageProcessor task started.
2025-05-22 16:10:51,413 - INFO - QueueForwarder queues verified
2025-05-22 16:10:51,414 - INFO - QueueForwarder task started.
2025-05-22 16:10:51,414 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:10:51,414 - INFO - Starting MessageProcessor
2025-05-22 16:10:51,414 - INFO - Starting QueueForwarder
2025-05-22 16:10:52,724 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57560)
2025-05-22 16:10:52,728 - ERROR - Receive error: 1001
2025-05-22 16:10:52,728 - INFO - Connection cleanup completed for 127.0.0.1:57560
2025-05-22 16:10:52,728 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:10:52,729 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=57560)
2025-05-22 16:10:52,729 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=57560)
2025-05-22 16:10:52,737 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57568)
2025-05-22 16:13:51,621 - ERROR - Receive error: 1012
2025-05-22 16:13:51,621 - INFO - Connection cleanup completed for 127.0.0.1:57568
2025-05-22 16:13:51,621 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:13:51,621 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=57568)
2025-05-22 16:13:51,621 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=57568)
2025-05-22 16:13:51,720 - INFO - Application shutdown event triggered.
2025-05-22 16:13:51,720 - INFO - Stopping MessageProcessor...
2025-05-22 16:13:51,721 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 16:13:51,721 - INFO - QueueForwarder task cancelled.
2025-05-22 16:13:51,721 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:13:51,721 - INFO - Application shutdown complete.
2025-05-22 16:19:30,169 - INFO - Application startup event triggered.
2025-05-22 16:19:30,169 - INFO - Initializing all queues...
2025-05-22 16:19:30,170 - INFO - All queues initialized on loop 820889728
2025-05-22 16:19:30,170 - INFO - Shared queues initialized.
2025-05-22 16:19:30,170 - INFO - Retrieved queue instances. Event loop ID: 820889728
2025-05-22 16:19:30,170 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:19:30,170 - INFO - MessageProcessor queues verified
2025-05-22 16:19:30,170 - INFO - MessageProcessor task started.
2025-05-22 16:19:30,170 - INFO - QueueForwarder queues verified
2025-05-22 16:19:30,170 - INFO - QueueForwarder task started.
2025-05-22 16:19:30,170 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:19:30,171 - INFO - Starting MessageProcessor
2025-05-22 16:19:30,171 - INFO - Starting QueueForwarder
2025-05-22 16:19:31,492 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37550)
2025-05-22 16:19:31,506 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37566)
2025-05-22 16:19:31,517 - ERROR - Receive error: 1001
2025-05-22 16:19:31,518 - INFO - Connection cleanup completed for 127.0.0.1:37550
2025-05-22 16:19:31,518 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:19:31,518 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=37550)
2025-05-22 16:19:31,518 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=37550)
2025-05-22 16:19:33,053 - INFO - Simulation task starting
2025-05-22 16:19:33,053 - INFO - System message enqueued to backend queue
2025-05-22 16:19:33,053 - ERROR - Send error: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-22 16:20:01,523 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 16:20:01,523 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 16:20:01,524 - INFO - Closed WebSocket connection for 127.0.0.1:37566
2025-05-22 16:20:01,525 - INFO - Connection cleanup completed for 127.0.0.1:37566
2025-05-22 16:20:01,525 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:20:01,525 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=37566)
2025-05-22 16:20:01,525 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 16:22:52,149 - INFO - Application shutdown event triggered.
2025-05-22 16:22:52,149 - INFO - SimulationManager stopped.
2025-05-22 16:22:52,149 - INFO - Stopping MessageProcessor...
2025-05-22 16:22:52,149 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:22:52,150 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:22:52,150 - INFO - Application shutdown complete.
2025-05-22 16:24:08,339 - INFO - Application startup event triggered.
2025-05-22 16:24:08,339 - INFO - Initializing all queues...
2025-05-22 16:24:08,339 - INFO - All queues initialized on loop 74520704
2025-05-22 16:24:08,339 - INFO - Shared queues initialized.
2025-05-22 16:24:08,340 - INFO - Retrieved queue instances. Event loop ID: 74520704
2025-05-22 16:24:08,340 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:24:08,340 - INFO - MessageProcessor queues verified
2025-05-22 16:24:08,340 - INFO - MessageProcessor task started.
2025-05-22 16:24:08,340 - INFO - QueueForwarder queues verified
2025-05-22 16:24:08,340 - INFO - QueueForwarder task started.
2025-05-22 16:24:08,340 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:24:08,340 - INFO - Starting MessageProcessor
2025-05-22 16:24:08,340 - INFO - Starting QueueForwarder
2025-05-22 16:24:09,710 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=55562)
2025-05-22 16:24:12,198 - INFO - Simulation task starting
2025-05-22 16:24:12,198 - INFO - System message enqueued to backend queue
2025-05-22 16:24:39,717 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 16:24:39,717 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 16:24:39,719 - INFO - Closed WebSocket connection for 127.0.0.1:55562
2025-05-22 16:24:39,719 - INFO - Connection cleanup completed for 127.0.0.1:55562
2025-05-22 16:24:39,719 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:24:39,719 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=55562)
2025-05-22 16:24:39,719 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 16:24:45,050 - INFO - Application shutdown event triggered.
2025-05-22 16:24:45,051 - INFO - SimulationManager stopped.
2025-05-22 16:24:45,051 - INFO - Stopping MessageProcessor...
2025-05-22 16:24:45,051 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:24:45,051 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:24:45,051 - INFO - Application shutdown complete.
2025-05-22 16:25:59,235 - INFO - Application startup event triggered.
2025-05-22 16:25:59,235 - INFO - Initializing all queues...
2025-05-22 16:25:59,236 - INFO - All queues initialized on loop 435837056
2025-05-22 16:25:59,236 - INFO - Shared queues initialized.
2025-05-22 16:25:59,236 - INFO - Retrieved queue instances. Event loop ID: 435837056
2025-05-22 16:25:59,236 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:25:59,236 - INFO - MessageProcessor queues verified
2025-05-22 16:25:59,236 - INFO - MessageProcessor task started.
2025-05-22 16:25:59,236 - INFO - QueueForwarder queues verified
2025-05-22 16:25:59,236 - INFO - QueueForwarder task started.
2025-05-22 16:25:59,236 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:25:59,236 - INFO - Starting MessageProcessor
2025-05-22 16:25:59,237 - INFO - Starting QueueForwarder
2025-05-22 16:26:00,547 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=40200)
2025-05-22 16:26:09,104 - INFO - Simulation task starting
2025-05-22 16:26:09,104 - INFO - System message enqueued to backend queue
2025-05-22 16:26:23,289 - ERROR - Receive error: 1001
2025-05-22 16:26:23,289 - INFO - Connection cleanup completed for 127.0.0.1:40200
2025-05-22 16:26:23,290 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:26:23,290 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=40200)
2025-05-22 16:26:23,290 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=40200)
2025-05-22 16:27:30,300 - INFO - Application shutdown event triggered.
2025-05-22 16:27:30,300 - INFO - SimulationManager stopped.
2025-05-22 16:27:30,300 - INFO - Stopping MessageProcessor...
2025-05-22 16:27:30,300 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:27:30,300 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:27:30,300 - INFO - Application shutdown complete.
2025-05-22 16:28:20,364 - INFO - Application startup event triggered.
2025-05-22 16:28:20,364 - INFO - Initializing all queues...
2025-05-22 16:28:20,364 - INFO - All queues initialized on loop 926341248
2025-05-22 16:28:20,364 - INFO - Shared queues initialized.
2025-05-22 16:28:20,364 - INFO - Retrieved queue instances. Event loop ID: 926341248
2025-05-22 16:28:20,364 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:28:20,364 - INFO - MessageProcessor queues verified
2025-05-22 16:28:20,364 - INFO - MessageProcessor task started.
2025-05-22 16:28:20,365 - INFO - QueueForwarder queues verified
2025-05-22 16:28:20,365 - INFO - QueueForwarder task started.
2025-05-22 16:28:20,365 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:28:20,365 - INFO - Starting MessageProcessor
2025-05-22 16:28:20,365 - INFO - Starting QueueForwarder
2025-05-22 16:28:21,686 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44362)
2025-05-22 16:28:23,122 - INFO - Simulation task starting
2025-05-22 16:28:23,123 - INFO - System message enqueued to backend queue
2025-05-22 16:28:43,612 - ERROR - Receive error: 1001
2025-05-22 16:28:43,612 - INFO - Connection cleanup completed for 127.0.0.1:44362
2025-05-22 16:28:43,612 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:28:43,612 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=44362)
2025-05-22 16:28:43,613 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=44362)
2025-05-22 16:29:39,101 - INFO - Application shutdown event triggered.
2025-05-22 16:29:39,101 - INFO - SimulationManager stopped.
2025-05-22 16:29:39,101 - INFO - Stopping MessageProcessor...
2025-05-22 16:29:39,101 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:29:39,101 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:29:39,102 - INFO - Application shutdown complete.
2025-05-22 16:33:19,092 - INFO - Application startup event triggered.
2025-05-22 16:33:19,092 - INFO - Initializing all queues...
2025-05-22 16:33:19,092 - INFO - All queues initialized on loop 400025728
2025-05-22 16:33:19,092 - INFO - Shared queues initialized.
2025-05-22 16:33:19,092 - INFO - Retrieved queue instances. Event loop ID: 400025728
2025-05-22 16:33:19,092 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:33:19,092 - INFO - MessageProcessor queues verified
2025-05-22 16:33:19,093 - INFO - MessageProcessor task started.
2025-05-22 16:33:19,093 - INFO - QueueForwarder queues verified
2025-05-22 16:33:19,093 - INFO - QueueForwarder task started.
2025-05-22 16:33:19,093 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:33:19,093 - INFO - Starting MessageProcessor
2025-05-22 16:33:19,093 - INFO - Starting QueueForwarder
2025-05-22 16:33:20,396 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=46572)
2025-05-22 16:33:22,371 - INFO - Simulation task starting
2025-05-22 16:33:22,371 - INFO - System message enqueued to backend queue
2025-05-22 16:33:50,418 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 16:33:50,418 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 16:33:50,420 - INFO - Closed WebSocket connection for 127.0.0.1:46572
2025-05-22 16:33:50,420 - INFO - Connection cleanup completed for 127.0.0.1:46572
2025-05-22 16:33:50,420 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 16:33:50,420 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=46572)
2025-05-22 16:33:50,420 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 16:34:15,258 - INFO - Application shutdown event triggered.
2025-05-22 16:34:15,258 - INFO - SimulationManager stopped.
2025-05-22 16:34:15,258 - INFO - Stopping MessageProcessor...
2025-05-22 16:34:15,258 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:34:15,258 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:34:15,258 - INFO - Application shutdown complete.
2025-05-22 16:35:33,702 - INFO - Application startup event triggered.
2025-05-22 16:35:33,702 - INFO - Initializing all queues...
2025-05-22 16:35:33,702 - INFO - All queues initialized on loop 628861056
2025-05-22 16:35:33,703 - INFO - Shared queues initialized.
2025-05-22 16:35:33,703 - INFO - Retrieved queue instances. Event loop ID: 628861056
2025-05-22 16:35:33,703 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:35:33,703 - INFO - MessageProcessor queues verified
2025-05-22 16:35:33,703 - INFO - MessageProcessor task started.
2025-05-22 16:35:33,703 - INFO - QueueForwarder queues verified
2025-05-22 16:35:33,703 - INFO - QueueForwarder task started.
2025-05-22 16:35:33,703 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:35:33,703 - INFO - Starting MessageProcessor
2025-05-22 16:35:33,704 - INFO - Starting QueueForwarder
2025-05-22 16:35:35,013 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=48280)
2025-05-22 16:35:36,836 - INFO - Simulation task starting
2025-05-22 16:35:36,836 - INFO - System message enqueued to backend queue
2025-05-22 16:36:01,583 - ERROR - Receive error: 1012
2025-05-22 16:36:01,584 - INFO - Connection cleanup completed for 127.0.0.1:48280
2025-05-22 16:36:01,584 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:36:01,584 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=48280)
2025-05-22 16:36:01,585 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=48280)
2025-05-22 16:36:03,090 - INFO - Application shutdown event triggered.
2025-05-22 16:36:03,090 - INFO - SimulationManager stopped.
2025-05-22 16:36:03,090 - INFO - Stopping MessageProcessor...
2025-05-22 16:36:03,090 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:36:03,091 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:36:03,091 - INFO - Application shutdown complete.
2025-05-22 16:40:35,873 - INFO - Application startup event triggered.
2025-05-22 16:40:35,873 - INFO - Initializing all queues...
2025-05-22 16:40:35,873 - INFO - All queues initialized on loop 927676544
2025-05-22 16:40:35,873 - INFO - Shared queues initialized.
2025-05-22 16:40:35,873 - INFO - Retrieved queue instances. Event loop ID: 927676544
2025-05-22 16:40:35,873 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:40:35,874 - INFO - MessageProcessor queues verified
2025-05-22 16:40:35,874 - INFO - MessageProcessor task started.
2025-05-22 16:40:35,874 - INFO - QueueForwarder queues verified
2025-05-22 16:40:35,874 - INFO - QueueForwarder task started.
2025-05-22 16:40:35,874 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:40:35,874 - INFO - Starting MessageProcessor
2025-05-22 16:40:35,874 - INFO - Starting QueueForwarder
2025-05-22 16:40:37,156 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35618)
2025-05-22 16:40:38,528 - INFO - Simulation task starting
2025-05-22 16:40:38,528 - INFO - System message enqueued to backend queue
2025-05-22 16:40:54,828 - ERROR - Receive error: 1012
2025-05-22 16:40:54,829 - INFO - Connection cleanup completed for 127.0.0.1:35618
2025-05-22 16:40:54,829 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:40:54,829 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=35618)
2025-05-22 16:40:54,829 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=35618)
2025-05-22 16:40:55,032 - INFO - Application shutdown event triggered.
2025-05-22 16:40:55,032 - INFO - SimulationManager stopped.
2025-05-22 16:40:55,032 - INFO - Stopping MessageProcessor...
2025-05-22 16:40:55,032 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:40:55,033 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:40:55,033 - INFO - Application shutdown complete.
2025-05-22 16:43:30,992 - INFO - Application startup event triggered.
2025-05-22 16:43:30,993 - INFO - Initializing all queues...
2025-05-22 16:43:30,993 - INFO - All queues initialized on loop 84994176
2025-05-22 16:43:30,993 - INFO - Shared queues initialized.
2025-05-22 16:43:30,993 - INFO - Retrieved queue instances. Event loop ID: 84994176
2025-05-22 16:43:30,993 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:43:30,993 - INFO - MessageProcessor queues verified
2025-05-22 16:43:30,993 - INFO - MessageProcessor task started.
2025-05-22 16:43:30,993 - INFO - QueueForwarder queues verified
2025-05-22 16:43:30,993 - INFO - QueueForwarder task started.
2025-05-22 16:43:30,993 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:43:30,994 - INFO - Starting MessageProcessor
2025-05-22 16:43:30,994 - INFO - Starting QueueForwarder
2025-05-22 16:43:32,270 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=59444)
2025-05-22 16:43:34,707 - INFO - Simulation task starting
2025-05-22 16:43:34,708 - INFO - System message enqueued to backend queue
2025-05-22 16:44:00,407 - ERROR - Receive error: 1001
2025-05-22 16:44:00,407 - INFO - Connection cleanup completed for 127.0.0.1:59444
2025-05-22 16:44:00,408 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 16:44:00,408 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=59444)
2025-05-22 16:44:00,408 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=59444)
2025-05-22 16:44:02,496 - INFO - Application shutdown event triggered.
2025-05-22 16:44:02,496 - INFO - SimulationManager stopped.
2025-05-22 16:44:02,496 - INFO - Stopping MessageProcessor...
2025-05-22 16:44:02,496 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 16:44:02,496 - INFO - All WebSocket connections attempted to close.
2025-05-22 16:44:02,496 - INFO - Application shutdown complete.
2025-05-22 16:59:30,177 - INFO - Application startup event triggered.
2025-05-22 16:59:30,178 - INFO - Initializing all queues...
2025-05-22 16:59:30,178 - INFO - All queues initialized on loop 700074112
2025-05-22 16:59:30,178 - INFO - Shared queues initialized.
2025-05-22 16:59:30,178 - INFO - Retrieved queue instances. Event loop ID: 700074112
2025-05-22 16:59:30,178 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 16:59:30,178 - INFO - MessageProcessor queues verified
2025-05-22 16:59:30,178 - INFO - MessageProcessor task started.
2025-05-22 16:59:30,178 - INFO - QueueForwarder queues verified
2025-05-22 16:59:30,178 - INFO - QueueForwarder task started.
2025-05-22 16:59:30,178 - INFO - Application startup complete. All core services initialized.
2025-05-22 16:59:30,178 - INFO - Starting MessageProcessor
2025-05-22 16:59:30,178 - INFO - Starting QueueForwarder
2025-05-22 16:59:31,886 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=47660)
2025-05-22 16:59:33,069 - INFO - Simulation task starting
2025-05-22 16:59:33,070 - INFO - System message enqueued to backend queue
2025-05-22 17:00:02,827 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 17:00:02,827 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 17:00:02,828 - INFO - Closed WebSocket connection for 127.0.0.1:47660
2025-05-22 17:00:02,828 - INFO - Connection cleanup completed for 127.0.0.1:47660
2025-05-22 17:00:02,828 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 17:00:02,828 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=47660)
2025-05-22 17:00:02,828 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 17:00:41,664 - INFO - Application shutdown event triggered.
2025-05-22 17:00:41,664 - INFO - SimulationManager stopped.
2025-05-22 17:00:41,664 - INFO - Stopping MessageProcessor...
2025-05-22 17:00:41,664 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 17:00:41,664 - INFO - All WebSocket connections attempted to close.
2025-05-22 17:00:41,664 - INFO - Application shutdown complete.
2025-05-22 17:01:49,102 - INFO - Application startup event triggered.
2025-05-22 17:01:49,102 - INFO - Initializing all queues...
2025-05-22 17:01:49,102 - INFO - All queues initialized on loop 472103040
2025-05-22 17:01:49,102 - INFO - Shared queues initialized.
2025-05-22 17:01:49,102 - INFO - Retrieved queue instances. Event loop ID: 472103040
2025-05-22 17:01:49,102 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 17:01:49,102 - INFO - MessageProcessor queues verified
2025-05-22 17:01:49,102 - INFO - MessageProcessor task started.
2025-05-22 17:01:49,102 - INFO - QueueForwarder queues verified
2025-05-22 17:01:49,102 - INFO - QueueForwarder task started.
2025-05-22 17:01:49,102 - INFO - Application startup complete. All core services initialized.
2025-05-22 17:01:49,103 - INFO - Starting MessageProcessor
2025-05-22 17:01:49,103 - INFO - Starting QueueForwarder
2025-05-22 17:01:50,829 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=50690)
2025-05-22 17:01:51,951 - INFO - Simulation task starting
2025-05-22 17:01:51,951 - INFO - System message enqueued to backend queue
2025-05-22 17:02:09,373 - ERROR - Receive error: 1001
2025-05-22 17:02:09,373 - INFO - Connection cleanup completed for 127.0.0.1:50690
2025-05-22 17:02:09,373 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 17:02:09,374 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=50690)
2025-05-22 17:02:09,374 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=50690)
2025-05-22 17:02:34,725 - INFO - Application shutdown event triggered.
2025-05-22 17:02:34,725 - INFO - SimulationManager stopped.
2025-05-22 17:02:34,725 - INFO - Stopping MessageProcessor...
2025-05-22 17:02:34,725 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 17:02:34,725 - INFO - All WebSocket connections attempted to close.
2025-05-22 17:02:34,725 - INFO - Application shutdown complete.
2025-05-22 17:05:01,103 - INFO - Application startup event triggered.
2025-05-22 17:05:01,104 - INFO - Initializing all queues...
2025-05-22 17:05:01,104 - INFO - All queues initialized on loop 331233408
2025-05-22 17:05:01,104 - INFO - Shared queues initialized.
2025-05-22 17:05:01,104 - INFO - Retrieved queue instances. Event loop ID: 331233408
2025-05-22 17:05:01,104 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 17:05:01,104 - INFO - MessageProcessor queues verified
2025-05-22 17:05:01,104 - INFO - MessageProcessor task started.
2025-05-22 17:05:01,104 - INFO - QueueForwarder queues verified
2025-05-22 17:05:01,104 - INFO - QueueForwarder task started.
2025-05-22 17:05:01,104 - INFO - Application startup complete. All core services initialized.
2025-05-22 17:05:01,104 - INFO - Starting MessageProcessor
2025-05-22 17:05:01,104 - INFO - Starting QueueForwarder
2025-05-22 17:05:02,774 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=46742)
2025-05-22 17:05:03,871 - INFO - Simulation task starting
2025-05-22 17:05:03,871 - INFO - System message enqueued to backend queue
2025-05-22 17:05:17,390 - ERROR - Receive error: 1001
2025-05-22 17:05:17,391 - INFO - Connection cleanup completed for 127.0.0.1:46742
2025-05-22 17:05:17,391 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 17:05:17,391 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=46742)
2025-05-22 17:05:17,391 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=46742)
2025-05-22 17:05:19,055 - INFO - Application shutdown event triggered.
2025-05-22 17:05:19,056 - INFO - SimulationManager stopped.
2025-05-22 17:05:19,056 - INFO - Stopping MessageProcessor...
2025-05-22 17:05:19,058 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 17:05:19,058 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 17:05:19,058 - INFO - All WebSocket connections attempted to close.
2025-05-22 17:05:19,059 - INFO - Application shutdown complete.
2025-05-22 17:12:45,192 - INFO - Application startup event triggered.
2025-05-22 17:12:45,192 - INFO - Initializing all queues...
2025-05-22 17:12:45,192 - INFO - All queues initialized on loop 998127744
2025-05-22 17:12:45,192 - INFO - Shared queues initialized.
2025-05-22 17:12:45,192 - INFO - Retrieved queue instances. Event loop ID: 998127744
2025-05-22 17:12:45,192 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 17:12:45,193 - INFO - MessageProcessor queues verified
2025-05-22 17:12:45,193 - INFO - MessageProcessor task started.
2025-05-22 17:12:45,193 - INFO - QueueForwarder queues verified
2025-05-22 17:12:45,193 - INFO - QueueForwarder task started.
2025-05-22 17:12:45,193 - INFO - Application startup complete. All core services initialized.
2025-05-22 17:12:45,193 - INFO - Starting MessageProcessor
2025-05-22 17:12:45,193 - INFO - Starting QueueForwarder
2025-05-22 17:12:46,908 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=52376)
2025-05-22 17:13:03,804 - ERROR - Receive error: 1001
2025-05-22 17:13:03,804 - INFO - Connection cleanup completed for 127.0.0.1:52376
2025-05-22 17:13:03,804 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 17:13:03,804 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=52376)
2025-05-22 17:13:03,804 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=52376)
2025-05-22 17:13:07,658 - INFO - Application shutdown event triggered.
2025-05-22 17:13:07,658 - INFO - Stopping MessageProcessor...
2025-05-22 17:13:07,658 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 17:13:07,659 - INFO - QueueForwarder task cancelled.
2025-05-22 17:13:07,659 - INFO - All WebSocket connections attempted to close.
2025-05-22 17:13:07,659 - INFO - Application shutdown complete.
2025-05-22 17:15:58,980 - INFO - Application startup event triggered.
2025-05-22 17:15:58,980 - INFO - Initializing all queues...
2025-05-22 17:15:58,980 - INFO - All queues initialized on loop 419276928
2025-05-22 17:15:58,980 - INFO - Shared queues initialized.
2025-05-22 17:15:58,980 - INFO - Retrieved queue instances. Event loop ID: 419276928
2025-05-22 17:15:58,980 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 17:15:58,980 - INFO - MessageProcessor queues verified
2025-05-22 17:15:58,980 - INFO - MessageProcessor task started.
2025-05-22 17:15:58,980 - INFO - QueueForwarder queues verified
2025-05-22 17:15:58,981 - INFO - QueueForwarder task started.
2025-05-22 17:15:58,981 - INFO - Application startup complete. All core services initialized.
2025-05-22 17:15:58,981 - INFO - Starting MessageProcessor
2025-05-22 17:15:58,981 - INFO - Starting QueueForwarder
2025-05-22 17:16:00,696 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=41692)
2025-05-22 17:16:06,141 - INFO - Simulation task starting
2025-05-22 17:16:06,141 - INFO - System message enqueued to backend queue
2025-05-22 17:16:09,557 - ERROR - Receive error: 1001
2025-05-22 17:16:09,558 - INFO - Connection cleanup completed for 127.0.0.1:41692
2025-05-22 17:16:09,558 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 17:16:09,558 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=41692)
2025-05-22 17:16:09,558 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=41692)
2025-05-22 17:17:07,986 - INFO - Application shutdown event triggered.
2025-05-22 17:17:07,986 - INFO - SimulationManager stopped.
2025-05-22 17:17:07,986 - INFO - Stopping MessageProcessor...
2025-05-22 17:17:07,989 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 17:17:07,989 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 17:17:07,989 - INFO - All WebSocket connections attempted to close.
2025-05-22 17:17:07,989 - INFO - Application shutdown complete.
2025-05-22 17:18:10,545 - INFO - Application startup event triggered.
2025-05-22 17:18:10,545 - INFO - Initializing all queues...
2025-05-22 17:18:10,545 - INFO - All queues initialized on loop 564185216
2025-05-22 17:18:10,545 - INFO - Shared queues initialized.
2025-05-22 17:18:10,545 - INFO - Retrieved queue instances. Event loop ID: 564185216
2025-05-22 17:18:10,545 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 17:18:10,545 - INFO - MessageProcessor queues verified
2025-05-22 17:18:10,545 - INFO - MessageProcessor task started.
2025-05-22 17:18:10,545 - INFO - QueueForwarder queues verified
2025-05-22 17:18:10,545 - INFO - QueueForwarder task started.
2025-05-22 17:18:10,545 - INFO - Application startup complete. All core services initialized.
2025-05-22 17:18:10,545 - INFO - Starting MessageProcessor
2025-05-22 17:18:10,545 - INFO - Starting QueueForwarder
2025-05-22 17:18:12,271 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=41110)
2025-05-22 17:18:15,802 - INFO - Simulation task starting
2025-05-22 17:18:15,802 - INFO - System message enqueued to backend queue
2025-05-22 17:18:27,532 - ERROR - Receive error: 1001
2025-05-22 17:18:27,532 - INFO - Connection cleanup completed for 127.0.0.1:41110
2025-05-22 17:18:27,532 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 17:18:27,532 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=41110)
2025-05-22 17:18:27,532 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=41110)
2025-05-22 17:18:31,100 - INFO - Application shutdown event triggered.
2025-05-22 17:18:31,100 - INFO - SimulationManager stopped.
2025-05-22 17:18:31,101 - INFO - Stopping MessageProcessor...
2025-05-22 17:18:31,103 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 17:18:31,103 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 17:18:31,103 - INFO - All WebSocket connections attempted to close.
2025-05-22 17:18:31,103 - INFO - Application shutdown complete.
2025-05-22 17:19:46,868 - INFO - Application startup event triggered.
2025-05-22 17:19:46,868 - INFO - Initializing all queues...
2025-05-22 17:19:46,868 - INFO - All queues initialized on loop 139960834888464
2025-05-22 17:19:46,869 - INFO - Shared queues initialized.
2025-05-22 17:19:46,869 - INFO - Retrieved queue instances. Event loop ID: 139960834888464
2025-05-22 17:19:46,869 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 17:19:46,869 - INFO - MessageProcessor queues verified
2025-05-22 17:19:46,869 - INFO - MessageProcessor task started.
2025-05-22 17:19:46,869 - INFO - QueueForwarder queues verified
2025-05-22 17:19:46,869 - INFO - QueueForwarder task started.
2025-05-22 17:19:46,869 - INFO - Application startup complete. All core services initialized.
2025-05-22 17:19:46,869 - INFO - Starting MessageProcessor
2025-05-22 17:19:46,869 - INFO - Starting QueueForwarder
2025-05-22 17:19:48,403 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37004)
2025-05-22 17:19:52,906 - INFO - Simulation task starting
2025-05-22 17:19:52,906 - INFO - System message enqueued to backend queue
2025-05-22 17:20:05,933 - INFO - Simulation stopped
2025-05-22 17:20:08,693 - ERROR - Receive error: (1001, '')
2025-05-22 17:20:08,693 - INFO - Connection cleanup completed for 127.0.0.1:37004
2025-05-22 17:20:08,693 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-22 17:20:08,693 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=37004)
2025-05-22 17:20:08,693 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=37004)
2025-05-22 18:17:40,258 - INFO - Application startup event triggered.
2025-05-22 18:17:40,258 - INFO - Initializing all queues...
2025-05-22 18:17:40,258 - INFO - All queues initialized on loop 476424320
2025-05-22 18:17:40,258 - INFO - Shared queues initialized.
2025-05-22 18:17:40,258 - INFO - Retrieved queue instances. Event loop ID: 476424320
2025-05-22 18:17:40,258 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 18:17:40,258 - INFO - MessageProcessor queues verified
2025-05-22 18:17:40,258 - INFO - MessageProcessor task started.
2025-05-22 18:17:40,258 - INFO - QueueForwarder queues verified
2025-05-22 18:17:40,258 - INFO - QueueForwarder task started.
2025-05-22 18:17:40,258 - INFO - Application startup complete. All core services initialized.
2025-05-22 18:17:40,258 - INFO - Starting MessageProcessor
2025-05-22 18:17:40,258 - INFO - Starting QueueForwarder
2025-05-22 18:17:41,929 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=36604)
2025-05-22 18:17:43,581 - INFO - Simulation task starting
2025-05-22 18:17:43,581 - INFO - System message enqueued to backend queue
2025-05-22 18:18:11,940 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 18:18:11,940 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 18:18:11,941 - INFO - Closed WebSocket connection for 127.0.0.1:36604
2025-05-22 18:18:11,941 - INFO - Connection cleanup completed for 127.0.0.1:36604
2025-05-22 18:18:11,941 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 18:18:11,941 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=36604)
2025-05-22 18:18:11,941 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 18:18:33,380 - INFO - Application shutdown event triggered.
2025-05-22 18:18:33,380 - INFO - SimulationManager stopped.
2025-05-22 18:18:33,380 - INFO - Stopping MessageProcessor...
2025-05-22 18:18:33,380 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 18:18:33,380 - INFO - All WebSocket connections attempted to close.
2025-05-22 18:18:33,380 - INFO - Application shutdown complete.
2025-05-22 18:29:12,764 - INFO - Application startup event triggered.
2025-05-22 18:29:12,764 - INFO - Initializing all queues...
2025-05-22 18:29:12,764 - INFO - All queues initialized on loop 303675520
2025-05-22 18:29:12,765 - INFO - Shared queues initialized.
2025-05-22 18:29:12,765 - INFO - Retrieved queue instances. Event loop ID: 303675520
2025-05-22 18:29:12,765 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 18:29:12,765 - INFO - MessageProcessor queues verified
2025-05-22 18:29:12,765 - INFO - MessageProcessor task started.
2025-05-22 18:29:12,765 - INFO - QueueForwarder queues verified
2025-05-22 18:29:12,765 - INFO - QueueForwarder task started.
2025-05-22 18:29:12,765 - INFO - Application startup complete. All core services initialized.
2025-05-22 18:29:12,765 - INFO - Starting MessageProcessor
2025-05-22 18:29:12,765 - INFO - Starting QueueForwarder
2025-05-22 18:29:14,304 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=42396)
2025-05-22 18:29:44,315 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 18:29:44,315 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 18:29:44,315 - INFO - Closed WebSocket connection for 127.0.0.1:42396
2025-05-22 18:29:44,316 - INFO - Connection cleanup completed for 127.0.0.1:42396
2025-05-22 18:29:44,316 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 18:29:44,316 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=42396)
2025-05-22 18:29:44,316 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 18:54:49,199 - INFO - Application shutdown event triggered.
2025-05-22 18:54:49,199 - INFO - Stopping MessageProcessor...
2025-05-22 18:54:49,200 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-22 18:54:49,200 - INFO - All WebSocket connections attempted to close.
2025-05-22 18:54:49,200 - INFO - Application shutdown complete.
2025-05-22 18:54:51,510 - INFO - Application startup event triggered.
2025-05-22 18:54:51,510 - INFO - Initializing all queues...
2025-05-22 18:54:51,510 - INFO - All queues initialized on loop 604801152
2025-05-22 18:54:51,510 - INFO - Shared queues initialized.
2025-05-22 18:54:51,510 - INFO - Retrieved queue instances. Event loop ID: 604801152
2025-05-22 18:54:51,510 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 18:54:51,510 - INFO - MessageProcessor queues verified
2025-05-22 18:54:51,510 - INFO - MessageProcessor task started.
2025-05-22 18:54:51,510 - INFO - QueueForwarder queues verified
2025-05-22 18:54:51,510 - INFO - QueueForwarder task started.
2025-05-22 18:54:51,510 - INFO - Application startup complete. All core services initialized.
2025-05-22 18:54:51,510 - INFO - Starting MessageProcessor
2025-05-22 18:54:51,510 - INFO - Starting QueueForwarder
2025-05-22 18:54:53,076 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37088)
2025-05-22 18:55:23,090 - INFO - Enqueuing valid message of type 'ping'
2025-05-22 18:55:23,090 - ERROR - Receive error: Invalid message format for queue from_frontend
2025-05-22 18:55:23,090 - INFO - Closed WebSocket connection for 127.0.0.1:37088
2025-05-22 18:55:23,091 - INFO - Connection cleanup completed for 127.0.0.1:37088
2025-05-22 18:55:23,091 - ERROR - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-05-22 18:55:23,091 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=37088)
2025-05-22 18:55:23,091 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-22 20:19:52,338 - INFO - Application shutdown event triggered.
2025-05-22 20:19:52,338 - INFO - Stopping MessageProcessor...
2025-05-22 20:19:52,339 - WARNING - MessageProcessor didn't stop cleanly
2025-05-22 20:19:52,339 - INFO - QueueForwarder task cancelled.
2025-05-22 20:19:52,339 - INFO - All WebSocket connections attempted to close.
2025-05-22 20:19:52,339 - INFO - Application shutdown complete.
2025-05-22 20:19:53,272 - INFO - Application startup event triggered.
2025-05-22 20:19:53,272 - INFO - Initializing all queues...
2025-05-22 20:19:53,272 - INFO - All queues initialized on loop 955973840
2025-05-22 20:19:53,272 - INFO - Shared queues initialized.
2025-05-22 20:19:53,272 - INFO - Retrieved queue instances. Event loop ID: 955973840
2025-05-22 20:19:53,272 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 20:19:53,272 - INFO - MessageProcessor queues verified
2025-05-22 20:19:53,272 - INFO - MessageProcessor task started.
2025-05-22 20:19:53,272 - INFO - QueueForwarder queues verified
2025-05-22 20:19:53,273 - INFO - QueueForwarder task started.
2025-05-22 20:19:53,273 - INFO - Application startup complete. All core services initialized.
2025-05-22 20:19:53,273 - INFO - Starting MessageProcessor
2025-05-22 20:19:53,273 - INFO - Starting QueueForwarder
2025-05-22 20:20:05,118 - INFO - Application startup event triggered.
2025-05-22 20:20:05,119 - INFO - Initializing all queues...
2025-05-22 20:20:05,119 - INFO - All queues initialized on loop 139979166509120
2025-05-22 20:20:05,119 - INFO - Shared queues initialized.
2025-05-22 20:20:05,119 - INFO - Retrieved queue instances. Event loop ID: 139979166509120
2025-05-22 20:20:05,120 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-22 20:20:05,120 - INFO - MessageProcessor queues verified
2025-05-22 20:20:05,120 - INFO - MessageProcessor task started.
2025-05-22 20:20:05,120 - INFO - QueueForwarder queues verified
2025-05-22 20:20:05,120 - INFO - QueueForwarder task started.
2025-05-22 20:20:05,120 - INFO - Application startup complete. All core services initialized.
2025-05-22 20:20:05,121 - INFO - Starting MessageProcessor
2025-05-22 20:20:05,121 - INFO - Starting QueueForwarder
2025-05-23 11:14:53,838 - INFO - Application startup event triggered.
2025-05-23 11:14:53,838 - INFO - Initializing all queues...
2025-05-23 11:14:53,838 - INFO - All queues initialized on loop 598440064
2025-05-23 11:14:53,838 - INFO - Shared queues initialized.
2025-05-23 11:14:53,838 - INFO - Retrieved queue instances. Event loop ID: 598440064
2025-05-23 11:14:53,838 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 11:14:53,839 - INFO - MessageProcessor queues verified
2025-05-23 11:14:53,839 - INFO - MessageProcessor task started.
2025-05-23 11:14:53,839 - INFO - QueueForwarder queues verified
2025-05-23 11:14:53,839 - INFO - QueueForwarder task started.
2025-05-23 11:14:53,839 - INFO - Application startup complete. All core services initialized.
2025-05-23 11:14:53,839 - INFO - Starting MessageProcessor
2025-05-23 11:14:53,839 - INFO - Starting QueueForwarder
2025-05-23 11:15:40,116 - INFO - Application shutdown event triggered.
2025-05-23 11:15:40,116 - INFO - Stopping MessageProcessor...
2025-05-23 11:15:40,117 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 11:15:40,117 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 11:15:40,117 - INFO - All WebSocket connections attempted to close.
2025-05-23 11:15:40,117 - INFO - Application shutdown complete.
2025-05-23 11:17:43,523 - INFO - Application startup event triggered.
2025-05-23 11:17:43,523 - INFO - Initializing all queues...
2025-05-23 11:17:43,524 - INFO - All queues initialized on loop 400427136
2025-05-23 11:17:43,524 - INFO - Shared queues initialized.
2025-05-23 11:17:43,524 - INFO - Retrieved queue instances. Event loop ID: 400427136
2025-05-23 11:17:43,524 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 11:17:43,524 - INFO - MessageProcessor queues verified
2025-05-23 11:17:43,524 - INFO - MessageProcessor task started.
2025-05-23 11:17:43,524 - INFO - QueueForwarder queues verified
2025-05-23 11:17:43,524 - INFO - QueueForwarder task started.
2025-05-23 11:17:43,524 - INFO - Application startup complete. All core services initialized.
2025-05-23 11:17:43,524 - INFO - Starting MessageProcessor
2025-05-23 11:17:43,525 - INFO - Starting QueueForwarder
2025-05-23 13:36:57,488 - INFO - Application startup event triggered.
2025-05-23 13:36:57,488 - INFO - Initializing all queues...
2025-05-23 13:36:57,488 - INFO - All queues initialized on loop 1058880656
2025-05-23 13:36:57,488 - INFO - Shared queues initialized.
2025-05-23 13:36:57,488 - INFO - Retrieved queue instances. Event loop ID: 1058880656
2025-05-23 13:36:57,488 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 13:36:57,488 - INFO - MessageProcessor queues verified
2025-05-23 13:36:57,488 - INFO - MessageProcessor task started.
2025-05-23 13:36:57,488 - INFO - QueueForwarder queues verified
2025-05-23 13:36:57,488 - INFO - QueueForwarder task started.
2025-05-23 13:36:57,488 - INFO - Application startup complete. All core services initialized.
2025-05-23 13:36:57,488 - INFO - Starting MessageProcessor
2025-05-23 13:36:57,489 - INFO - Starting QueueForwarder
2025-05-23 13:42:48,299 - INFO - Application shutdown event triggered.
2025-05-23 13:42:48,299 - INFO - Stopping MessageProcessor...
2025-05-23 13:42:48,299 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 13:42:48,299 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 13:42:48,299 - INFO - All WebSocket connections attempted to close.
2025-05-23 13:42:48,300 - INFO - Application shutdown complete.
2025-05-23 13:42:55,521 - INFO - Application startup event triggered.
2025-05-23 13:42:55,521 - INFO - Initializing all queues...
2025-05-23 13:42:55,522 - INFO - All queues initialized on loop 666324112
2025-05-23 13:42:55,522 - INFO - Shared queues initialized.
2025-05-23 13:42:55,522 - INFO - Retrieved queue instances. Event loop ID: 666324112
2025-05-23 13:42:55,522 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 13:42:55,522 - INFO - MessageProcessor queues verified
2025-05-23 13:42:55,522 - INFO - MessageProcessor task started.
2025-05-23 13:42:55,522 - INFO - QueueForwarder queues verified
2025-05-23 13:42:55,522 - INFO - QueueForwarder task started.
2025-05-23 13:42:55,522 - INFO - Application startup complete. All core services initialized.
2025-05-23 13:42:55,522 - INFO - Starting MessageProcessor
2025-05-23 13:42:55,522 - INFO - Starting QueueForwarder
2025-05-23 13:43:33,819 - INFO - Application shutdown event triggered.
2025-05-23 13:43:33,819 - INFO - Stopping MessageProcessor...
2025-05-23 13:43:33,820 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 13:43:33,820 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 13:43:33,820 - INFO - All WebSocket connections attempted to close.
2025-05-23 13:43:33,820 - INFO - Application shutdown complete.
2025-05-23 13:57:05,452 - INFO - Application startup event triggered.
2025-05-23 13:57:05,452 - INFO - Initializing all queues...
2025-05-23 13:57:05,452 - INFO - All queues initialized on loop 941566080
2025-05-23 13:57:05,452 - INFO - Shared queues initialized.
2025-05-23 13:57:05,452 - INFO - Retrieved queue instances. Event loop ID: 941566080
2025-05-23 13:57:05,452 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 13:57:05,452 - INFO - MessageProcessor queues verified
2025-05-23 13:57:05,453 - INFO - MessageProcessor task started.
2025-05-23 13:57:05,453 - INFO - QueueForwarder queues verified
2025-05-23 13:57:05,453 - INFO - QueueForwarder task started.
2025-05-23 13:57:05,453 - INFO - Application startup complete. All core services initialized.
2025-05-23 13:57:05,453 - INFO - Starting MessageProcessor
2025-05-23 13:57:05,453 - INFO - Starting QueueForwarder
2025-05-23 13:59:14,550 - INFO - Application shutdown event triggered.
2025-05-23 13:59:14,550 - INFO - Stopping MessageProcessor...
2025-05-23 13:59:14,550 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 13:59:14,550 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 13:59:14,550 - INFO - All WebSocket connections attempted to close.
2025-05-23 13:59:14,550 - INFO - Application shutdown complete.
2025-05-23 13:59:17,443 - INFO - Application startup event triggered.
2025-05-23 13:59:17,444 - INFO - Initializing all queues...
2025-05-23 13:59:17,444 - INFO - All queues initialized on loop 59963520
2025-05-23 13:59:17,444 - INFO - Shared queues initialized.
2025-05-23 13:59:17,444 - INFO - Retrieved queue instances. Event loop ID: 59963520
2025-05-23 13:59:17,444 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 13:59:17,444 - INFO - MessageProcessor queues verified
2025-05-23 13:59:17,444 - INFO - MessageProcessor task started.
2025-05-23 13:59:17,444 - INFO - QueueForwarder queues verified
2025-05-23 13:59:17,444 - INFO - QueueForwarder task started.
2025-05-23 13:59:17,444 - INFO - Application startup complete. All core services initialized.
2025-05-23 13:59:17,444 - INFO - Starting MessageProcessor
2025-05-23 13:59:17,444 - INFO - Starting QueueForwarder
2025-05-23 13:59:42,220 - INFO - Application shutdown event triggered.
2025-05-23 13:59:42,220 - INFO - Stopping MessageProcessor...
2025-05-23 13:59:42,221 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 13:59:42,221 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 13:59:42,221 - INFO - All WebSocket connections attempted to close.
2025-05-23 13:59:42,221 - INFO - Application shutdown complete.
2025-05-23 14:02:39,910 - INFO - Application startup event triggered.
2025-05-23 14:02:39,910 - INFO - Initializing all queues...
2025-05-23 14:02:39,910 - INFO - All queues initialized on loop 566999168
2025-05-23 14:02:39,910 - INFO - Shared queues initialized.
2025-05-23 14:02:39,910 - INFO - Retrieved queue instances. Event loop ID: 566999168
2025-05-23 14:02:39,910 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 14:02:39,910 - INFO - MessageProcessor queues verified
2025-05-23 14:02:39,910 - INFO - MessageProcessor task started.
2025-05-23 14:02:39,910 - INFO - QueueForwarder queues verified
2025-05-23 14:02:39,910 - INFO - QueueForwarder task started.
2025-05-23 14:02:39,910 - INFO - Application startup complete. All core services initialized.
2025-05-23 14:02:39,910 - INFO - Starting MessageProcessor
2025-05-23 14:02:39,910 - INFO - Starting QueueForwarder
2025-05-23 14:02:57,557 - INFO - Application shutdown event triggered.
2025-05-23 14:02:57,557 - INFO - Stopping MessageProcessor...
2025-05-23 14:02:57,558 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 14:02:57,558 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 14:02:57,558 - INFO - All WebSocket connections attempted to close.
2025-05-23 14:02:57,558 - INFO - Application shutdown complete.
2025-05-23 18:44:05,690 - INFO - Application startup event triggered.
2025-05-23 18:44:05,691 - INFO - Initializing all queues...
2025-05-23 18:44:05,691 - INFO - All queues initialized on loop 555288704
2025-05-23 18:44:05,691 - INFO - Shared queues initialized.
2025-05-23 18:44:05,691 - INFO - Retrieved queue instances. Event loop ID: 555288704
2025-05-23 18:44:05,691 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 18:44:05,691 - INFO - MessageProcessor queues verified
2025-05-23 18:44:05,691 - INFO - MessageProcessor task started.
2025-05-23 18:44:05,692 - INFO - QueueForwarder queues verified
2025-05-23 18:44:05,692 - INFO - QueueForwarder task started.
2025-05-23 18:44:05,692 - INFO - Application startup complete. All core services initialized.
2025-05-23 18:44:05,692 - INFO - Starting MessageProcessor
2025-05-23 18:44:05,692 - INFO - Starting QueueForwarder
2025-05-23 18:44:07,022 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=39752)
2025-05-23 18:44:09,311 - INFO - Simulation task starting
2025-05-23 18:44:09,311 - INFO - System message enqueued to backend queue
2025-05-23 18:51:17,775 - ERROR - Receive error: 1012
2025-05-23 18:51:17,777 - INFO - Connection cleanup completed for 127.0.0.1:39752
2025-05-23 18:51:17,777 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:51:17,777 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=39752)
2025-05-23 18:51:17,777 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=39752)
2025-05-23 18:51:20,791 - INFO - Application shutdown event triggered.
2025-05-23 18:51:20,791 - INFO - SimulationManager stopped.
2025-05-23 18:51:20,791 - INFO - Stopping MessageProcessor...
2025-05-23 18:51:20,791 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 18:51:20,791 - INFO - All WebSocket connections attempted to close.
2025-05-23 18:51:20,791 - INFO - Application shutdown complete.
2025-05-23 18:51:25,291 - INFO - Application startup event triggered.
2025-05-23 18:51:25,291 - INFO - Initializing all queues...
2025-05-23 18:51:25,291 - INFO - All queues initialized on loop 240478336
2025-05-23 18:51:25,291 - INFO - Shared queues initialized.
2025-05-23 18:51:25,291 - INFO - Retrieved queue instances. Event loop ID: 240478336
2025-05-23 18:51:25,291 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 18:51:25,292 - INFO - MessageProcessor queues verified
2025-05-23 18:51:25,292 - INFO - MessageProcessor task started.
2025-05-23 18:51:25,292 - INFO - QueueForwarder queues verified
2025-05-23 18:51:25,292 - INFO - QueueForwarder task started.
2025-05-23 18:51:25,292 - INFO - Application startup complete. All core services initialized.
2025-05-23 18:51:25,292 - INFO - Starting MessageProcessor
2025-05-23 18:51:25,292 - INFO - Starting QueueForwarder
2025-05-23 18:51:25,668 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54114)
2025-05-23 18:51:26,668 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54126)
2025-05-23 18:51:27,997 - INFO - Simulation task starting
2025-05-23 18:51:27,997 - INFO - System message enqueued to backend queue
2025-05-23 18:51:47,573 - ERROR - Receive error: 1012
2025-05-23 18:51:47,573 - ERROR - Receive error: 1012
2025-05-23 18:51:47,574 - INFO - Connection cleanup completed for 127.0.0.1:54126
2025-05-23 18:51:47,574 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:51:47,574 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54126)
2025-05-23 18:51:47,575 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=54126)
2025-05-23 18:51:47,575 - INFO - Connection cleanup completed for 127.0.0.1:54114
2025-05-23 18:51:47,575 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:51:47,575 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54114)
2025-05-23 18:51:47,575 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=54114)
2025-05-23 18:51:54,595 - INFO - Application shutdown event triggered.
2025-05-23 18:51:54,595 - INFO - SimulationManager stopped.
2025-05-23 18:51:54,595 - INFO - Stopping MessageProcessor...
2025-05-23 18:51:54,595 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 18:51:54,595 - INFO - All WebSocket connections attempted to close.
2025-05-23 18:51:54,595 - INFO - Application shutdown complete.
2025-05-23 18:52:09,556 - INFO - Application startup event triggered.
2025-05-23 18:52:09,556 - INFO - Initializing all queues...
2025-05-23 18:52:09,557 - INFO - All queues initialized on loop 447133824
2025-05-23 18:52:09,557 - INFO - Shared queues initialized.
2025-05-23 18:52:09,557 - INFO - Retrieved queue instances. Event loop ID: 447133824
2025-05-23 18:52:09,557 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 18:52:09,557 - INFO - MessageProcessor queues verified
2025-05-23 18:52:09,557 - INFO - MessageProcessor task started.
2025-05-23 18:52:09,557 - INFO - QueueForwarder queues verified
2025-05-23 18:52:09,557 - INFO - QueueForwarder task started.
2025-05-23 18:52:09,557 - INFO - Application startup complete. All core services initialized.
2025-05-23 18:52:09,557 - INFO - Starting MessageProcessor
2025-05-23 18:52:09,557 - INFO - Starting QueueForwarder
2025-05-23 18:52:10,929 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54846)
2025-05-23 18:52:13,425 - INFO - Simulation task starting
2025-05-23 18:52:13,426 - INFO - System message enqueued to backend queue
2025-05-23 18:52:18,276 - ERROR - Receive error: 1001
2025-05-23 18:52:18,277 - INFO - Connection cleanup completed for 127.0.0.1:54846
2025-05-23 18:52:18,277 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:52:18,277 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54846)
2025-05-23 18:52:18,277 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=54846)
2025-05-23 18:52:25,318 - INFO - Application shutdown event triggered.
2025-05-23 18:52:25,319 - INFO - SimulationManager stopped.
2025-05-23 18:52:25,319 - INFO - Stopping MessageProcessor...
2025-05-23 18:52:25,319 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 18:52:25,319 - INFO - All WebSocket connections attempted to close.
2025-05-23 18:52:25,319 - INFO - Application shutdown complete.
2025-05-23 18:52:29,757 - INFO - Application startup event triggered.
2025-05-23 18:52:29,758 - INFO - Initializing all queues...
2025-05-23 18:52:29,758 - INFO - All queues initialized on loop 597260416
2025-05-23 18:52:29,758 - INFO - Shared queues initialized.
2025-05-23 18:52:29,758 - INFO - Retrieved queue instances. Event loop ID: 597260416
2025-05-23 18:52:29,758 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 18:52:29,758 - INFO - MessageProcessor queues verified
2025-05-23 18:52:29,758 - INFO - MessageProcessor task started.
2025-05-23 18:52:29,758 - INFO - QueueForwarder queues verified
2025-05-23 18:52:29,759 - INFO - QueueForwarder task started.
2025-05-23 18:52:29,759 - INFO - Application startup complete. All core services initialized.
2025-05-23 18:52:29,759 - INFO - Starting MessageProcessor
2025-05-23 18:52:29,759 - INFO - Starting QueueForwarder
2025-05-23 18:52:31,175 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=58942)
2025-05-23 18:52:33,526 - INFO - Simulation task starting
2025-05-23 18:52:33,527 - INFO - System message enqueued to backend queue
2025-05-23 18:53:27,582 - ERROR - Receive error: 1001
2025-05-23 18:53:27,583 - INFO - Connection cleanup completed for 127.0.0.1:58942
2025-05-23 18:53:27,583 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:53:27,583 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=58942)
2025-05-23 18:53:27,583 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=58942)
2025-05-23 18:53:27,648 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=40254)
2025-05-23 18:53:45,710 - ERROR - Receive error: 1012
2025-05-23 18:53:45,711 - INFO - Connection cleanup completed for 127.0.0.1:40254
2025-05-23 18:53:45,711 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:53:45,711 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=40254)
2025-05-23 18:53:45,711 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=40254)
2025-05-23 18:53:45,814 - INFO - Application shutdown event triggered.
2025-05-23 18:53:45,814 - INFO - SimulationManager stopped.
2025-05-23 18:53:45,814 - INFO - Stopping MessageProcessor...
2025-05-23 18:53:45,814 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 18:53:45,815 - INFO - All WebSocket connections attempted to close.
2025-05-23 18:53:45,815 - INFO - Application shutdown complete.
2025-05-23 18:56:46,345 - INFO - Application startup event triggered.
2025-05-23 18:56:46,346 - INFO - Initializing all queues...
2025-05-23 18:56:46,346 - INFO - All queues initialized on loop 503027840
2025-05-23 18:56:46,346 - INFO - Shared queues initialized.
2025-05-23 18:56:46,346 - INFO - Retrieved queue instances. Event loop ID: 503027840
2025-05-23 18:56:46,346 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 18:56:46,346 - INFO - MessageProcessor queues verified
2025-05-23 18:56:46,346 - INFO - MessageProcessor task started.
2025-05-23 18:56:46,346 - INFO - QueueForwarder queues verified
2025-05-23 18:56:46,346 - INFO - QueueForwarder task started.
2025-05-23 18:56:46,346 - INFO - Application startup complete. All core services initialized.
2025-05-23 18:56:46,347 - INFO - Starting MessageProcessor
2025-05-23 18:56:46,347 - INFO - Starting QueueForwarder
2025-05-23 18:56:47,743 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37762)
2025-05-23 18:56:49,098 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 18:56:49,099 - INFO - Simulation task starting
2025-05-23 18:56:49,099 - INFO - System message enqueued to backend queue
2025-05-23 18:56:53,669 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=34362)
2025-05-23 18:57:20,853 - ERROR - Receive error: 1001
2025-05-23 18:57:20,853 - INFO - Connection cleanup completed for 127.0.0.1:34362
2025-05-23 18:57:20,853 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:57:20,854 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=34362)
2025-05-23 18:57:20,854 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=34362)
2025-05-23 18:57:23,489 - ERROR - Receive error: 1001
2025-05-23 18:57:23,490 - INFO - Connection cleanup completed for 127.0.0.1:37762
2025-05-23 18:57:23,490 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 18:57:23,490 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=37762)
2025-05-23 18:57:23,491 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=37762)
2025-05-23 18:57:28,308 - INFO - Application shutdown event triggered.
2025-05-23 18:57:28,308 - INFO - SimulationManager stopped.
2025-05-23 18:57:28,308 - INFO - Stopping MessageProcessor...
2025-05-23 18:57:28,311 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 18:57:28,311 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 18:57:28,311 - INFO - All WebSocket connections attempted to close.
2025-05-23 18:57:28,311 - INFO - Application shutdown complete.
2025-05-23 19:00:07,764 - INFO - Application startup event triggered.
2025-05-23 19:00:07,764 - INFO - Initializing all queues...
2025-05-23 19:00:07,764 - INFO - All queues initialized on loop 1089448064
2025-05-23 19:00:07,764 - INFO - Shared queues initialized.
2025-05-23 19:00:07,764 - INFO - Retrieved queue instances. Event loop ID: 1089448064
2025-05-23 19:00:07,765 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:00:07,765 - INFO - MessageProcessor queues verified
2025-05-23 19:00:07,765 - INFO - MessageProcessor task started.
2025-05-23 19:00:07,765 - INFO - QueueForwarder queues verified
2025-05-23 19:00:07,765 - INFO - QueueForwarder task started.
2025-05-23 19:00:07,765 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:00:07,765 - INFO - Starting MessageProcessor
2025-05-23 19:00:07,765 - INFO - Starting QueueForwarder
2025-05-23 19:00:09,087 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=59016)
2025-05-23 19:00:10,679 - ERROR - Receive error: 1001
2025-05-23 19:00:10,679 - INFO - Connection cleanup completed for 127.0.0.1:59016
2025-05-23 19:00:10,680 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:00:10,680 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=59016)
2025-05-23 19:00:10,680 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=59016)
2025-05-23 19:00:10,743 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=59022)
2025-05-23 19:00:14,166 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 19:00:14,167 - INFO - Simulation task starting
2025-05-23 19:00:14,168 - INFO - System message enqueued to backend queue
2025-05-23 19:00:14,168 - ERROR - Send error: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-23 19:00:26,638 - ERROR - Receive error: 1012
2025-05-23 19:00:26,639 - INFO - Connection cleanup completed for 127.0.0.1:59022
2025-05-23 19:00:26,639 - ERROR - WebSocket error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:00:26,639 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=59022)
2025-05-23 19:00:26,639 - INFO - WebSocket connection closed for Address(host='127.0.0.1', port=59022)
2025-05-23 19:00:26,840 - INFO - Application shutdown event triggered.
2025-05-23 19:00:26,841 - INFO - SimulationManager stopped.
2025-05-23 19:00:26,841 - INFO - Stopping MessageProcessor...
2025-05-23 19:00:26,844 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 19:00:26,844 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:00:26,844 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:00:26,844 - INFO - Application shutdown complete.
2025-05-23 19:02:59,071 - INFO - Application startup event triggered.
2025-05-23 19:02:59,071 - INFO - Initializing all queues...
2025-05-23 19:02:59,072 - INFO - All queues initialized on loop 131262592
2025-05-23 19:02:59,072 - INFO - Shared queues initialized.
2025-05-23 19:02:59,072 - INFO - Retrieved queue instances. Event loop ID: 131262592
2025-05-23 19:02:59,072 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:02:59,072 - INFO - MessageProcessor queues verified
2025-05-23 19:02:59,072 - INFO - MessageProcessor task started.
2025-05-23 19:02:59,072 - INFO - QueueForwarder queues verified
2025-05-23 19:02:59,073 - INFO - QueueForwarder task started.
2025-05-23 19:02:59,073 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:02:59,073 - INFO - Starting MessageProcessor
2025-05-23 19:02:59,073 - INFO - Starting QueueForwarder
2025-05-23 19:04:28,075 - INFO - Application shutdown event triggered.
2025-05-23 19:04:28,075 - INFO - Stopping MessageProcessor...
2025-05-23 19:04:28,076 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 19:04:28,076 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:04:28,076 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:04:28,076 - INFO - Application shutdown complete.
2025-05-23 19:04:31,064 - INFO - Application startup event triggered.
2025-05-23 19:04:31,064 - INFO - Initializing all queues...
2025-05-23 19:04:31,065 - INFO - All queues initialized on loop 985098368
2025-05-23 19:04:31,065 - INFO - Shared queues initialized.
2025-05-23 19:04:31,065 - INFO - Retrieved queue instances. Event loop ID: 985098368
2025-05-23 19:04:31,065 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:04:31,065 - INFO - MessageProcessor queues verified
2025-05-23 19:04:31,065 - INFO - MessageProcessor task started.
2025-05-23 19:04:31,065 - INFO - QueueForwarder queues verified
2025-05-23 19:04:31,065 - INFO - QueueForwarder task started.
2025-05-23 19:04:31,065 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:04:31,066 - INFO - Starting MessageProcessor
2025-05-23 19:04:31,066 - INFO - Starting QueueForwarder
2025-05-23 19:04:32,441 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=43040)
2025-05-23 19:04:38,139 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 19:04:38,140 - INFO - Simulation task starting
2025-05-23 19:04:38,140 - INFO - System message enqueued to backend queue
2025-05-23 19:05:39,327 - ERROR - Receive error: 1012
2025-05-23 19:05:39,327 - INFO - Connection cleanup completed for 127.0.0.1:43040
2025-05-23 19:05:39,327 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:05:39,327 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=43040)
2025-05-23 19:05:39,430 - INFO - Application shutdown event triggered.
2025-05-23 19:05:39,431 - INFO - SimulationManager stopped.
2025-05-23 19:05:39,431 - INFO - Stopping MessageProcessor...
2025-05-23 19:05:39,431 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:05:39,431 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:05:39,431 - INFO - Application shutdown complete.
2025-05-23 19:09:05,005 - INFO - Application startup event triggered.
2025-05-23 19:09:05,005 - INFO - Initializing all queues...
2025-05-23 19:09:05,005 - INFO - All queues initialized on loop 813676672
2025-05-23 19:09:05,006 - INFO - Shared queues initialized.
2025-05-23 19:09:05,006 - INFO - Retrieved queue instances. Event loop ID: 813676672
2025-05-23 19:09:05,006 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:09:05,006 - INFO - MessageProcessor queues verified
2025-05-23 19:09:05,006 - INFO - MessageProcessor task started.
2025-05-23 19:09:05,006 - INFO - QueueForwarder queues verified
2025-05-23 19:09:05,006 - INFO - QueueForwarder task started.
2025-05-23 19:09:05,006 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:09:05,006 - INFO - Starting MessageProcessor
2025-05-23 19:09:05,006 - INFO - Starting QueueForwarder
2025-05-23 19:09:06,332 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38856)
2025-05-23 19:09:07,897 - ERROR - Receive error: 1001
2025-05-23 19:09:07,898 - INFO - Connection cleanup completed for 127.0.0.1:38856
2025-05-23 19:09:07,898 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:09:07,898 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=38856)
2025-05-23 19:09:07,967 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38858)
2025-05-23 19:09:09,721 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 19:09:09,722 - INFO - Simulation task starting
2025-05-23 19:09:09,723 - INFO - System message enqueued to backend queue
2025-05-23 19:09:09,723 - ERROR - Send error: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-23 19:09:22,469 - ERROR - Receive error: 1012
2025-05-23 19:09:22,469 - INFO - Connection cleanup completed for 127.0.0.1:38858
2025-05-23 19:09:22,469 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:09:22,469 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=38858)
2025-05-23 19:09:22,674 - INFO - Application shutdown event triggered.
2025-05-23 19:09:22,674 - INFO - SimulationManager stopped.
2025-05-23 19:09:22,675 - INFO - Stopping MessageProcessor...
2025-05-23 19:09:22,675 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:09:22,675 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:09:22,675 - INFO - Application shutdown complete.
2025-05-23 19:10:45,405 - INFO - Application startup event triggered.
2025-05-23 19:10:45,405 - INFO - Initializing all queues...
2025-05-23 19:10:45,405 - INFO - All queues initialized on loop 970512512
2025-05-23 19:10:45,405 - INFO - Shared queues initialized.
2025-05-23 19:10:45,406 - INFO - Retrieved queue instances. Event loop ID: 970512512
2025-05-23 19:10:45,406 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:10:45,406 - INFO - MessageProcessor queues verified
2025-05-23 19:10:45,406 - INFO - MessageProcessor task started.
2025-05-23 19:10:45,406 - INFO - QueueForwarder queues verified
2025-05-23 19:10:45,406 - INFO - QueueForwarder task started.
2025-05-23 19:10:45,406 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:10:45,406 - INFO - Starting MessageProcessor
2025-05-23 19:10:45,406 - INFO - Starting QueueForwarder
2025-05-23 19:10:55,543 - INFO - Application shutdown event triggered.
2025-05-23 19:10:55,543 - INFO - Stopping MessageProcessor...
2025-05-23 19:10:55,543 - WARNING - MessageProcessor didn't stop cleanly
2025-05-23 19:10:55,543 - INFO - QueueForwarder task cancelled.
2025-05-23 19:10:55,543 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:10:55,544 - INFO - Application shutdown complete.
2025-05-23 19:14:49,911 - INFO - Application startup event triggered.
2025-05-23 19:14:49,911 - INFO - Initializing all queues...
2025-05-23 19:14:49,911 - INFO - All queues initialized on loop 650049664
2025-05-23 19:14:49,911 - INFO - Shared queues initialized.
2025-05-23 19:14:49,911 - INFO - Retrieved queue instances. Event loop ID: 650049664
2025-05-23 19:14:49,911 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:14:49,911 - INFO - MessageProcessor queues verified
2025-05-23 19:14:49,912 - INFO - MessageProcessor task started.
2025-05-23 19:14:49,912 - INFO - QueueForwarder queues verified
2025-05-23 19:14:49,912 - INFO - QueueForwarder task started.
2025-05-23 19:14:49,912 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:14:49,912 - INFO - Starting MessageProcessor
2025-05-23 19:14:49,912 - INFO - Starting QueueForwarder
2025-05-23 19:14:51,311 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=34788)
2025-05-23 19:14:54,916 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 19:14:54,917 - INFO - Simulation task starting
2025-05-23 19:14:54,918 - INFO - System message enqueued to backend queue
2025-05-23 19:16:45,251 - ERROR - Receive error: 1001
2025-05-23 19:16:45,251 - INFO - Connection cleanup completed for 127.0.0.1:34788
2025-05-23 19:16:45,251 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:16:45,251 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=34788)
2025-05-23 19:18:48,370 - INFO - Application shutdown event triggered.
2025-05-23 19:18:48,371 - INFO - SimulationManager stopped.
2025-05-23 19:18:48,371 - INFO - Stopping MessageProcessor...
2025-05-23 19:18:48,371 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:18:48,371 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:18:48,371 - INFO - Application shutdown complete.
2025-05-23 19:18:52,330 - INFO - Application startup event triggered.
2025-05-23 19:18:52,330 - INFO - Initializing all queues...
2025-05-23 19:18:52,330 - INFO - All queues initialized on loop 1026177152
2025-05-23 19:18:52,330 - INFO - Shared queues initialized.
2025-05-23 19:18:52,331 - INFO - Retrieved queue instances. Event loop ID: 1026177152
2025-05-23 19:18:52,331 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:18:52,331 - INFO - MessageProcessor queues verified
2025-05-23 19:18:52,331 - INFO - MessageProcessor task started.
2025-05-23 19:18:52,331 - INFO - QueueForwarder queues verified
2025-05-23 19:18:52,331 - INFO - QueueForwarder task started.
2025-05-23 19:18:52,331 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:18:52,331 - INFO - Starting MessageProcessor
2025-05-23 19:18:52,331 - INFO - Starting QueueForwarder
2025-05-23 19:18:53,735 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49022)
2025-05-23 19:18:55,032 - ERROR - Receive error: 1001
2025-05-23 19:18:55,032 - INFO - Connection cleanup completed for 127.0.0.1:49022
2025-05-23 19:18:55,032 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:18:55,032 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=49022)
2025-05-23 19:18:55,100 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49038)
2025-05-23 19:18:55,108 - INFO - Enqueuing valid message of type 'frontend_ready_ack'
2025-05-23 19:18:57,637 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 19:18:57,638 - INFO - Simulation task starting
2025-05-23 19:18:57,638 - INFO - System message enqueued to backend queue
2025-05-23 19:18:57,639 - ERROR - Send error: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-23 19:19:08,589 - ERROR - Receive error: 1012
2025-05-23 19:19:08,589 - INFO - Connection cleanup completed for 127.0.0.1:49038
2025-05-23 19:19:08,589 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:19:08,589 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=49038)
2025-05-23 19:19:08,790 - INFO - Application shutdown event triggered.
2025-05-23 19:19:08,790 - INFO - SimulationManager stopped.
2025-05-23 19:19:08,790 - INFO - Stopping MessageProcessor...
2025-05-23 19:19:08,790 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:19:08,790 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:19:08,790 - INFO - Application shutdown complete.
2025-05-23 19:20:31,161 - INFO - Application startup event triggered.
2025-05-23 19:20:31,161 - INFO - Initializing all queues...
2025-05-23 19:20:31,161 - INFO - All queues initialized on loop 719579264
2025-05-23 19:20:31,161 - INFO - Shared queues initialized.
2025-05-23 19:20:31,161 - INFO - Retrieved queue instances. Event loop ID: 719579264
2025-05-23 19:20:31,161 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-23 19:20:31,161 - INFO - MessageProcessor queues verified
2025-05-23 19:20:31,161 - INFO - MessageProcessor task started.
2025-05-23 19:20:31,162 - INFO - QueueForwarder queues verified
2025-05-23 19:20:31,162 - INFO - QueueForwarder task started.
2025-05-23 19:20:31,162 - INFO - Application startup complete. All core services initialized.
2025-05-23 19:20:31,162 - INFO - Starting MessageProcessor
2025-05-23 19:20:31,162 - INFO - Starting QueueForwarder
2025-05-23 19:20:32,443 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=41234)
2025-05-23 19:20:32,474 - INFO - Enqueuing valid message of type 'frontend_ready_ack'
2025-05-23 19:20:34,491 - ERROR - Receive error: 1001
2025-05-23 19:20:34,491 - INFO - Connection cleanup completed for 127.0.0.1:41234
2025-05-23 19:20:34,491 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=41234): Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:20:34,492 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=41234)
2025-05-23 19:20:34,549 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=41240)
2025-05-23 19:20:34,552 - INFO - Enqueuing valid message of type 'frontend_ready_ack'
2025-05-23 19:20:35,545 - INFO - Backend: Received POST request to /simulation/start
2025-05-23 19:20:35,546 - INFO - Simulation task starting
2025-05-23 19:20:35,546 - INFO - System message enqueued to backend queue
2025-05-23 19:20:35,546 - ERROR - Send error: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-23 19:20:45,007 - ERROR - Receive error: 1012
2025-05-23 19:20:45,008 - INFO - Connection cleanup completed for 127.0.0.1:41240
2025-05-23 19:20:45,008 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=41240): Cannot call "receive" once a disconnect message has been received.
2025-05-23 19:20:45,008 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=41240)
2025-05-23 19:20:45,110 - INFO - Application shutdown event triggered.
2025-05-23 19:20:45,110 - INFO - SimulationManager stopped.
2025-05-23 19:20:45,110 - INFO - Stopping MessageProcessor...
2025-05-23 19:20:45,110 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-23 19:20:45,110 - INFO - All WebSocket connections attempted to close.
2025-05-23 19:20:45,110 - INFO - Application shutdown complete.
2025-05-24 10:24:21,258 - INFO - Application startup event triggered.
2025-05-24 10:24:21,258 - INFO - Initializing all queues...
2025-05-24 10:24:21,258 - INFO - All queues initialized on loop 733456512
2025-05-24 10:24:21,258 - INFO - Shared queues initialized.
2025-05-24 10:24:21,258 - INFO - Retrieved queue instances. Event loop ID: 733456512
2025-05-24 10:24:21,259 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 10:24:21,259 - INFO - MessageProcessor queues verified
2025-05-24 10:24:21,259 - INFO - MessageProcessor task started.
2025-05-24 10:24:21,259 - INFO - QueueForwarder queues verified
2025-05-24 10:24:21,259 - INFO - QueueForwarder task started.
2025-05-24 10:24:21,259 - INFO - Application startup complete. All core services initialized.
2025-05-24 10:24:21,259 - INFO - Starting MessageProcessor
2025-05-24 10:24:21,259 - INFO - Starting QueueForwarder
2025-05-24 10:24:22,666 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49036)
2025-05-24 10:24:22,666 - INFO - Adding connection: 127.0.0.1:49036. Total connections: 1
2025-05-24 10:24:22,668 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=49036)
2025-05-24 10:24:22,668 - INFO - Sender task started for Address(host='127.0.0.1', port=49036)
2025-05-24 10:24:22,668 - INFO - Receiver task started for Address(host='127.0.0.1', port=49036)
2025-05-24 10:24:22,703 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=49036)
2025-05-24 10:24:24,805 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=49036): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 10:24:24,807 - INFO - Receiver task for Address(host='127.0.0.1', port=49036) finished.
2025-05-24 10:24:24,865 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49044)
2025-05-24 10:24:24,866 - INFO - Adding connection: 127.0.0.1:49044. Total connections: 2
2025-05-24 10:24:24,867 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=49044)
2025-05-24 10:24:24,867 - INFO - Sender task started for Address(host='127.0.0.1', port=49044)
2025-05-24 10:24:24,867 - INFO - Receiver task started for Address(host='127.0.0.1', port=49044)
2025-05-24 10:24:24,872 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=49044)
2025-05-24 10:24:26,322 - INFO - Backend: Received POST request to /simulation/start
2025-05-24 10:24:26,323 - INFO - Simulation task starting
2025-05-24 10:24:26,323 - INFO - System message enqueued to backend queue
2025-05-24 10:24:26,324 - WARNING - Failed to send message to Address(host='127.0.0.1', port=49036), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-24 10:24:26,324 - INFO - Sender task for Address(host='127.0.0.1', port=49036) finished.
2025-05-24 10:24:26,324 - INFO - Initiating cleanup for connection: 127.0.0.1:49036
2025-05-24 10:24:26,324 - INFO - Starting cleanup for 127.0.0.1:49036
2025-05-24 10:24:26,324 - INFO - Connection cleanup completed for 127.0.0.1:49036. Remaining connections: 1
2025-05-24 10:24:26,324 - INFO - Cleanup finished for connection: 127.0.0.1:49036. Total connections: 1
2025-05-24 10:24:26,324 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=49036): Cannot call "receive" once a disconnect message has been received.
2025-05-24 10:24:26,324 - INFO - Starting cleanup for Address(host='127.0.0.1', port=49036)
2025-05-24 10:24:26,324 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=49036). Remaining connections: 1
2025-05-24 10:28:16,650 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=49044): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 10:28:16,651 - INFO - Receiver task for Address(host='127.0.0.1', port=49044) finished.
2025-05-24 10:28:16,751 - INFO - Sender task for Address(host='127.0.0.1', port=49044) was cancelled.
2025-05-24 10:28:16,755 - INFO - Application shutdown event triggered.
2025-05-24 10:28:16,755 - INFO - SimulationManager stopped.
2025-05-24 10:28:16,755 - INFO - Stopping MessageProcessor...
2025-05-24 10:28:16,755 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-24 10:28:16,756 - INFO - All WebSocket connections attempted to close.
2025-05-24 10:28:16,756 - INFO - Application shutdown complete.
2025-05-24 10:28:16,756 - INFO - Initiating cleanup for connection: 127.0.0.1:49044
2025-05-24 10:28:16,757 - INFO - Starting cleanup for 127.0.0.1:49044
2025-05-24 10:28:16,757 - INFO - Connection cleanup completed for 127.0.0.1:49044. Remaining connections: 0
2025-05-24 10:28:16,757 - INFO - Cleanup finished for connection: 127.0.0.1:49044. Total connections: 0
2025-05-24 10:28:20,471 - INFO - Application startup event triggered.
2025-05-24 10:28:20,472 - INFO - Initializing all queues...
2025-05-24 10:28:20,472 - INFO - All queues initialized on loop 592357504
2025-05-24 10:28:20,472 - INFO - Shared queues initialized.
2025-05-24 10:28:20,472 - INFO - Retrieved queue instances. Event loop ID: 592357504
2025-05-24 10:28:20,472 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 10:28:20,472 - INFO - MessageProcessor queues verified
2025-05-24 10:28:20,472 - INFO - MessageProcessor task started.
2025-05-24 10:28:20,472 - INFO - QueueForwarder queues verified
2025-05-24 10:28:20,472 - INFO - QueueForwarder task started.
2025-05-24 10:28:20,472 - INFO - Application startup complete. All core services initialized.
2025-05-24 10:28:20,473 - INFO - Starting MessageProcessor
2025-05-24 10:28:20,473 - INFO - Starting QueueForwarder
2025-05-24 10:28:21,843 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=40280)
2025-05-24 10:28:21,843 - INFO - Adding connection: 127.0.0.1:40280. Total connections: 1
2025-05-24 10:28:21,845 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=40280)
2025-05-24 10:28:21,845 - INFO - Sender task started for Address(host='127.0.0.1', port=40280)
2025-05-24 10:28:21,846 - INFO - Receiver task started for Address(host='127.0.0.1', port=40280)
2025-05-24 10:28:21,850 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=40280)
2025-05-24 10:28:23,337 - INFO - Backend: Received POST request to /simulation/start
2025-05-24 10:28:23,337 - INFO - Simulation task starting
2025-05-24 10:28:23,338 - INFO - System message enqueued to backend queue
2025-05-24 10:28:24,130 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=40310)
2025-05-24 10:28:24,131 - INFO - Adding connection: 127.0.0.1:40310. Total connections: 2
2025-05-24 10:28:24,132 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=40310)
2025-05-24 10:28:24,132 - INFO - Sender task started for Address(host='127.0.0.1', port=40310)
2025-05-24 10:28:24,132 - INFO - Receiver task started for Address(host='127.0.0.1', port=40310)
2025-05-24 10:28:24,136 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=40310)
2025-05-24 10:29:18,914 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=40280): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 10:29:18,915 - INFO - Receiver task for Address(host='127.0.0.1', port=40280) finished.
2025-05-24 10:29:18,982 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=56996)
2025-05-24 10:29:18,982 - INFO - Adding connection: 127.0.0.1:56996. Total connections: 3
2025-05-24 10:29:18,983 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=56996)
2025-05-24 10:29:18,983 - INFO - Sender task started for Address(host='127.0.0.1', port=56996)
2025-05-24 10:29:18,983 - INFO - Receiver task started for Address(host='127.0.0.1', port=56996)
2025-05-24 10:29:18,987 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=56996)
2025-05-24 10:29:57,033 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=56996): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 10:29:57,034 - INFO - Receiver task for Address(host='127.0.0.1', port=56996) finished.
2025-05-24 10:29:58,528 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=40310): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 10:29:58,529 - INFO - Receiver task for Address(host='127.0.0.1', port=40310) finished.
2025-05-24 10:30:00,951 - INFO - Sender task for Address(host='127.0.0.1', port=40310) was cancelled.
2025-05-24 10:30:00,951 - INFO - Sender task for Address(host='127.0.0.1', port=56996) was cancelled.
2025-05-24 10:30:00,951 - INFO - Sender task for Address(host='127.0.0.1', port=40280) was cancelled.
2025-05-24 10:30:00,951 - INFO - Application shutdown event triggered.
2025-05-24 10:30:00,951 - INFO - SimulationManager stopped.
2025-05-24 10:30:00,951 - INFO - Stopping MessageProcessor...
2025-05-24 10:30:00,954 - WARNING - MessageProcessor didn't stop cleanly
2025-05-24 10:30:00,954 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-24 10:30:00,954 - INFO - All WebSocket connections attempted to close.
2025-05-24 10:30:00,954 - INFO - Application shutdown complete.
2025-05-24 10:30:00,955 - INFO - Initiating cleanup for connection: 127.0.0.1:40310
2025-05-24 10:30:00,955 - INFO - Starting cleanup for 127.0.0.1:40310
2025-05-24 10:30:00,955 - INFO - Connection cleanup completed for 127.0.0.1:40310. Remaining connections: 2
2025-05-24 10:30:00,955 - INFO - Cleanup finished for connection: 127.0.0.1:40310. Total connections: 2
2025-05-24 10:30:00,957 - INFO - Initiating cleanup for connection: 127.0.0.1:56996
2025-05-24 10:30:00,957 - INFO - Starting cleanup for 127.0.0.1:56996
2025-05-24 10:30:00,957 - INFO - Connection cleanup completed for 127.0.0.1:56996. Remaining connections: 1
2025-05-24 10:30:00,958 - INFO - Cleanup finished for connection: 127.0.0.1:56996. Total connections: 1
2025-05-24 10:30:00,959 - INFO - Initiating cleanup for connection: 127.0.0.1:40280
2025-05-24 10:30:00,959 - INFO - Starting cleanup for 127.0.0.1:40280
2025-05-24 10:30:00,959 - INFO - Connection cleanup completed for 127.0.0.1:40280. Remaining connections: 0
2025-05-24 10:30:00,959 - INFO - Cleanup finished for connection: 127.0.0.1:40280. Total connections: 0
2025-05-24 10:30:04,722 - INFO - Application startup event triggered.
2025-05-24 10:30:04,722 - INFO - Initializing all queues...
2025-05-24 10:30:04,722 - INFO - All queues initialized on loop 159164544
2025-05-24 10:30:04,722 - INFO - Shared queues initialized.
2025-05-24 10:30:04,722 - INFO - Retrieved queue instances. Event loop ID: 159164544
2025-05-24 10:30:04,723 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 10:30:04,723 - INFO - MessageProcessor queues verified
2025-05-24 10:30:04,723 - INFO - MessageProcessor task started.
2025-05-24 10:30:04,723 - INFO - QueueForwarder queues verified
2025-05-24 10:30:04,723 - INFO - QueueForwarder task started.
2025-05-24 10:30:04,723 - INFO - Application startup complete. All core services initialized.
2025-05-24 10:30:04,723 - INFO - Starting MessageProcessor
2025-05-24 10:30:04,723 - INFO - Starting QueueForwarder
2025-05-24 10:30:06,102 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57452)
2025-05-24 10:30:06,103 - INFO - Adding connection: 127.0.0.1:57452. Total connections: 1
2025-05-24 10:30:06,104 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=57452)
2025-05-24 10:30:06,104 - INFO - Sender task started for Address(host='127.0.0.1', port=57452)
2025-05-24 10:30:06,105 - INFO - Receiver task started for Address(host='127.0.0.1', port=57452)
2025-05-24 10:30:06,113 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=57452)
2025-05-24 10:30:08,120 - INFO - Backend: Received POST request to /simulation/start
2025-05-24 10:30:08,120 - INFO - Simulation task starting
2025-05-24 10:30:08,121 - INFO - System message enqueued to backend queue
2025-05-24 10:30:27,868 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=57452)
2025-05-24 10:30:36,963 - INFO - Backend: Received POST request to /simulation/stop
2025-05-24 10:30:37,181 - INFO - Simulation stopped
2025-05-24 10:31:15,597 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=57452): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 10:31:15,598 - INFO - Receiver task for Address(host='127.0.0.1', port=57452) finished.
2025-05-24 10:42:34,093 - INFO - Application startup event triggered.
2025-05-24 10:42:34,093 - INFO - Initializing all queues...
2025-05-24 10:42:34,094 - INFO - All queues initialized on loop 692980880
2025-05-24 10:42:34,094 - INFO - Shared queues initialized.
2025-05-24 10:42:34,094 - INFO - Retrieved queue instances. Event loop ID: 692980880
2025-05-24 10:42:34,094 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 10:42:34,094 - INFO - MessageProcessor queues verified
2025-05-24 10:42:34,094 - INFO - MessageProcessor task started.
2025-05-24 10:42:34,094 - INFO - QueueForwarder queues verified
2025-05-24 10:42:34,094 - INFO - QueueForwarder task started.
2025-05-24 10:42:34,094 - INFO - Application startup complete. All core services initialized.
2025-05-24 10:42:34,094 - INFO - Starting MessageProcessor
2025-05-24 10:42:34,094 - INFO - Starting QueueForwarder
2025-05-24 10:42:35,462 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37248)
2025-05-24 10:42:35,462 - INFO - Adding connection: 127.0.0.1:37248. Total connections: 1
2025-05-24 10:42:35,463 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=37248)
2025-05-24 10:42:35,463 - INFO - Sender task started for Address(host='127.0.0.1', port=37248)
2025-05-24 10:42:35,464 - INFO - Receiver task started for Address(host='127.0.0.1', port=37248)
2025-05-24 10:42:35,468 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=37248)
2025-05-24 10:43:16,646 - INFO - Backend: Received POST request to /simulation/start
2025-05-24 10:43:16,647 - INFO - Simulation task starting
2025-05-24 10:43:16,647 - INFO - System message enqueued to backend queue
2025-05-24 10:43:19,318 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=37248)
2025-05-24 10:43:37,403 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=37248): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 10:43:37,404 - INFO - Receiver task for Address(host='127.0.0.1', port=37248) finished.
2025-05-24 10:43:38,802 - INFO - Sender task for Address(host='127.0.0.1', port=37248) was cancelled.
2025-05-24 10:43:38,802 - INFO - Application shutdown event triggered.
2025-05-24 10:43:38,802 - INFO - SimulationManager stopped.
2025-05-24 10:43:38,802 - INFO - Stopping MessageProcessor...
2025-05-24 10:43:38,802 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-24 10:43:38,802 - INFO - All WebSocket connections attempted to close.
2025-05-24 10:43:38,803 - INFO - Application shutdown complete.
2025-05-24 10:43:38,806 - INFO - Initiating cleanup for connection: 127.0.0.1:37248
2025-05-24 10:43:38,806 - INFO - Starting cleanup for 127.0.0.1:37248
2025-05-24 10:43:38,806 - INFO - Connection cleanup completed for 127.0.0.1:37248. Remaining connections: 0
2025-05-24 10:43:38,806 - INFO - Cleanup finished for connection: 127.0.0.1:37248. Total connections: 0
2025-05-24 13:48:49,807 - INFO - Application startup event triggered.
2025-05-24 13:48:49,807 - INFO - Initializing all queues...
2025-05-24 13:48:49,808 - INFO - All queues initialized on loop 47484048
2025-05-24 13:48:49,808 - INFO - Shared queues initialized.
2025-05-24 13:48:49,808 - INFO - Retrieved queue instances. Event loop ID: 47484048
2025-05-24 13:48:49,808 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 13:48:49,808 - INFO - MessageProcessor queues verified
2025-05-24 13:48:49,808 - INFO - MessageProcessor task started.
2025-05-24 13:48:49,808 - INFO - QueueForwarder queues verified
2025-05-24 13:48:49,808 - INFO - QueueForwarder task started.
2025-05-24 13:48:49,808 - INFO - Application startup complete. All core services initialized.
2025-05-24 13:48:49,808 - INFO - Starting MessageProcessor
2025-05-24 13:48:49,808 - INFO - Starting QueueForwarder
2025-05-24 13:48:51,052 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=53624)
2025-05-24 13:48:51,052 - INFO - Adding connection: 127.0.0.1:53624. Total connections: 1
2025-05-24 13:48:51,054 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=53624)
2025-05-24 13:48:51,054 - INFO - Sender task started for Address(host='127.0.0.1', port=53624)
2025-05-24 13:48:51,054 - INFO - Receiver task started for Address(host='127.0.0.1', port=53624)
2025-05-24 13:48:51,081 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=53624)
2025-05-24 13:48:52,916 - INFO - Backend: Received POST request to /simulation/start
2025-05-24 13:48:52,917 - INFO - Simulation task starting
2025-05-24 13:48:52,918 - INFO - System message enqueued to backend queue
2025-05-24 13:49:07,076 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=53624): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 13:49:07,078 - INFO - Receiver task for Address(host='127.0.0.1', port=53624) finished.
2025-05-24 13:49:07,280 - INFO - Sender task for Address(host='127.0.0.1', port=53624) was cancelled.
2025-05-24 13:49:07,280 - INFO - Application shutdown event triggered.
2025-05-24 13:49:07,280 - INFO - SimulationManager stopped.
2025-05-24 13:49:07,280 - INFO - Stopping MessageProcessor...
2025-05-24 13:49:07,280 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-24 13:49:07,280 - INFO - All WebSocket connections attempted to close.
2025-05-24 13:49:07,280 - INFO - Application shutdown complete.
2025-05-24 13:49:07,281 - INFO - Initiating cleanup for connection: 127.0.0.1:53624
2025-05-24 13:49:07,281 - INFO - Starting cleanup for 127.0.0.1:53624
2025-05-24 13:49:07,281 - INFO - Connection cleanup completed for 127.0.0.1:53624. Remaining connections: 0
2025-05-24 13:49:07,281 - INFO - Cleanup finished for connection: 127.0.0.1:53624. Total connections: 0
2025-05-24 13:54:03,676 - INFO - Application startup event triggered.
2025-05-24 13:54:03,676 - INFO - Initializing all queues...
2025-05-24 13:54:03,676 - INFO - All queues initialized on loop 668459520
2025-05-24 13:54:03,676 - INFO - Shared queues initialized.
2025-05-24 13:54:03,676 - INFO - Retrieved queue instances. Event loop ID: 668459520
2025-05-24 13:54:03,676 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 13:54:03,676 - INFO - MessageProcessor queues verified
2025-05-24 13:54:03,677 - INFO - MessageProcessor task started.
2025-05-24 13:54:03,677 - INFO - QueueForwarder queues verified
2025-05-24 13:54:03,677 - INFO - QueueForwarder task started.
2025-05-24 13:54:03,677 - INFO - Application startup complete. All core services initialized.
2025-05-24 13:54:03,677 - INFO - Starting MessageProcessor
2025-05-24 13:54:03,678 - INFO - Starting QueueForwarder
2025-05-24 13:54:05,065 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=33612)
2025-05-24 13:54:05,065 - INFO - Adding connection: 127.0.0.1:33612. Total connections: 1
2025-05-24 13:54:05,066 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=33612)
2025-05-24 13:54:05,066 - INFO - Sender task started for Address(host='127.0.0.1', port=33612)
2025-05-24 13:54:05,067 - INFO - Receiver task started for Address(host='127.0.0.1', port=33612)
2025-05-24 13:54:05,072 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=33612)
2025-05-24 13:54:11,078 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=33612)
2025-05-24 13:54:15,978 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=48364)
2025-05-24 13:54:15,978 - INFO - Adding connection: 127.0.0.1:48364. Total connections: 2
2025-05-24 13:54:15,979 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=48364)
2025-05-24 13:54:15,980 - INFO - Sender task started for Address(host='127.0.0.1', port=48364)
2025-05-24 13:54:15,980 - INFO - Receiver task started for Address(host='127.0.0.1', port=48364)
2025-05-24 13:54:15,982 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=48364)
2025-05-24 13:54:46,074 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=48364): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 13:54:46,075 - INFO - Receiver task for Address(host='127.0.0.1', port=48364) finished.
2025-05-24 13:54:47,602 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=33612): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 13:54:47,603 - INFO - Receiver task for Address(host='127.0.0.1', port=33612) finished.
2025-05-24 13:54:48,867 - INFO - Sender task for Address(host='127.0.0.1', port=33612) was cancelled.
2025-05-24 13:54:48,867 - INFO - Sender task for Address(host='127.0.0.1', port=48364) was cancelled.
2025-05-24 13:54:48,867 - INFO - Application shutdown event triggered.
2025-05-24 13:54:48,869 - INFO - Initiating cleanup for connection: 127.0.0.1:33612
2025-05-24 13:54:48,869 - INFO - Starting cleanup for 127.0.0.1:33612
2025-05-24 13:54:48,869 - INFO - Connection cleanup completed for 127.0.0.1:33612. Remaining connections: 1
2025-05-24 13:54:48,869 - INFO - Cleanup finished for connection: 127.0.0.1:33612. Total connections: 1
2025-05-24 13:54:48,871 - INFO - Initiating cleanup for connection: 127.0.0.1:48364
2025-05-24 13:54:48,871 - INFO - Starting cleanup for 127.0.0.1:48364
2025-05-24 13:54:48,871 - INFO - Connection cleanup completed for 127.0.0.1:48364. Remaining connections: 0
2025-05-24 13:54:48,871 - INFO - Cleanup finished for connection: 127.0.0.1:48364. Total connections: 0
2025-05-24 13:55:26,029 - INFO - Application startup event triggered.
2025-05-24 13:55:26,029 - INFO - Initializing all queues...
2025-05-24 13:55:26,029 - INFO - All queues initialized on loop 319496704
2025-05-24 13:55:26,029 - INFO - Shared queues initialized.
2025-05-24 13:55:26,029 - INFO - Retrieved queue instances. Event loop ID: 319496704
2025-05-24 13:55:26,029 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 13:55:26,029 - INFO - MessageProcessor queues verified
2025-05-24 13:55:26,029 - INFO - MessageProcessor task started.
2025-05-24 13:55:26,030 - INFO - QueueForwarder queues verified
2025-05-24 13:55:26,030 - INFO - QueueForwarder task started.
2025-05-24 13:55:26,030 - INFO - Application startup complete. All core services initialized.
2025-05-24 13:55:26,030 - INFO - Starting MessageProcessor
2025-05-24 13:55:26,030 - INFO - Starting QueueForwarder
2025-05-24 13:55:27,372 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=33086)
2025-05-24 13:55:27,372 - INFO - Adding connection: 127.0.0.1:33086. Total connections: 1
2025-05-24 13:55:27,374 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=33086)
2025-05-24 13:55:27,374 - INFO - Sender task started for Address(host='127.0.0.1', port=33086)
2025-05-24 13:55:27,374 - INFO - Receiver task started for Address(host='127.0.0.1', port=33086)
2025-05-24 13:55:27,396 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=33086)
2025-05-24 13:55:47,785 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=33086): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 13:55:47,786 - INFO - Receiver task for Address(host='127.0.0.1', port=33086) finished.
2025-05-24 13:55:48,622 - INFO - Sender task for Address(host='127.0.0.1', port=33086) was cancelled.
2025-05-24 13:55:48,622 - INFO - Application shutdown event triggered.
2025-05-24 13:55:48,624 - INFO - Initiating cleanup for connection: 127.0.0.1:33086
2025-05-24 13:55:48,624 - INFO - Starting cleanup for 127.0.0.1:33086
2025-05-24 13:55:48,624 - INFO - Connection cleanup completed for 127.0.0.1:33086. Remaining connections: 0
2025-05-24 13:55:48,624 - INFO - Cleanup finished for connection: 127.0.0.1:33086. Total connections: 0
2025-05-24 13:59:48,504 - INFO - Application startup event triggered.
2025-05-24 13:59:48,504 - INFO - Initializing all queues...
2025-05-24 13:59:48,504 - INFO - All queues initialized on loop 1061675520
2025-05-24 13:59:48,504 - INFO - Shared queues initialized.
2025-05-24 13:59:48,505 - INFO - Retrieved queue instances. Event loop ID: 1061675520
2025-05-24 13:59:48,505 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 13:59:48,505 - INFO - MessageProcessor queues verified
2025-05-24 13:59:48,505 - INFO - MessageProcessor task started.
2025-05-24 13:59:48,505 - INFO - QueueForwarder queues verified
2025-05-24 13:59:48,505 - INFO - QueueForwarder task started.
2025-05-24 13:59:48,505 - INFO - Application startup complete. All core services initialized.
2025-05-24 13:59:48,506 - INFO - Starting MessageProcessor
2025-05-24 13:59:48,506 - INFO - Starting QueueForwarder
2025-05-24 13:59:49,895 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=46582)
2025-05-24 13:59:49,895 - INFO - Adding connection: 127.0.0.1:46582. Total connections: 1
2025-05-24 13:59:49,896 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=46582)
2025-05-24 13:59:49,896 - INFO - Sender task started for Address(host='127.0.0.1', port=46582)
2025-05-24 13:59:49,897 - INFO - Receiver task started for Address(host='127.0.0.1', port=46582)
2025-05-24 13:59:49,901 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=46582)
2025-05-24 13:59:52,369 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=46582)
2025-05-24 14:00:12,988 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=46582): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 14:00:12,989 - INFO - Receiver task for Address(host='127.0.0.1', port=46582) finished.
2025-05-24 14:00:22,232 - INFO - Sender task for Address(host='127.0.0.1', port=46582) was cancelled.
2025-05-24 14:00:22,232 - INFO - Application shutdown event triggered.
2025-05-24 14:00:22,234 - INFO - Initiating cleanup for connection: 127.0.0.1:46582
2025-05-24 14:00:22,234 - INFO - Starting cleanup for 127.0.0.1:46582
2025-05-24 14:00:22,234 - INFO - Connection cleanup completed for 127.0.0.1:46582. Remaining connections: 0
2025-05-24 14:00:22,234 - INFO - Cleanup finished for connection: 127.0.0.1:46582. Total connections: 0
2025-05-24 14:00:26,134 - INFO - Application startup event triggered.
2025-05-24 14:00:26,134 - INFO - Initializing all queues...
2025-05-24 14:00:26,134 - INFO - All queues initialized on loop 415490560
2025-05-24 14:00:26,134 - INFO - Shared queues initialized.
2025-05-24 14:00:26,134 - INFO - Retrieved queue instances. Event loop ID: 415490560
2025-05-24 14:00:26,135 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 14:00:26,135 - INFO - MessageProcessor queues verified
2025-05-24 14:00:26,135 - INFO - MessageProcessor task started.
2025-05-24 14:00:26,135 - INFO - QueueForwarder queues verified
2025-05-24 14:00:26,135 - INFO - QueueForwarder task started.
2025-05-24 14:00:26,135 - INFO - Application startup complete. All core services initialized.
2025-05-24 14:00:26,135 - INFO - Starting MessageProcessor
2025-05-24 14:00:26,135 - INFO - Starting QueueForwarder
2025-05-24 14:00:27,487 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35264)
2025-05-24 14:00:27,487 - INFO - Adding connection: 127.0.0.1:35264. Total connections: 1
2025-05-24 14:00:27,488 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=35264)
2025-05-24 14:00:27,488 - INFO - Sender task started for Address(host='127.0.0.1', port=35264)
2025-05-24 14:00:27,488 - INFO - Receiver task started for Address(host='127.0.0.1', port=35264)
2025-05-24 14:00:27,493 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=35264)
2025-05-24 14:00:30,182 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=35264)
2025-05-24 14:00:50,132 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=35264): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 14:00:50,133 - INFO - Receiver task for Address(host='127.0.0.1', port=35264) finished.
2025-05-24 14:00:50,333 - INFO - Sender task for Address(host='127.0.0.1', port=35264) was cancelled.
2025-05-24 14:00:50,333 - INFO - Application shutdown event triggered.
2025-05-24 14:00:50,336 - INFO - Initiating cleanup for connection: 127.0.0.1:35264
2025-05-24 14:00:50,336 - INFO - Starting cleanup for 127.0.0.1:35264
2025-05-24 14:00:50,336 - INFO - Connection cleanup completed for 127.0.0.1:35264. Remaining connections: 0
2025-05-24 14:00:50,336 - INFO - Cleanup finished for connection: 127.0.0.1:35264. Total connections: 0
2025-05-24 14:10:23,143 - INFO - Application startup event triggered.
2025-05-24 14:10:23,143 - INFO - Initializing all queues...
2025-05-24 14:10:23,143 - INFO - All queues initialized on loop 444256768
2025-05-24 14:10:23,144 - INFO - Shared queues initialized.
2025-05-24 14:10:23,144 - INFO - Retrieved queue instances. Event loop ID: 444256768
2025-05-24 14:10:23,144 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 14:10:23,144 - INFO - MessageProcessor queues verified
2025-05-24 14:10:23,144 - INFO - MessageProcessor task started.
2025-05-24 14:10:23,144 - INFO - QueueForwarder queues verified
2025-05-24 14:10:23,144 - INFO - QueueForwarder task started.
2025-05-24 14:10:23,144 - INFO - Application startup complete. All core services initialized.
2025-05-24 14:10:23,144 - INFO - Starting MessageProcessor
2025-05-24 14:10:23,145 - INFO - Starting QueueForwarder
2025-05-24 14:10:24,541 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=34438)
2025-05-24 14:10:24,541 - INFO - Adding connection: 127.0.0.1:34438. Total connections: 1
2025-05-24 14:10:24,543 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=34438)
2025-05-24 14:10:24,543 - INFO - Sender task started for Address(host='127.0.0.1', port=34438)
2025-05-24 14:10:24,543 - INFO - Receiver task started for Address(host='127.0.0.1', port=34438)
2025-05-24 14:10:24,547 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=34438)
2025-05-24 14:10:29,334 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=34438)
2025-05-24 14:10:46,538 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=34438): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 14:10:46,539 - INFO - Receiver task for Address(host='127.0.0.1', port=34438) finished.
2025-05-24 14:10:46,639 - INFO - Sender task for Address(host='127.0.0.1', port=34438) was cancelled.
2025-05-24 14:10:46,639 - INFO - Application shutdown event triggered.
2025-05-24 14:10:46,641 - INFO - Initiating cleanup for connection: 127.0.0.1:34438
2025-05-24 14:10:46,641 - INFO - Starting cleanup for 127.0.0.1:34438
2025-05-24 14:10:46,641 - INFO - Connection cleanup completed for 127.0.0.1:34438. Remaining connections: 0
2025-05-24 14:10:46,641 - INFO - Cleanup finished for connection: 127.0.0.1:34438. Total connections: 0
2025-05-24 14:22:59,953 - INFO - Application startup event triggered.
2025-05-24 14:22:59,953 - INFO - Initializing all queues...
2025-05-24 14:22:59,953 - INFO - All queues initialized on loop 416031232
2025-05-24 14:22:59,953 - INFO - Shared queues initialized.
2025-05-24 14:22:59,953 - INFO - Retrieved queue instances. Event loop ID: 416031232
2025-05-24 14:22:59,953 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 14:22:59,953 - INFO - MessageProcessor queues verified
2025-05-24 14:22:59,953 - INFO - MessageProcessor task started.
2025-05-24 14:22:59,953 - INFO - QueueForwarder queues verified
2025-05-24 14:22:59,954 - INFO - QueueForwarder task started.
2025-05-24 14:22:59,954 - INFO - Application startup complete. All core services initialized.
2025-05-24 14:22:59,954 - INFO - Starting MessageProcessor
2025-05-24 14:22:59,954 - INFO - Starting QueueForwarder
2025-05-24 14:23:01,475 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:01,475 - INFO - Adding connection: 127.0.0.1:54384. Total connections: 1
2025-05-24 14:23:01,477 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:01,477 - INFO - Sender task started for Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:01,477 - INFO - Receiver task started for Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:01,482 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:04,119 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:04,987 - INFO - Backend: Starting simulation via API
2025-05-24 14:23:04,987 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-24 14:23:04,988 - INFO - Starting simulation loop
2025-05-24 14:23:04,988 - INFO - Initial message sent to frontend queue
2025-05-24 14:23:04,989 - INFO - System message enqueued to backend queue
2025-05-24 14:23:04,989 - INFO - Processed 3 messages
2025-05-24 14:23:07,098 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:10,941 - INFO - Processed 4 messages
2025-05-24 14:23:16,146 - INFO - Processed 2 messages
2025-05-24 14:23:17,537 - WARNING - Messages not being forwarded to frontend
2025-05-24 14:23:21,149 - INFO - Processed 2 messages
2025-05-24 14:23:28,720 - INFO - Processed 3 messages
2025-05-24 14:23:28,765 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=54384): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 14:23:28,766 - INFO - Receiver task for Address(host='127.0.0.1', port=54384) finished.
2025-05-24 14:23:29,325 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=59488)
2025-05-24 14:23:29,325 - INFO - Adding connection: 127.0.0.1:59488. Total connections: 2
2025-05-24 14:23:29,326 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=59488)
2025-05-24 14:23:29,326 - INFO - Sender task started for Address(host='127.0.0.1', port=59488)
2025-05-24 14:23:29,326 - INFO - Receiver task started for Address(host='127.0.0.1', port=59488)
2025-05-24 14:23:29,330 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=59488)
2025-05-24 14:23:29,331 - WARNING - Failed to send message to Address(host='127.0.0.1', port=54384), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-24 14:23:29,331 - INFO - Sender task for Address(host='127.0.0.1', port=54384) finished.
2025-05-24 14:23:29,331 - INFO - Initiating cleanup for connection: 127.0.0.1:54384
2025-05-24 14:23:29,331 - INFO - Starting cleanup for 127.0.0.1:54384
2025-05-24 14:23:29,331 - INFO - Connection cleanup completed for 127.0.0.1:54384. Remaining connections: 1
2025-05-24 14:23:29,331 - INFO - Cleanup finished for connection: 127.0.0.1:54384. Total connections: 1
2025-05-24 14:23:29,331 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=54384): Cannot call "receive" once a disconnect message has been received.
2025-05-24 14:23:29,332 - INFO - Starting cleanup for Address(host='127.0.0.1', port=54384)
2025-05-24 14:23:29,332 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54384). Remaining connections: 1
2025-05-24 14:23:29,817 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=59488): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 14:23:29,818 - INFO - Receiver task for Address(host='127.0.0.1', port=59488) finished.
2025-05-24 14:23:30,426 - WARNING - Messages not being forwarded to frontend
2025-05-24 14:23:31,428 - WARNING - Failed to send message to Address(host='127.0.0.1', port=59488), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-24 14:23:31,428 - INFO - Sender task for Address(host='127.0.0.1', port=59488) finished.
2025-05-24 14:23:31,428 - INFO - Initiating cleanup for connection: 127.0.0.1:59488
2025-05-24 14:23:31,428 - INFO - Starting cleanup for 127.0.0.1:59488
2025-05-24 14:23:31,428 - INFO - Connection cleanup completed for 127.0.0.1:59488. Remaining connections: 0
2025-05-24 14:23:31,429 - INFO - Cleanup finished for connection: 127.0.0.1:59488. Total connections: 0
2025-05-24 14:23:31,429 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=59488): Cannot call "receive" once a disconnect message has been received.
2025-05-24 14:23:31,429 - INFO - Starting cleanup for Address(host='127.0.0.1', port=59488)
2025-05-24 14:23:31,429 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=59488). Remaining connections: 0
2025-05-24 14:23:33,725 - INFO - Processed 3 messages
2025-05-24 14:23:40,212 - INFO - Application shutdown event triggered.
2025-05-24 14:23:40,212 - INFO - SimulationManager stopped.
2025-05-24 14:23:40,212 - INFO - Stopping MessageProcessor...
2025-05-24 14:23:40,212 - WARNING - MessageProcessor didn't stop cleanly
2025-05-24 14:23:40,212 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-24 14:23:40,213 - INFO - All WebSocket connections attempted to close.
2025-05-24 14:23:40,213 - INFO - Application shutdown complete.
2025-05-24 15:11:55,468 - INFO - Application startup event triggered.
2025-05-24 15:11:55,468 - INFO - Initializing all queues...
2025-05-24 15:11:55,468 - INFO - All queues initialized on loop 387609088
2025-05-24 15:11:55,468 - INFO - Shared queues initialized.
2025-05-24 15:11:55,468 - INFO - Retrieved queue instances. Event loop ID: 387609088
2025-05-24 15:11:55,469 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 15:11:55,469 - INFO - MessageProcessor queues verified
2025-05-24 15:11:55,469 - INFO - MessageProcessor task started.
2025-05-24 15:11:55,469 - INFO - QueueForwarder queues verified
2025-05-24 15:11:55,469 - INFO - QueueForwarder task started.
2025-05-24 15:11:55,469 - INFO - Application startup complete. All core services initialized.
2025-05-24 15:11:55,469 - INFO - Starting MessageProcessor
2025-05-24 15:11:55,470 - INFO - Starting QueueForwarder
2025-05-24 15:11:56,856 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37378)
2025-05-24 15:11:56,856 - INFO - Adding connection: 127.0.0.1:37378. Total connections: 1
2025-05-24 15:11:56,858 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=37378)
2025-05-24 15:11:56,858 - INFO - Sender task started for Address(host='127.0.0.1', port=37378)
2025-05-24 15:11:56,858 - INFO - Receiver task started for Address(host='127.0.0.1', port=37378)
2025-05-24 15:11:56,862 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=37378)
2025-05-24 15:11:59,220 - INFO - Backend: Starting simulation via API
2025-05-24 15:11:59,220 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-24 15:11:59,221 - INFO - Starting simulation loop
2025-05-24 15:11:59,221 - INFO - Initial message sent to frontend queue
2025-05-24 15:11:59,222 - INFO - System message enqueued to backend queue
2025-05-24 15:12:02,785 - INFO - Processed 4 messages
2025-05-24 15:12:07,614 - INFO - Backend: Received POST request to /simulation/stop
2025-05-24 15:12:08,416 - INFO - Processed 2 messages
2025-05-24 15:12:08,829 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=37378): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 15:12:08,831 - INFO - Receiver task for Address(host='127.0.0.1', port=37378) finished.
2025-05-24 15:12:09,133 - INFO - Sender task for Address(host='127.0.0.1', port=37378) was cancelled.
2025-05-24 15:12:09,134 - INFO - Application shutdown event triggered.
2025-05-24 15:12:09,134 - INFO - Stopping MessageProcessor...
2025-05-24 15:12:09,134 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-24 15:12:09,134 - INFO - All WebSocket connections attempted to close.
2025-05-24 15:12:09,134 - INFO - Application shutdown complete.
2025-05-24 15:12:09,135 - INFO - Initiating cleanup for connection: 127.0.0.1:37378
2025-05-24 15:12:09,135 - INFO - Starting cleanup for 127.0.0.1:37378
2025-05-24 15:12:09,135 - INFO - Connection cleanup completed for 127.0.0.1:37378. Remaining connections: 0
2025-05-24 15:12:09,135 - INFO - Cleanup finished for connection: 127.0.0.1:37378. Total connections: 0
2025-05-24 23:37:30,867 - INFO - Application startup event triggered.
2025-05-24 23:37:30,867 - INFO - Initializing all queues...
2025-05-24 23:37:30,867 - INFO - All queues initialized on loop 823837184
2025-05-24 23:37:30,867 - INFO - Shared queues initialized.
2025-05-24 23:37:30,867 - INFO - Retrieved queue instances. Event loop ID: 823837184
2025-05-24 23:37:30,867 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:37:30,867 - INFO - MessageProcessor queues verified
2025-05-24 23:37:30,867 - INFO - MessageProcessor task started.
2025-05-24 23:37:30,867 - INFO - QueueForwarder queues verified
2025-05-24 23:37:30,867 - INFO - QueueForwarder task started.
2025-05-24 23:37:30,868 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:37:30,868 - INFO - Starting MessageProcessor
2025-05-24 23:37:30,868 - INFO - Starting QueueForwarder
2025-05-24 23:40:01,870 - INFO - Application shutdown event triggered.
2025-05-24 23:40:01,870 - INFO - Stopping MessageProcessor...
2025-05-24 23:40:01,870 - WARNING - MessageProcessor didn't stop cleanly
2025-05-24 23:40:01,870 - INFO - QueueForwarder task cancelled.
2025-05-24 23:40:01,870 - INFO - All WebSocket connections attempted to close.
2025-05-24 23:40:01,870 - INFO - Application shutdown complete.
2025-05-24 23:41:04,419 - INFO - Application startup event triggered.
2025-05-24 23:41:04,419 - INFO - Initializing all queues...
2025-05-24 23:41:04,420 - INFO - All queues initialized on loop 102244864
2025-05-24 23:41:04,420 - INFO - Shared queues initialized.
2025-05-24 23:41:04,420 - INFO - Retrieved queue instances. Event loop ID: 102244864
2025-05-24 23:41:04,420 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:41:04,420 - INFO - MessageProcessor queues verified
2025-05-24 23:41:04,420 - INFO - MessageProcessor task started.
2025-05-24 23:41:04,420 - INFO - QueueForwarder queues verified
2025-05-24 23:41:04,420 - INFO - QueueForwarder task started.
2025-05-24 23:41:04,420 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:41:04,420 - INFO - Starting MessageProcessor
2025-05-24 23:41:04,420 - INFO - Starting QueueForwarder
2025-05-24 23:44:10,778 - INFO - Application shutdown event triggered.
2025-05-24 23:44:10,778 - INFO - Stopping MessageProcessor...
2025-05-24 23:44:10,778 - WARNING - MessageProcessor didn't stop cleanly
2025-05-24 23:44:10,779 - INFO - QueueForwarder task cancelled.
2025-05-24 23:44:10,779 - INFO - All WebSocket connections attempted to close.
2025-05-24 23:44:10,779 - INFO - Application shutdown complete.
2025-05-24 23:44:11,595 - INFO - Application startup event triggered.
2025-05-24 23:44:11,595 - INFO - Initializing all queues...
2025-05-24 23:44:11,595 - INFO - All queues initialized on loop 760215600
2025-05-24 23:44:11,595 - INFO - Shared queues initialized.
2025-05-24 23:44:11,595 - INFO - Retrieved queue instances. Event loop ID: 760215600
2025-05-24 23:44:11,595 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:44:11,595 - INFO - MessageProcessor queues verified
2025-05-24 23:44:11,596 - INFO - MessageProcessor task started.
2025-05-24 23:44:11,596 - INFO - QueueForwarder queues verified
2025-05-24 23:44:11,596 - INFO - QueueForwarder task started.
2025-05-24 23:44:11,596 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:44:11,596 - INFO - Starting MessageProcessor
2025-05-24 23:44:11,596 - INFO - Starting QueueForwarder
2025-05-24 23:44:13,603 - INFO - Application shutdown event triggered.
2025-05-24 23:44:18,537 - INFO - Application startup event triggered.
2025-05-24 23:44:18,537 - INFO - Initializing all queues...
2025-05-24 23:44:18,537 - INFO - All queues initialized on loop 632316416
2025-05-24 23:44:18,537 - INFO - Shared queues initialized.
2025-05-24 23:44:18,537 - INFO - Retrieved queue instances. Event loop ID: 632316416
2025-05-24 23:44:18,537 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:44:18,537 - INFO - MessageProcessor queues verified
2025-05-24 23:44:18,538 - INFO - MessageProcessor task started.
2025-05-24 23:44:18,538 - INFO - QueueForwarder queues verified
2025-05-24 23:44:18,538 - INFO - QueueForwarder task started.
2025-05-24 23:44:18,538 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:44:18,538 - INFO - Starting MessageProcessor
2025-05-24 23:44:18,538 - INFO - Starting QueueForwarder
2025-05-24 23:44:53,370 - INFO - Application shutdown event triggered.
2025-05-24 23:44:54,633 - INFO - Application startup event triggered.
2025-05-24 23:44:54,633 - INFO - Initializing all queues...
2025-05-24 23:44:54,633 - INFO - All queues initialized on loop 1033922608
2025-05-24 23:44:54,633 - INFO - Shared queues initialized.
2025-05-24 23:44:54,634 - INFO - Retrieved queue instances. Event loop ID: 1033922608
2025-05-24 23:44:54,634 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:44:54,634 - INFO - MessageProcessor queues verified
2025-05-24 23:44:54,634 - INFO - MessageProcessor task started.
2025-05-24 23:44:54,634 - INFO - QueueForwarder queues verified
2025-05-24 23:44:54,634 - INFO - QueueForwarder task started.
2025-05-24 23:44:54,634 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:44:54,634 - INFO - Starting MessageProcessor
2025-05-24 23:44:54,634 - INFO - Starting QueueForwarder
2025-05-24 23:45:37,791 - INFO - Application shutdown event triggered.
2025-05-24 23:45:42,772 - INFO - Application startup event triggered.
2025-05-24 23:45:42,772 - INFO - Initializing all queues...
2025-05-24 23:45:42,772 - INFO - All queues initialized on loop 906150400
2025-05-24 23:45:42,772 - INFO - Shared queues initialized.
2025-05-24 23:45:42,772 - INFO - Retrieved queue instances. Event loop ID: 906150400
2025-05-24 23:45:42,772 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:45:42,772 - INFO - MessageProcessor queues verified
2025-05-24 23:45:42,773 - INFO - MessageProcessor task started.
2025-05-24 23:45:42,773 - INFO - QueueForwarder queues verified
2025-05-24 23:45:42,773 - INFO - QueueForwarder task started.
2025-05-24 23:45:42,773 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:45:42,773 - INFO - Starting MessageProcessor
2025-05-24 23:45:42,773 - INFO - Starting QueueForwarder
2025-05-24 23:47:12,592 - INFO - Application shutdown event triggered.
2025-05-24 23:47:16,613 - INFO - Application startup event triggered.
2025-05-24 23:47:16,613 - INFO - Initializing all queues...
2025-05-24 23:47:16,613 - INFO - All queues initialized on loop 594756096
2025-05-24 23:47:16,614 - INFO - Shared queues initialized.
2025-05-24 23:47:16,614 - INFO - Retrieved queue instances. Event loop ID: 594756096
2025-05-24 23:47:16,614 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:47:16,614 - INFO - MessageProcessor queues verified
2025-05-24 23:47:16,614 - INFO - MessageProcessor task started.
2025-05-24 23:47:16,614 - INFO - QueueForwarder queues verified
2025-05-24 23:47:16,614 - INFO - QueueForwarder task started.
2025-05-24 23:47:16,614 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:47:16,615 - INFO - Starting MessageProcessor
2025-05-24 23:47:16,615 - INFO - Starting QueueForwarder
2025-05-24 23:48:06,476 - INFO - Application shutdown event triggered.
2025-05-24 23:48:10,779 - INFO - Application startup event triggered.
2025-05-24 23:48:10,779 - INFO - Initializing all queues...
2025-05-24 23:48:10,779 - INFO - All queues initialized on loop 934445568
2025-05-24 23:48:10,779 - INFO - Shared queues initialized.
2025-05-24 23:48:10,779 - INFO - Retrieved queue instances. Event loop ID: 934445568
2025-05-24 23:48:10,779 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:48:10,779 - INFO - MessageProcessor queues verified
2025-05-24 23:48:10,779 - INFO - MessageProcessor task started.
2025-05-24 23:48:10,779 - INFO - QueueForwarder queues verified
2025-05-24 23:48:10,779 - INFO - QueueForwarder task started.
2025-05-24 23:48:10,779 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:48:10,780 - INFO - Starting MessageProcessor
2025-05-24 23:48:10,780 - INFO - Starting QueueForwarder
2025-05-24 23:49:28,161 - INFO - Application shutdown event triggered.
2025-05-24 23:49:56,311 - INFO - Application startup event triggered.
2025-05-24 23:49:56,311 - INFO - Initializing all queues...
2025-05-24 23:49:56,311 - INFO - All queues initialized on loop 690172416
2025-05-24 23:49:56,311 - INFO - Shared queues initialized.
2025-05-24 23:49:56,311 - INFO - Retrieved queue instances. Event loop ID: 690172416
2025-05-24 23:49:56,312 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:49:56,312 - INFO - MessageProcessor queues verified
2025-05-24 23:49:56,312 - INFO - MessageProcessor task started.
2025-05-24 23:49:56,312 - INFO - QueueForwarder queues verified
2025-05-24 23:49:56,312 - INFO - QueueForwarder task started.
2025-05-24 23:49:56,312 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:49:56,312 - INFO - Starting MessageProcessor
2025-05-24 23:49:56,312 - INFO - Starting QueueForwarder
2025-05-24 23:51:08,092 - INFO - Application shutdown event triggered.
2025-05-24 23:51:12,168 - INFO - Application startup event triggered.
2025-05-24 23:51:12,168 - INFO - Initializing all queues...
2025-05-24 23:51:12,168 - INFO - All queues initialized on loop 468038144
2025-05-24 23:51:12,168 - INFO - Shared queues initialized.
2025-05-24 23:51:12,169 - INFO - Retrieved queue instances. Event loop ID: 468038144
2025-05-24 23:51:12,169 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:51:12,169 - INFO - MessageProcessor queues verified
2025-05-24 23:51:12,169 - INFO - MessageProcessor task started.
2025-05-24 23:51:12,169 - INFO - QueueForwarder queues verified
2025-05-24 23:51:12,169 - INFO - QueueForwarder task started.
2025-05-24 23:51:12,169 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:51:12,169 - INFO - Starting MessageProcessor
2025-05-24 23:51:12,169 - INFO - Starting QueueForwarder
2025-05-24 23:51:13,526 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=53150)
2025-05-24 23:51:13,527 - INFO - Adding connection: 127.0.0.1:53150. Total connections: 1
2025-05-24 23:51:13,528 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=53150)
2025-05-24 23:51:13,528 - INFO - Sender task started for Address(host='127.0.0.1', port=53150)
2025-05-24 23:51:13,529 - INFO - Receiver task started for Address(host='127.0.0.1', port=53150)
2025-05-24 23:51:13,532 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=53150)
2025-05-24 23:51:18,266 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=53150)
2025-05-24 23:51:18,267 - INFO - Processed 2 messages
2025-05-24 23:52:17,198 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=53150): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 23:52:17,200 - INFO - Receiver task for Address(host='127.0.0.1', port=53150) finished.
2025-05-24 23:52:17,400 - INFO - Sender task for Address(host='127.0.0.1', port=53150) was cancelled.
2025-05-24 23:52:17,401 - INFO - Application shutdown event triggered.
2025-05-24 23:52:17,403 - INFO - Initiating cleanup for connection: 127.0.0.1:53150
2025-05-24 23:52:17,403 - INFO - Starting cleanup for 127.0.0.1:53150
2025-05-24 23:52:17,403 - INFO - Connection cleanup completed for 127.0.0.1:53150. Remaining connections: 0
2025-05-24 23:52:17,403 - INFO - Cleanup finished for connection: 127.0.0.1:53150. Total connections: 0
2025-05-24 23:54:20,796 - INFO - Application startup event triggered.
2025-05-24 23:54:20,796 - INFO - Initializing all queues...
2025-05-24 23:54:20,797 - INFO - All queues initialized on loop 986198528
2025-05-24 23:54:20,797 - INFO - Shared queues initialized.
2025-05-24 23:54:20,797 - INFO - Retrieved queue instances. Event loop ID: 986198528
2025-05-24 23:54:20,797 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-24 23:54:20,797 - INFO - MessageProcessor queues verified
2025-05-24 23:54:20,797 - INFO - MessageProcessor task started.
2025-05-24 23:54:20,797 - INFO - QueueForwarder queues verified
2025-05-24 23:54:20,797 - INFO - QueueForwarder task started.
2025-05-24 23:54:20,797 - INFO - Application startup complete. All core services initialized.
2025-05-24 23:54:20,797 - INFO - Starting MessageProcessor
2025-05-24 23:54:20,797 - INFO - Starting QueueForwarder
2025-05-24 23:54:22,180 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=43008)
2025-05-24 23:54:22,180 - INFO - Adding connection: 127.0.0.1:43008. Total connections: 1
2025-05-24 23:54:22,182 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=43008)
2025-05-24 23:54:22,182 - INFO - Sender task started for Address(host='127.0.0.1', port=43008)
2025-05-24 23:54:22,182 - INFO - Receiver task started for Address(host='127.0.0.1', port=43008)
2025-05-24 23:54:22,213 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=43008)
2025-05-24 23:54:23,792 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=43022)
2025-05-24 23:54:23,792 - INFO - Adding connection: 127.0.0.1:43022. Total connections: 2
2025-05-24 23:54:23,793 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=43022)
2025-05-24 23:54:23,793 - INFO - Sender task started for Address(host='127.0.0.1', port=43022)
2025-05-24 23:54:23,793 - INFO - Receiver task started for Address(host='127.0.0.1', port=43022)
2025-05-24 23:54:23,796 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=43022)
2025-05-24 23:54:42,900 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=43022): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 23:54:42,901 - INFO - Receiver task for Address(host='127.0.0.1', port=43022) finished.
2025-05-24 23:54:44,996 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=43008): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-24 23:54:44,997 - INFO - Receiver task for Address(host='127.0.0.1', port=43008) finished.
2025-05-24 23:54:45,077 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=51296)
2025-05-24 23:54:45,077 - INFO - Adding connection: 127.0.0.1:51296. Total connections: 3
2025-05-24 23:54:45,078 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=51296)
2025-05-24 23:54:45,079 - INFO - Sender task started for Address(host='127.0.0.1', port=51296)
2025-05-24 23:54:45,079 - INFO - Receiver task started for Address(host='127.0.0.1', port=51296)
2025-05-24 23:54:45,100 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=51296)
2025-05-24 23:54:45,100 - INFO - Processed 3 messages
2025-05-24 23:54:45,101 - WARNING - Failed to send message to Address(host='127.0.0.1', port=43022), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-24 23:54:45,101 - INFO - Sender task for Address(host='127.0.0.1', port=43022) finished.
2025-05-24 23:54:45,101 - INFO - Initiating cleanup for connection: 127.0.0.1:43022
2025-05-24 23:54:45,101 - INFO - Starting cleanup for 127.0.0.1:43022
2025-05-24 23:54:45,101 - INFO - Connection cleanup completed for 127.0.0.1:43022. Remaining connections: 2
2025-05-24 23:54:45,101 - INFO - Cleanup finished for connection: 127.0.0.1:43022. Total connections: 2
2025-05-24 23:54:45,101 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=43022): Cannot call "receive" once a disconnect message has been received.
2025-05-24 23:54:45,102 - INFO - Starting cleanup for Address(host='127.0.0.1', port=43022)
2025-05-24 23:54:45,102 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=43022). Remaining connections: 2
2025-05-24 23:56:13,604 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=51296): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-24 23:56:13,605 - INFO - Receiver task for Address(host='127.0.0.1', port=51296) finished.
2025-05-24 23:58:31,555 - INFO - Application shutdown event triggered.
2025-05-24 23:58:31,557 - INFO - Sender task for Address(host='127.0.0.1', port=43008) was cancelled.
2025-05-24 23:58:31,558 - INFO - Sender task for Address(host='127.0.0.1', port=51296) was cancelled.
2025-05-24 23:58:31,558 - INFO - Initiating cleanup for connection: 127.0.0.1:43008
2025-05-24 23:58:31,558 - INFO - Starting cleanup for 127.0.0.1:43008
2025-05-24 23:58:31,558 - INFO - Connection cleanup completed for 127.0.0.1:43008. Remaining connections: 1
2025-05-24 23:58:31,558 - INFO - Cleanup finished for connection: 127.0.0.1:43008. Total connections: 1
2025-05-24 23:58:31,561 - INFO - Initiating cleanup for connection: 127.0.0.1:51296
2025-05-24 23:58:31,561 - INFO - Starting cleanup for 127.0.0.1:51296
2025-05-24 23:58:31,561 - INFO - Connection cleanup completed for 127.0.0.1:51296. Remaining connections: 0
2025-05-24 23:58:31,561 - INFO - Cleanup finished for connection: 127.0.0.1:51296. Total connections: 0
2025-05-24 23:58:34,366 - INFO - Application startup event triggered.
2025-05-24 23:58:34,366 - INFO - Initializing all queues...
2025-05-24 23:58:34,366 - INFO - All queues initialized on loop 80007680
2025-05-24 23:58:34,366 - INFO - Shared queues initialized.
2025-05-24 23:58:34,366 - INFO - Retrieved queue instances. Event loop ID: 80007680
2025-05-25 00:00:57,243 - INFO - Application startup event triggered.
2025-05-25 00:00:57,243 - INFO - Initializing all queues...
2025-05-25 00:00:57,243 - INFO - All queues initialized on loop 563790336
2025-05-25 00:00:57,243 - INFO - Shared queues initialized.
2025-05-25 00:00:57,243 - INFO - Retrieved queue instances. Event loop ID: 563790336
2025-05-25 00:04:25,976 - INFO - Application startup event triggered.
2025-05-25 00:04:25,976 - INFO - Initializing all queues...
2025-05-25 00:04:25,976 - INFO - All queues initialized on loop 802226688
2025-05-25 00:04:25,976 - INFO - Shared queues initialized.
2025-05-25 00:04:25,976 - INFO - Retrieved queue instances. Event loop ID: 802226688
2025-05-25 00:06:04,257 - INFO - Application startup event triggered.
2025-05-25 00:06:04,257 - INFO - Initializing all queues...
2025-05-25 00:06:04,257 - INFO - All queues initialized on loop 625432624
2025-05-25 00:06:04,257 - INFO - Shared queues initialized.
2025-05-25 00:06:04,257 - INFO - Retrieved queue instances. Event loop ID: 625432624
2025-05-25 00:06:11,351 - INFO - Application startup event triggered.
2025-05-25 00:06:11,351 - INFO - Initializing all queues...
2025-05-25 00:06:11,351 - INFO - All queues initialized on loop 288983088
2025-05-25 00:06:11,351 - INFO - Shared queues initialized.
2025-05-25 00:06:11,351 - INFO - Retrieved queue instances. Event loop ID: 288983088
2025-05-25 00:06:20,793 - INFO - Application startup event triggered.
2025-05-25 00:06:20,793 - INFO - Initializing all queues...
2025-05-25 00:06:20,793 - INFO - All queues initialized on loop 242528768
2025-05-25 00:06:20,793 - INFO - Shared queues initialized.
2025-05-25 00:06:20,793 - INFO - Retrieved queue instances. Event loop ID: 242528768
2025-05-25 00:08:48,465 - INFO - Application startup event triggered.
2025-05-25 00:08:48,465 - INFO - Initializing all queues...
2025-05-25 00:08:48,466 - INFO - All queues initialized on loop 32068096
2025-05-25 00:08:48,466 - INFO - Shared queues initialized.
2025-05-25 00:08:48,466 - INFO - Retrieved queue instances. Event loop ID: 32068096
2025-05-25 00:09:32,192 - INFO - Application startup event triggered.
2025-05-25 00:09:32,192 - INFO - Initializing all queues...
2025-05-25 00:09:32,193 - INFO - All queues initialized on loop 128385536
2025-05-25 00:09:32,193 - INFO - Shared queues initialized.
2025-05-25 00:09:32,193 - INFO - Retrieved queue instances. Event loop ID: 128385536
2025-05-25 00:13:27,051 - INFO - Application startup event triggered.
2025-05-25 00:13:27,051 - INFO - Initializing all queues...
2025-05-25 00:13:27,051 - INFO - All queues initialized on loop 905961984
2025-05-25 00:13:27,051 - INFO - Shared queues initialized.
2025-05-25 00:13:27,051 - INFO - Retrieved queue instances. Event loop ID: 905961984
2025-05-25 00:18:39,083 - INFO - Application startup event triggered.
2025-05-25 00:18:39,083 - INFO - Initializing all queues...
2025-05-25 00:18:39,083 - INFO - All queues initialized on loop 352540720
2025-05-25 00:18:39,084 - INFO - Shared queues initialized.
2025-05-25 00:18:39,084 - INFO - Retrieved queue instances. Event loop ID: 352540720
2025-05-25 00:18:39,084 - INFO - SimulationManager ready state set to: True
2025-05-25 00:18:39,084 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 00:18:39,084 - INFO - MessageProcessor queues verified
2025-05-25 00:18:39,084 - INFO - MessageProcessor task started.
2025-05-25 00:18:39,084 - INFO - QueueForwarder queues verified
2025-05-25 00:18:39,084 - INFO - QueueForwarder task started.
2025-05-25 00:18:39,084 - INFO - Application startup complete. All core services initialized.
2025-05-25 00:18:39,084 - INFO - Starting MessageProcessor
2025-05-25 00:18:39,084 - INFO - Starting QueueForwarder
2025-05-25 00:18:51,334 - INFO - Application shutdown event triggered.
2025-05-25 00:18:56,677 - INFO - Application startup event triggered.
2025-05-25 00:18:56,677 - INFO - Initializing all queues...
2025-05-25 00:18:56,677 - INFO - All queues initialized on loop 508158464
2025-05-25 00:18:56,677 - INFO - Shared queues initialized.
2025-05-25 00:18:56,677 - INFO - Retrieved queue instances. Event loop ID: 508158464
2025-05-25 00:18:56,677 - INFO - SimulationManager ready state set to: True
2025-05-25 00:18:56,677 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 00:18:56,677 - INFO - MessageProcessor queues verified
2025-05-25 00:18:56,678 - INFO - MessageProcessor task started.
2025-05-25 00:18:56,678 - INFO - QueueForwarder queues verified
2025-05-25 00:18:56,678 - INFO - QueueForwarder task started.
2025-05-25 00:18:56,678 - INFO - Application startup complete. All core services initialized.
2025-05-25 00:18:56,678 - INFO - Starting MessageProcessor
2025-05-25 00:18:56,678 - INFO - Starting QueueForwarder
2025-05-25 00:23:36,567 - INFO - Application shutdown event triggered.
2025-05-25 00:23:37,356 - INFO - Application startup event triggered.
2025-05-25 00:23:37,357 - INFO - Initializing all queues...
2025-05-25 00:23:37,357 - INFO - All queues initialized on loop 903776304
2025-05-25 00:23:37,357 - INFO - Shared queues initialized.
2025-05-25 00:23:37,357 - INFO - Retrieved queue instances. Event loop ID: 903776304
2025-05-25 00:23:37,357 - INFO - SimulationManager ready state set to: True
2025-05-25 00:23:37,357 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 00:23:37,357 - INFO - MessageProcessor queues verified
2025-05-25 00:23:37,357 - INFO - MessageProcessor task started.
2025-05-25 00:23:37,357 - INFO - QueueForwarder queues verified
2025-05-25 00:23:37,357 - INFO - QueueForwarder task started.
2025-05-25 00:23:37,357 - INFO - Application startup complete. All core services initialized.
2025-05-25 00:23:37,357 - INFO - Starting MessageProcessor
2025-05-25 00:23:37,358 - INFO - Starting QueueForwarder
2025-05-25 00:23:42,775 - INFO - Application shutdown event triggered.
2025-05-25 00:23:48,387 - INFO - Application startup event triggered.
2025-05-25 00:23:48,387 - INFO - Initializing all queues...
2025-05-25 00:23:48,388 - INFO - All queues initialized on loop 428925440
2025-05-25 00:23:48,388 - INFO - Shared queues initialized.
2025-05-25 00:23:48,388 - INFO - Retrieved queue instances. Event loop ID: 428925440
2025-05-25 00:23:48,388 - INFO - SimulationManager ready state set to: True
2025-05-25 00:23:48,388 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 00:23:48,388 - INFO - MessageProcessor queues verified
2025-05-25 00:23:48,388 - INFO - MessageProcessor task started.
2025-05-25 00:23:48,388 - INFO - QueueForwarder queues verified
2025-05-25 00:23:48,389 - INFO - QueueForwarder task started.
2025-05-25 00:23:48,389 - INFO - Application startup complete. All core services initialized.
2025-05-25 00:23:48,389 - INFO - Starting MessageProcessor
2025-05-25 00:23:48,389 - INFO - Starting QueueForwarder
2025-05-25 00:24:10,904 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=52180)
2025-05-25 00:24:10,905 - INFO - Adding connection: 127.0.0.1:52180. Total connections: 1
2025-05-25 00:24:10,906 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=52180)
2025-05-25 00:24:10,906 - INFO - Sender task started for Address(host='127.0.0.1', port=52180)
2025-05-25 00:24:10,906 - INFO - Receiver task started for Address(host='127.0.0.1', port=52180)
2025-05-25 00:24:10,926 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=52180)
2025-05-25 00:24:10,926 - INFO - Processed 1 messages
2025-05-25 00:24:15,047 - INFO - Received request to start simulation
2025-05-25 00:24:15,048 - INFO - Initiating simulation start via background task
2025-05-25 00:24:15,048 - ERROR - Failed to start simulation: 'SimulationManager' object has no attribute 'running'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 72, in start_simulation
    response = await manager.start(background_tasks)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/core/simulator.py", line 60, in start
    if self.running:
       ^^^^^^^^^^^^
AttributeError: 'SimulationManager' object has no attribute 'running'. Did you mean: '_running'?
2025-05-25 00:24:26,192 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=52180): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 00:24:26,194 - INFO - Receiver task for Address(host='127.0.0.1', port=52180) finished.
2025-05-25 00:25:53,569 - INFO - Sender task for Address(host='127.0.0.1', port=52180) was cancelled.
2025-05-25 00:25:53,570 - INFO - Application shutdown event triggered.
2025-05-25 00:25:53,572 - INFO - Initiating cleanup for connection: 127.0.0.1:52180
2025-05-25 00:25:53,572 - INFO - Starting cleanup for 127.0.0.1:52180
2025-05-25 00:25:53,572 - INFO - Connection cleanup completed for 127.0.0.1:52180. Remaining connections: 0
2025-05-25 00:25:53,572 - INFO - Cleanup finished for connection: 127.0.0.1:52180. Total connections: 0
2025-05-25 00:25:58,026 - INFO - Application startup event triggered.
2025-05-25 00:25:58,026 - INFO - Initializing all queues...
2025-05-25 00:25:58,026 - INFO - All queues initialized on loop 983253504
2025-05-25 00:25:58,027 - INFO - Shared queues initialized.
2025-05-25 00:25:58,027 - INFO - Retrieved queue instances. Event loop ID: 983253504
2025-05-25 00:25:58,027 - INFO - SimulationManager ready state set to: True
2025-05-25 00:25:58,027 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 00:25:58,027 - INFO - MessageProcessor queues verified
2025-05-25 00:25:58,027 - INFO - MessageProcessor task started.
2025-05-25 00:25:58,027 - INFO - QueueForwarder queues verified
2025-05-25 00:25:58,027 - INFO - QueueForwarder task started.
2025-05-25 00:25:58,027 - INFO - Application startup complete. All core services initialized.
2025-05-25 00:25:58,027 - INFO - Starting MessageProcessor
2025-05-25 00:25:58,027 - INFO - Starting QueueForwarder
2025-05-25 00:25:59,377 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=42306)
2025-05-25 00:25:59,378 - INFO - Adding connection: 127.0.0.1:42306. Total connections: 1
2025-05-25 00:25:59,379 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=42306)
2025-05-25 00:25:59,379 - INFO - Sender task started for Address(host='127.0.0.1', port=42306)
2025-05-25 00:25:59,380 - INFO - Receiver task started for Address(host='127.0.0.1', port=42306)
2025-05-25 00:25:59,384 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=42306)
2025-05-25 00:26:01,439 - INFO - Received request to start simulation
2025-05-25 00:26:01,439 - INFO - Initiating simulation start via background task
2025-05-25 00:26:01,439 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 00:26:01,440 - INFO - Simulation task starting
2025-05-25 00:26:01,441 - INFO - System message enqueued to backend queue
2025-05-25 00:26:04,016 - INFO - Processed 4 messages
2025-05-25 00:26:05,895 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=42306)
2025-05-25 00:26:11,218 - INFO - Processed 4 messages
2025-05-25 00:26:11,879 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:26:17,415 - INFO - Processed 3 messages
2025-05-25 00:26:22,227 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:26:23,228 - INFO - Processed 3 messages
2025-05-25 00:26:29,559 - INFO - Processed 3 messages
2025-05-25 00:26:33,604 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:26:34,605 - INFO - Processed 2 messages
2025-05-25 00:26:41,224 - INFO - Processed 3 messages
2025-05-25 00:26:44,928 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:26:48,790 - INFO - Processed 3 messages
2025-05-25 00:26:53,988 - INFO - Processed 2 messages
2025-05-25 00:26:58,455 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:26:59,456 - INFO - Processed 2 messages
2025-05-25 00:27:04,780 - INFO - Processed 3 messages
2025-05-25 00:27:07,827 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:27:11,555 - INFO - Processed 3 messages
2025-05-25 00:27:12,911 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=42306): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 00:27:12,912 - INFO - Receiver task for Address(host='127.0.0.1', port=42306) finished.
2025-05-25 00:27:13,211 - INFO - Sender task for Address(host='127.0.0.1', port=42306) was cancelled.
2025-05-25 00:27:13,212 - INFO - Application shutdown event triggered.
2025-05-25 00:27:13,212 - INFO - SimulationManager stopped.
2025-05-25 00:27:13,212 - INFO - Stopping MessageProcessor...
2025-05-25 00:27:13,212 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 00:27:13,212 - INFO - All WebSocket connections attempted to close.
2025-05-25 00:27:13,212 - INFO - Application shutdown complete.
2025-05-25 00:27:13,216 - INFO - Initiating cleanup for connection: 127.0.0.1:42306
2025-05-25 00:27:13,216 - INFO - Starting cleanup for 127.0.0.1:42306
2025-05-25 00:27:13,216 - INFO - Connection cleanup completed for 127.0.0.1:42306. Remaining connections: 0
2025-05-25 00:27:13,216 - INFO - Cleanup finished for connection: 127.0.0.1:42306. Total connections: 0
2025-05-25 00:30:35,208 - INFO - Application startup event triggered.
2025-05-25 00:30:35,208 - INFO - Initializing all queues...
2025-05-25 00:30:35,208 - INFO - All queues initialized on loop 401310208
2025-05-25 00:30:35,208 - INFO - Shared queues initialized.
2025-05-25 00:30:35,208 - INFO - Retrieved queue instances. Event loop ID: 401310208
2025-05-25 00:30:35,208 - INFO - SimulationManager ready state set to: True
2025-05-25 00:30:35,208 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 00:30:35,209 - INFO - MessageProcessor queues verified
2025-05-25 00:30:35,209 - INFO - MessageProcessor task started.
2025-05-25 00:30:35,209 - INFO - QueueForwarder queues verified
2025-05-25 00:30:35,209 - INFO - QueueForwarder task started.
2025-05-25 00:30:35,209 - INFO - Application startup complete. All core services initialized.
2025-05-25 00:30:35,209 - INFO - Starting MessageProcessor
2025-05-25 00:30:35,209 - INFO - Starting QueueForwarder
2025-05-25 00:30:52,793 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=58178)
2025-05-25 00:30:52,793 - INFO - Adding connection: 127.0.0.1:58178. Total connections: 1
2025-05-25 00:30:52,794 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=58178)
2025-05-25 00:30:52,794 - INFO - Sender task started for Address(host='127.0.0.1', port=58178)
2025-05-25 00:30:52,795 - INFO - Receiver task started for Address(host='127.0.0.1', port=58178)
2025-05-25 00:30:52,797 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=58178)
2025-05-25 00:30:52,798 - INFO - Processed 1 messages
2025-05-25 00:31:34,533 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:34,533 - INFO - Adding connection: 127.0.0.1:59670. Total connections: 2
2025-05-25 00:31:34,534 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:34,535 - INFO - Sender task started for Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:34,535 - INFO - Receiver task started for Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:34,554 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:34,554 - INFO - Processed 1 messages
2025-05-25 00:31:39,288 - INFO - Received request to start simulation
2025-05-25 00:31:39,288 - INFO - Initiating simulation start via background task
2025-05-25 00:31:39,289 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 00:31:39,289 - INFO - Simulation task starting
2025-05-25 00:31:39,290 - INFO - System message enqueued to backend queue
2025-05-25 00:31:40,291 - INFO - Processed 2 messages
2025-05-25 00:31:47,398 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:47,398 - INFO - Processed 3 messages
2025-05-25 00:31:48,252 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=59670)
2025-05-25 00:31:51,333 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:31:54,087 - INFO - Processed 5 messages
2025-05-25 00:32:00,979 - INFO - Processed 3 messages
2025-05-25 00:32:01,577 - WARNING - Messages not being forwarded to frontend
2025-05-25 00:32:05,741 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=58178): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 00:32:05,742 - INFO - Receiver task for Address(host='127.0.0.1', port=58178) finished.
2025-05-25 00:32:06,226 - INFO - Processed 3 messages
2025-05-25 00:32:06,226 - WARNING - Failed to send message to Address(host='127.0.0.1', port=58178), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-25 00:32:06,227 - INFO - Sender task for Address(host='127.0.0.1', port=58178) finished.
2025-05-25 00:32:06,227 - INFO - Initiating cleanup for connection: 127.0.0.1:58178
2025-05-25 00:32:06,228 - INFO - Starting cleanup for 127.0.0.1:58178
2025-05-25 00:32:06,228 - INFO - Connection cleanup completed for 127.0.0.1:58178. Remaining connections: 1
2025-05-25 00:32:06,228 - INFO - Cleanup finished for connection: 127.0.0.1:58178. Total connections: 1
2025-05-25 00:32:06,228 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=58178): Cannot call "receive" once a disconnect message has been received.
2025-05-25 00:32:06,228 - INFO - Starting cleanup for Address(host='127.0.0.1', port=58178)
2025-05-25 00:32:06,228 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=58178). Remaining connections: 1
2025-05-25 00:32:07,253 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=59670): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 00:32:07,254 - INFO - Receiver task for Address(host='127.0.0.1', port=59670) finished.
2025-05-25 00:32:08,245 - WARNING - Failed to send message to Address(host='127.0.0.1', port=59670), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-25 00:32:08,246 - INFO - Sender task for Address(host='127.0.0.1', port=59670) finished.
2025-05-25 00:32:08,246 - INFO - Initiating cleanup for connection: 127.0.0.1:59670
2025-05-25 00:32:08,246 - INFO - Starting cleanup for 127.0.0.1:59670
2025-05-25 00:32:08,246 - INFO - Connection cleanup completed for 127.0.0.1:59670. Remaining connections: 0
2025-05-25 00:32:08,246 - INFO - Cleanup finished for connection: 127.0.0.1:59670. Total connections: 0
2025-05-25 00:32:08,246 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=59670): Cannot call "receive" once a disconnect message has been received.
2025-05-25 00:32:08,246 - INFO - Starting cleanup for Address(host='127.0.0.1', port=59670)
2025-05-25 00:32:08,246 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=59670). Remaining connections: 0
2025-05-25 00:32:13,738 - INFO - Processed 3 messages
2025-05-25 00:32:19,908 - INFO - Processed 3 messages
2025-05-25 00:32:26,311 - INFO - Processed 3 messages
2025-05-25 00:32:33,472 - INFO - Processed 3 messages
2025-05-25 00:32:40,859 - INFO - Processed 3 messages
2025-05-25 00:32:48,371 - INFO - Processed 3 messages
2025-05-25 00:32:54,891 - INFO - Processed 3 messages
2025-05-25 00:33:01,194 - INFO - Processed 3 messages
2025-05-25 00:33:07,305 - INFO - Processed 3 messages
2025-05-25 00:33:13,794 - INFO - Processed 3 messages
2025-05-25 00:33:18,852 - INFO - Processed 2 messages
2025-05-25 00:33:35,635 - INFO - Application shutdown event triggered.
2025-05-25 09:24:05,143 - INFO - Application startup event triggered.
2025-05-25 09:24:05,144 - INFO - Initializing all queues...
2025-05-25 09:24:05,144 - INFO - All queues initialized on loop 687803936
2025-05-25 09:24:05,144 - INFO - Shared queues initialized.
2025-05-25 09:24:05,144 - INFO - Retrieved queue instances. Event loop ID: 687803936
2025-05-25 09:24:05,144 - INFO - SimulationManager ready state set to: True
2025-05-25 09:24:05,144 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:24:05,144 - INFO - MessageProcessor queues verified
2025-05-25 09:24:05,144 - INFO - MessageProcessor task started.
2025-05-25 09:24:05,144 - INFO - QueueForwarder queues verified
2025-05-25 09:24:05,144 - INFO - QueueForwarder task started.
2025-05-25 09:24:05,144 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:24:05,145 - INFO - Starting MessageProcessor
2025-05-25 09:24:05,145 - INFO - Starting QueueForwarder
2025-05-25 09:24:09,718 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=48254)
2025-05-25 09:24:09,719 - INFO - Adding connection: 127.0.0.1:48254. Total connections: 1
2025-05-25 09:24:09,719 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=48254)
2025-05-25 09:24:09,720 - INFO - Sender task started for Address(host='127.0.0.1', port=48254)
2025-05-25 09:24:09,720 - INFO - Receiver task started for Address(host='127.0.0.1', port=48254)
2025-05-25 09:24:09,728 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=48254)
2025-05-25 09:24:12,656 - INFO - Received request to start simulation
2025-05-25 09:24:12,657 - INFO - Initiating simulation start via background task
2025-05-25 09:24:12,657 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:24:12,657 - INFO - Simulation task starting
2025-05-25 09:24:12,658 - INFO - System message enqueued to backend queue
2025-05-25 09:24:12,658 - INFO - Processed 2 messages
2025-05-25 09:24:15,626 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=48254)
2025-05-25 09:24:19,428 - INFO - Processed 5 messages
2025-05-25 09:24:23,090 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:24:26,865 - INFO - Processed 3 messages
2025-05-25 09:24:33,554 - INFO - Processed 3 messages
2025-05-25 09:24:35,069 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:24:40,585 - INFO - Processed 3 messages
2025-05-25 09:24:46,181 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:24:47,182 - INFO - Processed 3 messages
2025-05-25 09:24:54,923 - INFO - Processed 3 messages
2025-05-25 09:24:57,599 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:25:01,149 - INFO - Processed 3 messages
2025-05-25 09:25:06,969 - INFO - Processed 2 messages
2025-05-25 09:25:09,947 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:25:13,032 - INFO - Processed 3 messages
2025-05-25 09:25:18,589 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:25:19,591 - INFO - Processed 4 messages
2025-05-25 09:25:25,405 - INFO - Processed 3 messages
2025-05-25 09:25:25,750 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=48254): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 09:25:25,752 - INFO - Receiver task for Address(host='127.0.0.1', port=48254) finished.
2025-05-25 09:25:26,822 - INFO - Sender task for Address(host='127.0.0.1', port=48254) was cancelled.
2025-05-25 09:25:26,823 - INFO - Application shutdown event triggered.
2025-05-25 09:25:26,823 - INFO - SimulationManager stopped.
2025-05-25 09:25:26,823 - INFO - Stopping MessageProcessor...
2025-05-25 09:25:26,823 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:25:26,823 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:25:26,823 - INFO - Application shutdown complete.
2025-05-25 09:25:26,832 - INFO - Initiating cleanup for connection: 127.0.0.1:48254
2025-05-25 09:25:26,832 - INFO - Starting cleanup for 127.0.0.1:48254
2025-05-25 09:25:26,832 - INFO - Connection cleanup completed for 127.0.0.1:48254. Remaining connections: 0
2025-05-25 09:25:26,833 - INFO - Cleanup finished for connection: 127.0.0.1:48254. Total connections: 0
2025-05-25 09:30:28,671 - INFO - Application startup event triggered.
2025-05-25 09:30:28,671 - INFO - Initializing all queues...
2025-05-25 09:30:28,671 - INFO - All queues initialized on loop 626441760
2025-05-25 09:30:28,671 - INFO - Shared queues initialized.
2025-05-25 09:30:28,671 - INFO - Retrieved queue instances. Event loop ID: 626441760
2025-05-25 09:30:28,672 - INFO - SimulationManager ready state set to: True
2025-05-25 09:30:28,672 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:30:28,672 - INFO - MessageProcessor queues verified
2025-05-25 09:30:28,672 - INFO - MessageProcessor task started.
2025-05-25 09:30:28,672 - INFO - QueueForwarder queues verified
2025-05-25 09:30:28,672 - INFO - QueueForwarder task started.
2025-05-25 09:30:28,672 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:30:28,672 - INFO - Starting MessageProcessor
2025-05-25 09:30:28,672 - INFO - Starting QueueForwarder
2025-05-25 09:31:46,384 - INFO - Application shutdown event triggered.
2025-05-25 09:31:46,385 - INFO - Stopping MessageProcessor...
2025-05-25 09:31:46,385 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 09:31:46,385 - INFO - QueueForwarder task cancelled.
2025-05-25 09:31:46,385 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:31:46,385 - INFO - Application shutdown complete.
2025-05-25 09:31:53,439 - INFO - Application startup event triggered.
2025-05-25 09:31:53,440 - INFO - Initializing all queues...
2025-05-25 09:31:53,440 - INFO - All queues initialized on loop 1015463456
2025-05-25 09:31:53,440 - INFO - Shared queues initialized.
2025-05-25 09:31:53,440 - INFO - Retrieved queue instances. Event loop ID: 1015463456
2025-05-25 09:31:53,440 - INFO - SimulationManager ready state set to: True
2025-05-25 09:31:53,440 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:31:53,440 - INFO - MessageProcessor queues verified
2025-05-25 09:31:53,441 - INFO - MessageProcessor task started.
2025-05-25 09:31:53,441 - INFO - QueueForwarder queues verified
2025-05-25 09:31:53,441 - INFO - QueueForwarder task started.
2025-05-25 09:31:53,441 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:31:53,441 - INFO - Starting MessageProcessor
2025-05-25 09:31:53,441 - INFO - Starting QueueForwarder
2025-05-25 09:32:48,598 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=43210)
2025-05-25 09:32:48,598 - INFO - Adding connection: 127.0.0.1:43210. Total connections: 1
2025-05-25 09:32:48,600 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=43210)
2025-05-25 09:32:48,600 - INFO - Sender task started for Address(host='127.0.0.1', port=43210)
2025-05-25 09:32:48,601 - INFO - Receiver task started for Address(host='127.0.0.1', port=43210)
2025-05-25 09:32:48,605 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=43210)
2025-05-25 09:32:48,606 - INFO - Processed 1 messages
2025-05-25 09:32:51,782 - INFO - Received request to start simulation
2025-05-25 09:32:51,782 - INFO - Initiating simulation start via background task
2025-05-25 09:32:51,782 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:32:51,782 - INFO - Simulation task starting
2025-05-25 09:32:51,783 - INFO - System message enqueued to backend queue
2025-05-25 09:32:54,736 - INFO - Processed 3 messages
2025-05-25 09:32:59,855 - INFO - Processed 2 messages
2025-05-25 09:33:03,794 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:33:06,647 - INFO - Processed 3 messages
2025-05-25 09:33:11,739 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=43210): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 09:33:11,740 - INFO - Receiver task for Address(host='127.0.0.1', port=43210) finished.
2025-05-25 09:33:12,867 - INFO - Processed 3 messages
2025-05-25 09:33:12,868 - WARNING - Failed to send message to Address(host='127.0.0.1', port=43210), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-25 09:33:12,868 - INFO - Sender task for Address(host='127.0.0.1', port=43210) finished.
2025-05-25 09:33:12,868 - INFO - Initiating cleanup for connection: 127.0.0.1:43210
2025-05-25 09:33:12,868 - INFO - Starting cleanup for 127.0.0.1:43210
2025-05-25 09:33:12,868 - INFO - Connection cleanup completed for 127.0.0.1:43210. Remaining connections: 0
2025-05-25 09:33:12,868 - INFO - Cleanup finished for connection: 127.0.0.1:43210. Total connections: 0
2025-05-25 09:33:12,868 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=43210): Cannot call "receive" once a disconnect message has been received.
2025-05-25 09:33:12,869 - INFO - Starting cleanup for Address(host='127.0.0.1', port=43210)
2025-05-25 09:33:12,869 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=43210). Remaining connections: 0
2025-05-25 09:33:17,844 - INFO - Application shutdown event triggered.
2025-05-25 09:33:17,844 - INFO - SimulationManager stopped.
2025-05-25 09:33:17,844 - INFO - Stopping MessageProcessor...
2025-05-25 09:33:17,844 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:33:17,844 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:33:17,844 - INFO - Application shutdown complete.
2025-05-25 09:37:30,554 - INFO - Application startup event triggered.
2025-05-25 09:37:30,554 - INFO - Initializing all queues...
2025-05-25 09:37:30,554 - INFO - All queues initialized on loop 980053536
2025-05-25 09:37:30,554 - INFO - Shared queues initialized.
2025-05-25 09:37:30,554 - INFO - Retrieved queue instances. Event loop ID: 980053536
2025-05-25 09:37:30,554 - INFO - SimulationManager ready state set to: True
2025-05-25 09:37:30,554 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:37:30,554 - INFO - MessageProcessor queues verified
2025-05-25 09:37:30,555 - INFO - MessageProcessor task started.
2025-05-25 09:37:30,555 - INFO - QueueForwarder queues verified
2025-05-25 09:37:30,555 - INFO - QueueForwarder task started.
2025-05-25 09:37:30,555 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:37:30,555 - INFO - Starting MessageProcessor
2025-05-25 09:37:30,555 - INFO - Starting QueueForwarder
2025-05-25 09:37:31,966 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=45074)
2025-05-25 09:37:31,966 - INFO - Adding connection: 127.0.0.1:45074. Total connections: 1
2025-05-25 09:37:31,968 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=45074)
2025-05-25 09:37:31,968 - INFO - Sender task started for Address(host='127.0.0.1', port=45074)
2025-05-25 09:37:31,968 - INFO - Receiver task started for Address(host='127.0.0.1', port=45074)
2025-05-25 09:37:31,977 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=45074)
2025-05-25 09:37:34,927 - INFO - Received request to start simulation
2025-05-25 09:37:34,927 - INFO - Initiating simulation start via background task
2025-05-25 09:37:34,927 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:37:34,928 - INFO - Simulation task starting
2025-05-25 09:37:34,928 - INFO - System message enqueued to backend queue
2025-05-25 09:37:35,929 - INFO - Processed 3 messages
2025-05-25 09:37:43,124 - INFO - Processed 3 messages
2025-05-25 09:37:46,617 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:37:50,349 - INFO - Processed 3 messages
2025-05-25 09:37:56,936 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=45074): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 09:37:56,937 - INFO - Receiver task for Address(host='127.0.0.1', port=45074) finished.
2025-05-25 09:37:57,311 - INFO - Processed 3 messages
2025-05-25 09:37:57,312 - WARNING - Failed to send message to Address(host='127.0.0.1', port=45074), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-25 09:37:57,312 - INFO - Sender task for Address(host='127.0.0.1', port=45074) finished.
2025-05-25 09:37:57,312 - INFO - Initiating cleanup for connection: 127.0.0.1:45074
2025-05-25 09:37:57,312 - INFO - Starting cleanup for 127.0.0.1:45074
2025-05-25 09:37:57,313 - INFO - Connection cleanup completed for 127.0.0.1:45074. Remaining connections: 0
2025-05-25 09:37:57,313 - INFO - Cleanup finished for connection: 127.0.0.1:45074. Total connections: 0
2025-05-25 09:37:57,313 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=45074): Cannot call "receive" once a disconnect message has been received.
2025-05-25 09:37:57,313 - INFO - Starting cleanup for Address(host='127.0.0.1', port=45074)
2025-05-25 09:37:57,313 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=45074). Remaining connections: 0
2025-05-25 09:38:03,875 - INFO - Processed 3 messages
2025-05-25 09:38:10,879 - INFO - Processed 3 messages
2025-05-25 09:38:16,848 - INFO - Processed 3 messages
2025-05-25 09:38:23,003 - INFO - Processed 3 messages
2025-05-25 09:38:29,443 - INFO - Processed 3 messages
2025-05-25 09:38:36,226 - INFO - Processed 3 messages
2025-05-25 09:38:43,472 - INFO - Processed 3 messages
2025-05-25 09:38:50,078 - INFO - Processed 3 messages
2025-05-25 09:38:55,916 - INFO - Processed 3 messages
2025-05-25 09:39:00,958 - INFO - Processed 2 messages
2025-05-25 09:39:08,183 - INFO - Processed 3 messages
2025-05-25 09:39:12,886 - INFO - Application shutdown event triggered.
2025-05-25 09:44:36,805 - INFO - Application startup event triggered.
2025-05-25 09:44:36,805 - INFO - Initializing all queues...
2025-05-25 09:44:36,805 - INFO - All queues initialized on loop 742870560
2025-05-25 09:44:36,805 - INFO - Shared queues initialized.
2025-05-25 09:44:36,805 - INFO - Retrieved queue instances. Event loop ID: 742870560
2025-05-25 09:44:36,805 - INFO - SimulationManager ready state set to: True
2025-05-25 09:44:36,805 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:44:36,805 - INFO - MessageProcessor queues verified
2025-05-25 09:44:36,805 - INFO - MessageProcessor task started.
2025-05-25 09:44:36,806 - INFO - QueueForwarder queues verified
2025-05-25 09:44:36,806 - INFO - QueueForwarder task started.
2025-05-25 09:44:36,806 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:44:36,806 - INFO - Starting MessageProcessor
2025-05-25 09:44:36,806 - INFO - Starting QueueForwarder
2025-05-25 09:44:40,328 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57446)
2025-05-25 09:44:40,328 - INFO - Adding connection: 127.0.0.1:57446. Total connections: 1
2025-05-25 09:44:40,329 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=57446)
2025-05-25 09:44:40,329 - INFO - Sender task started for Address(host='127.0.0.1', port=57446)
2025-05-25 09:44:40,329 - INFO - Receiver task started for Address(host='127.0.0.1', port=57446)
2025-05-25 09:44:40,333 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=57446)
2025-05-25 09:44:47,784 - INFO - Received request to start simulation
2025-05-25 09:44:47,784 - INFO - Initiating simulation start via background task
2025-05-25 09:44:47,784 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:44:47,785 - INFO - Simulation task starting
2025-05-25 09:44:47,785 - INFO - System message enqueued to backend queue
2025-05-25 09:44:47,785 - INFO - Processed 2 messages
2025-05-25 09:44:53,461 - INFO - Processed 3 messages
2025-05-25 09:44:56,652 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=57446)
2025-05-25 09:44:59,006 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:45:00,008 - INFO - Processed 4 messages
2025-05-25 09:45:06,836 - INFO - Processed 3 messages
2025-05-25 09:45:10,160 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:45:13,267 - INFO - Processed 3 messages
2025-05-25 09:45:16,542 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=57446): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-25 09:45:16,544 - INFO - Receiver task for Address(host='127.0.0.1', port=57446) finished.
2025-05-25 09:45:17,366 - WARNING - Failed to send message to Address(host='127.0.0.1', port=57446), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-25 09:45:17,366 - INFO - Sender task for Address(host='127.0.0.1', port=57446) finished.
2025-05-25 09:45:17,366 - INFO - Initiating cleanup for connection: 127.0.0.1:57446
2025-05-25 09:45:17,367 - INFO - Starting cleanup for 127.0.0.1:57446
2025-05-25 09:45:17,367 - INFO - Connection cleanup completed for 127.0.0.1:57446. Remaining connections: 0
2025-05-25 09:45:17,367 - INFO - Cleanup finished for connection: 127.0.0.1:57446. Total connections: 0
2025-05-25 09:45:17,367 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=57446): Cannot call "receive" once a disconnect message has been received.
2025-05-25 09:45:17,367 - INFO - Starting cleanup for Address(host='127.0.0.1', port=57446)
2025-05-25 09:45:17,367 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=57446). Remaining connections: 0
2025-05-25 09:45:20,010 - INFO - Processed 3 messages
2025-05-25 09:45:27,691 - INFO - Processed 3 messages
2025-05-25 09:45:33,075 - INFO - Processed 3 messages
2025-05-25 09:45:40,409 - INFO - Processed 3 messages
2025-05-25 09:45:43,574 - INFO - Application shutdown event triggered.
2025-05-25 09:45:43,574 - INFO - SimulationManager stopped.
2025-05-25 09:45:43,575 - INFO - Stopping MessageProcessor...
2025-05-25 09:45:43,577 - INFO - QueueForwarder task cancelled.
2025-05-25 09:45:43,578 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:45:43,578 - INFO - Application shutdown complete.
2025-05-25 09:47:24,757 - INFO - Application startup event triggered.
2025-05-25 09:47:24,757 - INFO - Initializing all queues...
2025-05-25 09:47:24,757 - INFO - All queues initialized on loop 507526688
2025-05-25 09:47:24,757 - INFO - Shared queues initialized.
2025-05-25 09:47:24,757 - INFO - Retrieved queue instances. Event loop ID: 507526688
2025-05-25 09:47:24,757 - INFO - SimulationManager ready state set to: True
2025-05-25 09:47:24,757 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:47:24,757 - INFO - MessageProcessor queues verified
2025-05-25 09:47:24,758 - INFO - MessageProcessor task started.
2025-05-25 09:47:24,758 - INFO - QueueForwarder queues verified
2025-05-25 09:47:24,758 - INFO - QueueForwarder task started.
2025-05-25 09:47:24,758 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:47:24,758 - INFO - Starting MessageProcessor
2025-05-25 09:47:24,758 - INFO - Starting QueueForwarder
2025-05-25 09:47:26,180 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=34196)
2025-05-25 09:47:26,180 - INFO - Adding connection: 127.0.0.1:34196. Total connections: 1
2025-05-25 09:47:26,182 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=34196)
2025-05-25 09:47:26,182 - INFO - Sender task started for Address(host='127.0.0.1', port=34196)
2025-05-25 09:47:26,182 - INFO - Receiver task started for Address(host='127.0.0.1', port=34196)
2025-05-25 09:47:26,186 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=34196)
2025-05-25 09:47:28,045 - INFO - Received request to start simulation
2025-05-25 09:47:28,045 - INFO - Initiating simulation start via background task
2025-05-25 09:47:28,046 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:47:28,046 - INFO - Simulation task starting
2025-05-25 09:47:28,047 - INFO - System message enqueued to backend queue
2025-05-25 09:47:31,871 - INFO - Processed 4 messages
2025-05-25 09:47:35,104 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=34196): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:47:35,105 - INFO - Receiver task for Address(host='127.0.0.1', port=34196) finished.
2025-05-25 09:47:35,506 - INFO - Sender task for Address(host='127.0.0.1', port=34196) was cancelled.
2025-05-25 09:47:35,506 - INFO - Application shutdown event triggered.
2025-05-25 09:47:35,506 - INFO - SimulationManager stopped.
2025-05-25 09:47:35,507 - INFO - Stopping MessageProcessor...
2025-05-25 09:47:35,507 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:47:35,507 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:47:35,507 - INFO - Application shutdown complete.
2025-05-25 09:47:35,511 - INFO - Initiating cleanup for connection: 127.0.0.1:34196
2025-05-25 09:47:35,511 - INFO - Starting cleanup for 127.0.0.1:34196
2025-05-25 09:47:35,511 - INFO - Connection cleanup completed for 127.0.0.1:34196. Remaining connections: 0
2025-05-25 09:47:35,511 - INFO - Cleanup finished for connection: 127.0.0.1:34196. Total connections: 0
2025-05-25 09:50:05,452 - INFO - Application startup event triggered.
2025-05-25 09:50:05,453 - INFO - Initializing all queues...
2025-05-25 09:50:05,453 - INFO - All queues initialized on loop 705936928
2025-05-25 09:50:05,453 - INFO - Shared queues initialized.
2025-05-25 09:50:05,453 - INFO - Retrieved queue instances. Event loop ID: 705936928
2025-05-25 09:50:05,453 - INFO - SimulationManager ready state set to: True
2025-05-25 09:50:05,453 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:50:05,453 - INFO - MessageProcessor queues verified
2025-05-25 09:50:05,453 - INFO - MessageProcessor task started.
2025-05-25 09:50:05,453 - INFO - QueueForwarder queues verified
2025-05-25 09:50:05,453 - INFO - QueueForwarder task started.
2025-05-25 09:50:05,453 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:50:05,453 - INFO - Starting MessageProcessor
2025-05-25 09:50:05,453 - INFO - Starting QueueForwarder
2025-05-25 09:50:06,786 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=58526)
2025-05-25 09:50:06,786 - INFO - Adding connection: 127.0.0.1:58526. Total connections: 1
2025-05-25 09:50:06,788 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=58526)
2025-05-25 09:50:06,788 - INFO - Sender task started for Address(host='127.0.0.1', port=58526)
2025-05-25 09:50:06,788 - INFO - Receiver task started for Address(host='127.0.0.1', port=58526)
2025-05-25 09:50:06,791 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=58526)
2025-05-25 09:50:08,635 - INFO - Received request to start simulation
2025-05-25 09:50:08,635 - INFO - Initiating simulation start via background task
2025-05-25 09:50:08,635 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:50:08,635 - INFO - Simulation task starting
2025-05-25 09:50:08,636 - INFO - System message enqueued to backend queue
2025-05-25 09:50:10,678 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=58526)
2025-05-25 09:50:10,679 - INFO - Processed 4 messages
2025-05-25 09:50:17,379 - INFO - Processed 3 messages
2025-05-25 09:50:19,507 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:50:22,565 - INFO - Processed 3 messages
2025-05-25 09:50:25,806 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=58526): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:50:25,807 - INFO - Receiver task for Address(host='127.0.0.1', port=58526) finished.
2025-05-25 09:50:26,006 - INFO - Sender task for Address(host='127.0.0.1', port=58526) was cancelled.
2025-05-25 09:50:26,007 - INFO - Application shutdown event triggered.
2025-05-25 09:50:26,007 - INFO - SimulationManager stopped.
2025-05-25 09:50:26,007 - INFO - Stopping MessageProcessor...
2025-05-25 09:50:26,007 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:50:26,007 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:50:26,007 - INFO - Application shutdown complete.
2025-05-25 09:50:26,009 - INFO - Initiating cleanup for connection: 127.0.0.1:58526
2025-05-25 09:50:26,009 - INFO - Starting cleanup for 127.0.0.1:58526
2025-05-25 09:50:26,009 - INFO - Connection cleanup completed for 127.0.0.1:58526. Remaining connections: 0
2025-05-25 09:50:26,009 - INFO - Cleanup finished for connection: 127.0.0.1:58526. Total connections: 0
2025-05-25 09:52:07,477 - INFO - Application startup event triggered.
2025-05-25 09:52:07,477 - INFO - Initializing all queues...
2025-05-25 09:52:07,477 - INFO - All queues initialized on loop 957894176
2025-05-25 09:52:07,477 - INFO - Shared queues initialized.
2025-05-25 09:52:07,477 - INFO - Retrieved queue instances. Event loop ID: 957894176
2025-05-25 09:52:07,478 - INFO - SimulationManager ready state set to: True
2025-05-25 09:52:07,478 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:52:07,478 - INFO - MessageProcessor queues verified
2025-05-25 09:52:07,478 - INFO - MessageProcessor task started.
2025-05-25 09:52:07,478 - INFO - QueueForwarder queues verified
2025-05-25 09:52:07,478 - INFO - QueueForwarder task started.
2025-05-25 09:52:07,478 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:52:07,478 - INFO - Starting MessageProcessor
2025-05-25 09:52:07,478 - INFO - Starting QueueForwarder
2025-05-25 09:52:08,860 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=52794)
2025-05-25 09:52:08,861 - INFO - Adding connection: 127.0.0.1:52794. Total connections: 1
2025-05-25 09:52:08,862 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=52794)
2025-05-25 09:52:08,862 - INFO - Sender task started for Address(host='127.0.0.1', port=52794)
2025-05-25 09:52:08,862 - INFO - Receiver task started for Address(host='127.0.0.1', port=52794)
2025-05-25 09:52:08,868 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=52794)
2025-05-25 09:52:10,385 - INFO - Received request to start simulation
2025-05-25 09:52:10,385 - INFO - Initiating simulation start via background task
2025-05-25 09:52:10,385 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:52:10,386 - INFO - Simulation task starting
2025-05-25 09:52:10,386 - INFO - System message enqueued to backend queue
2025-05-25 09:52:12,427 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=52794)
2025-05-25 09:52:13,075 - INFO - Processed 5 messages
2025-05-25 09:52:19,718 - INFO - Processed 3 messages
2025-05-25 09:52:21,254 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:52:22,444 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=52794): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:52:22,446 - INFO - Receiver task for Address(host='127.0.0.1', port=52794) finished.
2025-05-25 09:52:22,646 - INFO - Sender task for Address(host='127.0.0.1', port=52794) was cancelled.
2025-05-25 09:52:22,646 - INFO - Application shutdown event triggered.
2025-05-25 09:52:22,647 - INFO - SimulationManager stopped.
2025-05-25 09:52:22,647 - INFO - Stopping MessageProcessor...
2025-05-25 09:52:22,647 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:52:22,647 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:52:22,647 - INFO - Application shutdown complete.
2025-05-25 09:52:22,651 - INFO - Initiating cleanup for connection: 127.0.0.1:52794
2025-05-25 09:52:22,651 - INFO - Starting cleanup for 127.0.0.1:52794
2025-05-25 09:52:22,651 - INFO - Connection cleanup completed for 127.0.0.1:52794. Remaining connections: 0
2025-05-25 09:52:22,651 - INFO - Cleanup finished for connection: 127.0.0.1:52794. Total connections: 0
2025-05-25 09:53:24,230 - INFO - Application startup event triggered.
2025-05-25 09:53:24,231 - INFO - Initializing all queues...
2025-05-25 09:53:24,231 - INFO - All queues initialized on loop 193486368
2025-05-25 09:53:24,231 - INFO - Shared queues initialized.
2025-05-25 09:53:24,231 - INFO - Retrieved queue instances. Event loop ID: 193486368
2025-05-25 09:53:24,231 - INFO - SimulationManager ready state set to: True
2025-05-25 09:53:24,231 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:53:24,231 - INFO - MessageProcessor queues verified
2025-05-25 09:53:24,231 - INFO - MessageProcessor task started.
2025-05-25 09:53:24,231 - INFO - QueueForwarder queues verified
2025-05-25 09:53:24,231 - INFO - QueueForwarder task started.
2025-05-25 09:53:24,231 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:53:24,232 - INFO - Starting MessageProcessor
2025-05-25 09:53:24,232 - INFO - Starting QueueForwarder
2025-05-25 09:53:25,639 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=47344)
2025-05-25 09:53:25,639 - INFO - Adding connection: 127.0.0.1:47344. Total connections: 1
2025-05-25 09:53:25,641 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=47344)
2025-05-25 09:53:25,642 - INFO - Sender task started for Address(host='127.0.0.1', port=47344)
2025-05-25 09:53:25,642 - INFO - Receiver task started for Address(host='127.0.0.1', port=47344)
2025-05-25 09:53:25,646 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=47344)
2025-05-25 09:53:27,635 - INFO - Received request to start simulation
2025-05-25 09:53:27,636 - INFO - Initiating simulation start via background task
2025-05-25 09:53:27,636 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:53:27,637 - INFO - Simulation task starting
2025-05-25 09:53:27,637 - INFO - System message enqueued to backend queue
2025-05-25 09:53:28,740 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=47344)
2025-05-25 09:53:31,135 - INFO - Processed 5 messages
2025-05-25 09:53:37,580 - INFO - Processed 3 messages
2025-05-25 09:53:37,690 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=47344): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:53:37,692 - INFO - Receiver task for Address(host='127.0.0.1', port=47344) finished.
2025-05-25 09:53:37,993 - INFO - Sender task for Address(host='127.0.0.1', port=47344) was cancelled.
2025-05-25 09:53:37,993 - INFO - Application shutdown event triggered.
2025-05-25 09:53:37,993 - INFO - SimulationManager stopped.
2025-05-25 09:53:37,993 - INFO - Stopping MessageProcessor...
2025-05-25 09:53:37,993 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:53:37,993 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:53:37,993 - INFO - Application shutdown complete.
2025-05-25 09:53:37,997 - INFO - Initiating cleanup for connection: 127.0.0.1:47344
2025-05-25 09:53:37,997 - INFO - Starting cleanup for 127.0.0.1:47344
2025-05-25 09:53:37,997 - INFO - Connection cleanup completed for 127.0.0.1:47344. Remaining connections: 0
2025-05-25 09:53:37,997 - INFO - Cleanup finished for connection: 127.0.0.1:47344. Total connections: 0
2025-05-25 09:54:47,315 - INFO - Application startup event triggered.
2025-05-25 09:54:47,315 - INFO - Initializing all queues...
2025-05-25 09:54:47,315 - INFO - All queues initialized on loop 670117408
2025-05-25 09:54:47,315 - INFO - Shared queues initialized.
2025-05-25 09:54:47,316 - INFO - Retrieved queue instances. Event loop ID: 670117408
2025-05-25 09:54:47,316 - INFO - SimulationManager ready state set to: True
2025-05-25 09:54:47,316 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:54:47,316 - INFO - MessageProcessor queues verified
2025-05-25 09:54:47,316 - INFO - MessageProcessor task started.
2025-05-25 09:54:47,316 - INFO - QueueForwarder queues verified
2025-05-25 09:54:47,316 - INFO - QueueForwarder task started.
2025-05-25 09:54:47,316 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:54:47,316 - INFO - Starting MessageProcessor
2025-05-25 09:54:47,316 - INFO - Starting QueueForwarder
2025-05-25 09:54:48,704 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38376)
2025-05-25 09:54:48,704 - INFO - Adding connection: 127.0.0.1:38376. Total connections: 1
2025-05-25 09:54:48,706 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=38376)
2025-05-25 09:54:48,706 - INFO - Sender task started for Address(host='127.0.0.1', port=38376)
2025-05-25 09:54:48,706 - INFO - Receiver task started for Address(host='127.0.0.1', port=38376)
2025-05-25 09:54:48,711 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=38376)
2025-05-25 09:54:49,937 - INFO - Received request to start simulation
2025-05-25 09:54:49,937 - INFO - Initiating simulation start via background task
2025-05-25 09:54:49,937 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:54:49,937 - INFO - Simulation task starting
2025-05-25 09:54:49,938 - INFO - System message enqueued to backend queue
2025-05-25 09:54:52,789 - INFO - Processed 4 messages
2025-05-25 09:54:54,508 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38394)
2025-05-25 09:54:54,508 - INFO - Adding connection: 127.0.0.1:38394. Total connections: 2
2025-05-25 09:54:54,509 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=38394)
2025-05-25 09:54:54,509 - INFO - Sender task started for Address(host='127.0.0.1', port=38394)
2025-05-25 09:54:54,509 - INFO - Receiver task started for Address(host='127.0.0.1', port=38394)
2025-05-25 09:54:54,514 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=38394)
2025-05-25 09:54:58,136 - INFO - Processed 3 messages
2025-05-25 09:55:02,146 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:55:03,147 - INFO - Processed 2 messages
2025-05-25 09:55:08,507 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=52614)
2025-05-25 09:55:08,507 - INFO - Adding connection: 127.0.0.1:52614. Total connections: 3
2025-05-25 09:55:08,508 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=52614)
2025-05-25 09:55:08,508 - INFO - Sender task started for Address(host='127.0.0.1', port=52614)
2025-05-25 09:55:08,509 - INFO - Receiver task started for Address(host='127.0.0.1', port=52614)
2025-05-25 09:55:08,511 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=52614)
2025-05-25 09:55:08,512 - INFO - Processed 3 messages
2025-05-25 09:55:13,509 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:55:14,510 - INFO - Processed 3 messages
2025-05-25 09:55:20,957 - INFO - Processed 3 messages
2025-05-25 09:55:23,510 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:55:26,703 - INFO - Processed 3 messages
2025-05-25 09:55:28,430 - INFO - Received request to start simulation
2025-05-25 09:55:28,430 - INFO - Initiating simulation start via background task
2025-05-25 09:55:28,430 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-25 09:55:32,869 - INFO - Processed 3 messages
2025-05-25 09:55:34,232 - WARNING - Messages not being forwarded to frontend
2025-05-25 09:55:38,353 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=38376): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:55:38,354 - INFO - Receiver task for Address(host='127.0.0.1', port=38376) finished.
2025-05-25 09:55:38,354 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=52614): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:55:38,355 - INFO - Receiver task for Address(host='127.0.0.1', port=52614) finished.
2025-05-25 09:55:38,355 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=38394): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:55:38,355 - INFO - Receiver task for Address(host='127.0.0.1', port=38394) finished.
2025-05-25 09:55:38,654 - INFO - Sender task for Address(host='127.0.0.1', port=38376) was cancelled.
2025-05-25 09:55:38,654 - INFO - Sender task for Address(host='127.0.0.1', port=52614) was cancelled.
2025-05-25 09:55:38,655 - INFO - Sender task for Address(host='127.0.0.1', port=38394) was cancelled.
2025-05-25 09:55:38,655 - INFO - Application shutdown event triggered.
2025-05-25 09:55:38,655 - INFO - SimulationManager stopped.
2025-05-25 09:55:38,655 - INFO - Stopping MessageProcessor...
2025-05-25 09:55:38,655 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:55:38,655 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:55:38,655 - INFO - Application shutdown complete.
2025-05-25 09:55:38,659 - INFO - Initiating cleanup for connection: 127.0.0.1:38376
2025-05-25 09:55:38,659 - INFO - Starting cleanup for 127.0.0.1:38376
2025-05-25 09:55:38,659 - INFO - Connection cleanup completed for 127.0.0.1:38376. Remaining connections: 2
2025-05-25 09:55:38,659 - INFO - Cleanup finished for connection: 127.0.0.1:38376. Total connections: 2
2025-05-25 09:55:38,660 - INFO - Initiating cleanup for connection: 127.0.0.1:52614
2025-05-25 09:55:38,660 - INFO - Starting cleanup for 127.0.0.1:52614
2025-05-25 09:55:38,660 - INFO - Connection cleanup completed for 127.0.0.1:52614. Remaining connections: 1
2025-05-25 09:55:38,660 - INFO - Cleanup finished for connection: 127.0.0.1:52614. Total connections: 1
2025-05-25 09:55:38,661 - INFO - Initiating cleanup for connection: 127.0.0.1:38394
2025-05-25 09:55:38,661 - INFO - Starting cleanup for 127.0.0.1:38394
2025-05-25 09:55:38,661 - INFO - Connection cleanup completed for 127.0.0.1:38394. Remaining connections: 0
2025-05-25 09:55:38,661 - INFO - Cleanup finished for connection: 127.0.0.1:38394. Total connections: 0
2025-05-25 09:56:54,137 - INFO - Application startup event triggered.
2025-05-25 09:56:54,138 - INFO - Initializing all queues...
2025-05-25 09:56:54,138 - INFO - All queues initialized on loop 664890912
2025-05-25 09:56:54,138 - INFO - Shared queues initialized.
2025-05-25 09:56:54,138 - INFO - Retrieved queue instances. Event loop ID: 664890912
2025-05-25 09:56:54,138 - INFO - SimulationManager ready state set to: True
2025-05-25 09:56:54,138 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 09:56:54,138 - INFO - MessageProcessor queues verified
2025-05-25 09:56:54,138 - INFO - MessageProcessor task started.
2025-05-25 09:56:54,139 - INFO - QueueForwarder queues verified
2025-05-25 09:56:54,139 - INFO - QueueForwarder task started.
2025-05-25 09:56:54,139 - INFO - Application startup complete. All core services initialized.
2025-05-25 09:56:54,139 - INFO - Starting MessageProcessor
2025-05-25 09:56:54,139 - INFO - Starting QueueForwarder
2025-05-25 09:56:55,537 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=34302)
2025-05-25 09:56:55,537 - INFO - Adding connection: 127.0.0.1:34302. Total connections: 1
2025-05-25 09:56:55,538 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=34302)
2025-05-25 09:56:55,538 - INFO - Sender task started for Address(host='127.0.0.1', port=34302)
2025-05-25 09:56:55,538 - INFO - Receiver task started for Address(host='127.0.0.1', port=34302)
2025-05-25 09:56:55,543 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=34302)
2025-05-25 09:57:01,922 - INFO - Received request to start simulation
2025-05-25 09:57:01,922 - INFO - Initiating simulation start via background task
2025-05-25 09:57:01,922 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 09:57:01,923 - INFO - Simulation task starting
2025-05-25 09:57:01,923 - INFO - System message enqueued to backend queue
2025-05-25 09:57:01,924 - INFO - Processed 2 messages
2025-05-25 09:57:08,250 - INFO - Processed 3 messages
2025-05-25 09:57:13,109 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=34302): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-25 09:57:13,111 - INFO - Receiver task for Address(host='127.0.0.1', port=34302) finished.
2025-05-25 09:57:13,311 - INFO - Sender task for Address(host='127.0.0.1', port=34302) was cancelled.
2025-05-25 09:57:13,312 - INFO - Application shutdown event triggered.
2025-05-25 09:57:13,312 - INFO - SimulationManager stopped.
2025-05-25 09:57:13,312 - INFO - Stopping MessageProcessor...
2025-05-25 09:57:13,312 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 09:57:13,312 - INFO - All WebSocket connections attempted to close.
2025-05-25 09:57:13,312 - INFO - Application shutdown complete.
2025-05-25 09:57:13,316 - INFO - Initiating cleanup for connection: 127.0.0.1:34302
2025-05-25 09:57:13,316 - INFO - Starting cleanup for 127.0.0.1:34302
2025-05-25 09:57:13,316 - INFO - Connection cleanup completed for 127.0.0.1:34302. Remaining connections: 0
2025-05-25 09:57:13,316 - INFO - Cleanup finished for connection: 127.0.0.1:34302. Total connections: 0
2025-05-25 10:19:04,130 - INFO - Application startup event triggered.
2025-05-25 10:19:04,130 - INFO - Initializing all queues...
2025-05-25 10:19:04,130 - INFO - All queues initialized on loop 371363360
2025-05-25 10:19:04,130 - INFO - Shared queues initialized.
2025-05-25 10:19:04,131 - INFO - Retrieved queue instances. Event loop ID: 371363360
2025-05-25 10:19:04,131 - INFO - SimulationManager ready state set to: True
2025-05-25 10:19:04,131 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:19:04,131 - INFO - MessageProcessor queues verified
2025-05-25 10:19:04,131 - INFO - MessageProcessor task started.
2025-05-25 10:19:04,131 - INFO - QueueForwarder queues verified
2025-05-25 10:19:04,131 - INFO - QueueForwarder task started.
2025-05-25 10:19:04,131 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:19:04,132 - INFO - Starting MessageProcessor
2025-05-25 10:19:04,132 - INFO - Starting QueueForwarder
2025-05-25 10:19:05,560 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35960)
2025-05-25 10:19:05,560 - ERROR - Connection lifetime error for 127.0.0.1:35960: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:19:05,561 - INFO - Initiating cleanup for connection: 127.0.0.1:35960
2025-05-25 10:19:05,561 - INFO - Starting cleanup for 127.0.0.1:35960
2025-05-25 10:19:05,582 - INFO - Closed WebSocket connection for 127.0.0.1:35960
2025-05-25 10:19:05,582 - INFO - Connection cleanup completed for 127.0.0.1:35960. Remaining connections: 0
2025-05-25 10:19:05,582 - INFO - Cleanup finished for connection: 127.0.0.1:35960. Total connections: 0
2025-05-25 10:19:05,582 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=35960): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:19:05,582 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=35960): Cannot call "send" once a close message has been sent.
2025-05-25 10:19:06,904 - INFO - Received request to start simulation
2025-05-25 10:19:06,905 - INFO - Initiating simulation start via background task
2025-05-25 10:19:06,905 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-25 10:19:06,905 - INFO - Simulation task starting
2025-05-25 10:19:06,906 - INFO - System message enqueued to backend queue
2025-05-25 10:19:10,185 - INFO - Processed 3 messages
2025-05-25 10:19:13,506 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35966)
2025-05-25 10:19:13,507 - ERROR - Connection lifetime error for 127.0.0.1:35966: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:19:13,507 - INFO - Initiating cleanup for connection: 127.0.0.1:35966
2025-05-25 10:19:13,507 - INFO - Starting cleanup for 127.0.0.1:35966
2025-05-25 10:19:13,511 - INFO - Closed WebSocket connection for 127.0.0.1:35966
2025-05-25 10:19:13,511 - INFO - Connection cleanup completed for 127.0.0.1:35966. Remaining connections: 0
2025-05-25 10:19:13,511 - INFO - Cleanup finished for connection: 127.0.0.1:35966. Total connections: 0
2025-05-25 10:19:13,511 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=35966): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:19:13,511 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=35966): Cannot call "send" once a close message has been sent.
2025-05-25 10:19:15,217 - INFO - Processed 2 messages
2025-05-25 10:19:18,506 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=53744)
2025-05-25 10:19:18,506 - ERROR - Connection lifetime error for 127.0.0.1:53744: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:19:18,507 - INFO - Initiating cleanup for connection: 127.0.0.1:53744
2025-05-25 10:19:18,507 - INFO - Starting cleanup for 127.0.0.1:53744
2025-05-25 10:19:18,510 - INFO - Closed WebSocket connection for 127.0.0.1:53744
2025-05-25 10:19:18,511 - INFO - Connection cleanup completed for 127.0.0.1:53744. Remaining connections: 0
2025-05-25 10:19:18,511 - INFO - Cleanup finished for connection: 127.0.0.1:53744. Total connections: 0
2025-05-25 10:19:18,511 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=53744): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:19:18,511 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=53744): Cannot call "send" once a close message has been sent.
2025-05-25 10:19:20,267 - INFO - Processed 2 messages
2025-05-25 10:19:27,171 - INFO - Processed 3 messages
2025-05-25 10:19:33,017 - INFO - Processed 3 messages
2025-05-25 10:19:35,944 - INFO - Application shutdown event triggered.
2025-05-25 10:19:35,945 - INFO - SimulationManager stopped.
2025-05-25 10:19:35,945 - INFO - Stopping MessageProcessor...
2025-05-25 10:19:35,945 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 10:19:35,945 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:19:35,945 - INFO - Application shutdown complete.
2025-05-25 10:25:51,764 - INFO - Application startup event triggered.
2025-05-25 10:25:51,764 - INFO - Initializing all queues...
2025-05-25 10:25:51,764 - INFO - All queues initialized on loop 835935776
2025-05-25 10:25:51,764 - INFO - Shared queues initialized.
2025-05-25 10:25:51,764 - INFO - Retrieved queue instances. Event loop ID: 835935776
2025-05-25 10:25:51,765 - INFO - SimulationManager ready state set to: True
2025-05-25 10:25:51,765 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:25:51,765 - INFO - MessageProcessor queues verified
2025-05-25 10:25:51,765 - INFO - MessageProcessor task started.
2025-05-25 10:25:51,765 - INFO - QueueForwarder queues verified
2025-05-25 10:25:51,765 - INFO - QueueForwarder task started.
2025-05-25 10:25:51,765 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:25:51,765 - INFO - Starting MessageProcessor
2025-05-25 10:25:51,765 - INFO - Starting QueueForwarder
2025-05-25 10:28:12,713 - INFO - Application shutdown event triggered.
2025-05-25 10:28:12,714 - INFO - Stopping MessageProcessor...
2025-05-25 10:28:12,714 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:28:12,715 - INFO - QueueForwarder task cancelled.
2025-05-25 10:28:12,715 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:28:12,715 - INFO - Application shutdown complete.
2025-05-25 10:28:22,870 - INFO - Application startup event triggered.
2025-05-25 10:28:22,870 - INFO - Initializing all queues...
2025-05-25 10:28:22,871 - INFO - All queues initialized on loop 500129312
2025-05-25 10:28:22,871 - INFO - Shared queues initialized.
2025-05-25 10:28:22,871 - INFO - Retrieved queue instances. Event loop ID: 500129312
2025-05-25 10:28:22,871 - INFO - SimulationManager ready state set to: True
2025-05-25 10:28:22,871 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:28:22,871 - INFO - MessageProcessor queues verified
2025-05-25 10:28:22,871 - INFO - MessageProcessor task started.
2025-05-25 10:28:22,871 - INFO - QueueForwarder queues verified
2025-05-25 10:28:22,872 - INFO - QueueForwarder task started.
2025-05-25 10:28:22,872 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:28:22,872 - INFO - Starting MessageProcessor
2025-05-25 10:28:22,872 - INFO - Starting QueueForwarder
2025-05-25 10:30:07,625 - INFO - Application shutdown event triggered.
2025-05-25 10:30:07,625 - INFO - Stopping MessageProcessor...
2025-05-25 10:30:07,625 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:30:07,626 - INFO - QueueForwarder task cancelled.
2025-05-25 10:30:07,626 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:30:07,626 - INFO - Application shutdown complete.
2025-05-25 10:30:11,579 - INFO - Application startup event triggered.
2025-05-25 10:30:11,579 - INFO - Initializing all queues...
2025-05-25 10:30:11,579 - INFO - All queues initialized on loop 907062816
2025-05-25 10:30:11,579 - INFO - Shared queues initialized.
2025-05-25 10:30:11,579 - INFO - Retrieved queue instances. Event loop ID: 907062816
2025-05-25 10:30:11,579 - INFO - SimulationManager ready state set to: True
2025-05-25 10:30:11,579 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:30:11,579 - INFO - MessageProcessor queues verified
2025-05-25 10:30:11,580 - INFO - MessageProcessor task started.
2025-05-25 10:30:11,580 - INFO - QueueForwarder queues verified
2025-05-25 10:30:11,580 - INFO - QueueForwarder task started.
2025-05-25 10:30:11,580 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:30:11,580 - INFO - Starting MessageProcessor
2025-05-25 10:30:11,580 - INFO - Starting QueueForwarder
2025-05-25 10:31:53,443 - INFO - Application shutdown event triggered.
2025-05-25 10:31:53,443 - INFO - Stopping MessageProcessor...
2025-05-25 10:31:53,443 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:31:53,443 - INFO - QueueForwarder task cancelled.
2025-05-25 10:31:53,444 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:31:53,444 - INFO - Application shutdown complete.
2025-05-25 10:31:57,487 - INFO - Application startup event triggered.
2025-05-25 10:31:57,487 - INFO - Initializing all queues...
2025-05-25 10:31:57,487 - INFO - All queues initialized on loop 348102176
2025-05-25 10:31:57,487 - INFO - Shared queues initialized.
2025-05-25 10:31:57,487 - INFO - Retrieved queue instances. Event loop ID: 348102176
2025-05-25 10:31:57,487 - INFO - SimulationManager ready state set to: True
2025-05-25 10:31:57,487 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:31:57,487 - INFO - MessageProcessor queues verified
2025-05-25 10:31:57,487 - INFO - MessageProcessor task started.
2025-05-25 10:31:57,487 - INFO - QueueForwarder queues verified
2025-05-25 10:31:57,487 - INFO - QueueForwarder task started.
2025-05-25 10:31:57,488 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:31:57,488 - INFO - Starting MessageProcessor
2025-05-25 10:31:57,488 - INFO - Starting QueueForwarder
2025-05-25 10:32:05,499 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=51066)
2025-05-25 10:32:05,500 - ERROR - Connection lifetime error for 127.0.0.1:51066: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:32:05,501 - INFO - Initiating cleanup for connection: 127.0.0.1:51066
2025-05-25 10:32:05,501 - INFO - Starting cleanup for 127.0.0.1:51066
2025-05-25 10:32:05,507 - INFO - Closed WebSocket connection for 127.0.0.1:51066
2025-05-25 10:32:05,507 - INFO - Connection cleanup completed for 127.0.0.1:51066. Remaining connections: 0
2025-05-25 10:32:05,507 - INFO - Cleanup finished for connection: 127.0.0.1:51066. Total connections: 0
2025-05-25 10:32:05,507 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=51066): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:32:05,507 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=51066): Cannot call "send" once a close message has been sent.
2025-05-25 10:32:12,331 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=51070)
2025-05-25 10:32:12,331 - ERROR - Connection lifetime error for 127.0.0.1:51070: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:32:12,332 - INFO - Initiating cleanup for connection: 127.0.0.1:51070
2025-05-25 10:32:12,332 - INFO - Starting cleanup for 127.0.0.1:51070
2025-05-25 10:32:12,335 - INFO - Closed WebSocket connection for 127.0.0.1:51070
2025-05-25 10:32:12,336 - INFO - Connection cleanup completed for 127.0.0.1:51070. Remaining connections: 0
2025-05-25 10:32:12,336 - INFO - Cleanup finished for connection: 127.0.0.1:51070. Total connections: 0
2025-05-25 10:32:12,336 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=51070): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:32:12,336 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=51070): Cannot call "send" once a close message has been sent.
2025-05-25 10:32:17,156 - INFO - Application shutdown event triggered.
2025-05-25 10:32:17,156 - INFO - Stopping MessageProcessor...
2025-05-25 10:32:17,156 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:32:17,156 - INFO - QueueForwarder task cancelled.
2025-05-25 10:32:17,157 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:32:17,157 - INFO - Application shutdown complete.
2025-05-25 10:35:15,141 - INFO - Application startup event triggered.
2025-05-25 10:35:15,141 - INFO - Initializing all queues...
2025-05-25 10:35:15,141 - INFO - All queues initialized on loop 546479648
2025-05-25 10:35:15,141 - INFO - Shared queues initialized.
2025-05-25 10:35:15,141 - INFO - Retrieved queue instances. Event loop ID: 546479648
2025-05-25 10:35:15,141 - INFO - SimulationManager ready state set to: True
2025-05-25 10:35:15,141 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:35:15,141 - INFO - MessageProcessor queues verified
2025-05-25 10:35:15,141 - INFO - MessageProcessor task started.
2025-05-25 10:35:15,141 - INFO - QueueForwarder queues verified
2025-05-25 10:35:15,141 - INFO - QueueForwarder task started.
2025-05-25 10:35:15,142 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:35:15,142 - INFO - Starting MessageProcessor
2025-05-25 10:35:15,142 - INFO - Starting QueueForwarder
2025-05-25 10:35:16,526 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38472)
2025-05-25 10:35:16,526 - ERROR - Connection lifetime error for 127.0.0.1:38472: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:35:16,527 - INFO - Initiating cleanup for connection: 127.0.0.1:38472
2025-05-25 10:35:16,527 - INFO - Starting cleanup for 127.0.0.1:38472
2025-05-25 10:35:16,531 - INFO - Closed WebSocket connection for 127.0.0.1:38472
2025-05-25 10:35:16,531 - INFO - Connection cleanup completed for 127.0.0.1:38472. Remaining connections: 0
2025-05-25 10:35:16,531 - INFO - Cleanup finished for connection: 127.0.0.1:38472. Total connections: 0
2025-05-25 10:35:16,532 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=38472): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:35:16,532 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=38472): Cannot call "send" once a close message has been sent.
2025-05-25 10:35:29,390 - INFO - Application shutdown event triggered.
2025-05-25 10:35:29,390 - INFO - Stopping MessageProcessor...
2025-05-25 10:35:29,390 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:35:29,390 - INFO - QueueForwarder task cancelled.
2025-05-25 10:35:29,390 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:35:29,390 - INFO - Application shutdown complete.
2025-05-25 10:37:44,261 - INFO - Application startup event triggered.
2025-05-25 10:37:44,261 - INFO - Initializing all queues...
2025-05-25 10:37:44,262 - INFO - All queues initialized on loop 1048825376
2025-05-25 10:37:44,262 - INFO - Shared queues initialized.
2025-05-25 10:37:44,262 - INFO - Retrieved queue instances. Event loop ID: 1048825376
2025-05-25 10:37:44,262 - INFO - SimulationManager ready state set to: True
2025-05-25 10:37:44,262 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:37:44,262 - INFO - MessageProcessor queues verified
2025-05-25 10:37:44,262 - INFO - MessageProcessor task started.
2025-05-25 10:37:44,262 - INFO - QueueForwarder queues verified
2025-05-25 10:37:44,262 - INFO - QueueForwarder task started.
2025-05-25 10:37:44,262 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:37:44,262 - INFO - Starting MessageProcessor
2025-05-25 10:37:44,262 - INFO - Starting QueueForwarder
2025-05-25 10:37:45,624 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37454)
2025-05-25 10:37:45,625 - ERROR - Connection lifetime error for 127.0.0.1:37454: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:37:45,625 - INFO - Initiating cleanup for connection: 127.0.0.1:37454
2025-05-25 10:37:45,626 - INFO - Starting cleanup for 127.0.0.1:37454
2025-05-25 10:37:45,630 - INFO - Closed WebSocket connection for 127.0.0.1:37454
2025-05-25 10:37:45,631 - INFO - Connection cleanup completed for 127.0.0.1:37454. Remaining connections: 0
2025-05-25 10:37:45,631 - INFO - Cleanup finished for connection: 127.0.0.1:37454. Total connections: 0
2025-05-25 10:37:45,631 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=37454): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:37:45,631 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=37454): Cannot call "send" once a close message has been sent.
2025-05-25 10:37:50,575 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37456)
2025-05-25 10:37:50,575 - ERROR - Connection lifetime error for 127.0.0.1:37456: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:37:50,576 - INFO - Initiating cleanup for connection: 127.0.0.1:37456
2025-05-25 10:37:50,576 - INFO - Starting cleanup for 127.0.0.1:37456
2025-05-25 10:37:50,579 - INFO - Closed WebSocket connection for 127.0.0.1:37456
2025-05-25 10:37:50,580 - INFO - Connection cleanup completed for 127.0.0.1:37456. Remaining connections: 0
2025-05-25 10:37:50,580 - INFO - Cleanup finished for connection: 127.0.0.1:37456. Total connections: 0
2025-05-25 10:37:50,580 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=37456): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:37:50,580 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=37456): Cannot call "send" once a close message has been sent.
2025-05-25 10:37:50,922 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37468)
2025-05-25 10:37:50,922 - ERROR - Connection lifetime error for 127.0.0.1:37468: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:37:50,922 - INFO - Initiating cleanup for connection: 127.0.0.1:37468
2025-05-25 10:37:50,922 - INFO - Starting cleanup for 127.0.0.1:37468
2025-05-25 10:37:50,925 - INFO - Closed WebSocket connection for 127.0.0.1:37468
2025-05-25 10:37:50,926 - INFO - Connection cleanup completed for 127.0.0.1:37468. Remaining connections: 0
2025-05-25 10:37:50,926 - INFO - Cleanup finished for connection: 127.0.0.1:37468. Total connections: 0
2025-05-25 10:37:50,926 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=37468): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:37:50,926 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=37468): Cannot call "send" once a close message has been sent.
2025-05-25 10:38:15,056 - INFO - Application shutdown event triggered.
2025-05-25 10:38:15,057 - INFO - Stopping MessageProcessor...
2025-05-25 10:38:15,057 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:38:15,057 - INFO - QueueForwarder task cancelled.
2025-05-25 10:38:15,057 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:38:15,057 - INFO - Application shutdown complete.
2025-05-25 10:39:40,988 - INFO - Application startup event triggered.
2025-05-25 10:39:40,988 - INFO - Initializing all queues...
2025-05-25 10:39:40,988 - INFO - All queues initialized on loop 511778336
2025-05-25 10:39:40,988 - INFO - Shared queues initialized.
2025-05-25 10:39:40,988 - INFO - Retrieved queue instances. Event loop ID: 511778336
2025-05-25 10:39:40,988 - INFO - SimulationManager ready state set to: True
2025-05-25 10:39:40,989 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:39:40,989 - INFO - MessageProcessor queues verified
2025-05-25 10:39:40,989 - INFO - MessageProcessor task started.
2025-05-25 10:39:40,989 - INFO - QueueForwarder queues verified
2025-05-25 10:39:40,989 - INFO - QueueForwarder task started.
2025-05-25 10:39:40,989 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:39:40,989 - INFO - Starting MessageProcessor
2025-05-25 10:39:40,989 - INFO - Starting QueueForwarder
2025-05-25 10:39:42,236 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=47782)
2025-05-25 10:39:42,236 - ERROR - Connection lifetime error for 127.0.0.1:47782: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:39:42,237 - INFO - Initiating cleanup for connection: 127.0.0.1:47782
2025-05-25 10:39:42,237 - INFO - Starting cleanup for 127.0.0.1:47782
2025-05-25 10:39:42,242 - INFO - Closed WebSocket connection for 127.0.0.1:47782
2025-05-25 10:39:42,242 - INFO - Connection cleanup completed for 127.0.0.1:47782. Remaining connections: 0
2025-05-25 10:39:42,242 - INFO - Cleanup finished for connection: 127.0.0.1:47782. Total connections: 0
2025-05-25 10:39:42,242 - ERROR - WebSocket receive error for Address(host='127.0.0.1', port=47782): WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:39:42,242 - ERROR - Error during WebSocket cleanup for Address(host='127.0.0.1', port=47782): Cannot call "send" once a close message has been sent.
2025-05-25 10:41:09,372 - INFO - Application shutdown event triggered.
2025-05-25 10:41:09,372 - INFO - Stopping MessageProcessor...
2025-05-25 10:41:09,372 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:41:09,373 - INFO - QueueForwarder task cancelled.
2025-05-25 10:41:09,373 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:41:09,373 - INFO - Application shutdown complete.
2025-05-25 10:43:06,058 - INFO - Application startup event triggered.
2025-05-25 10:43:06,058 - INFO - Initializing all queues...
2025-05-25 10:43:06,058 - INFO - All queues initialized on loop 21917904
2025-05-25 10:43:06,058 - INFO - Shared queues initialized.
2025-05-25 10:43:06,058 - INFO - Retrieved queue instances. Event loop ID: 21917904
2025-05-25 10:43:06,058 - INFO - SimulationManager ready state set to: True
2025-05-25 10:43:06,058 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:43:06,058 - INFO - MessageProcessor queues verified
2025-05-25 10:43:06,059 - INFO - MessageProcessor task started.
2025-05-25 10:43:06,059 - INFO - QueueForwarder queues verified
2025-05-25 10:43:06,059 - INFO - QueueForwarder task started.
2025-05-25 10:43:06,059 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:43:06,059 - INFO - Starting MessageProcessor
2025-05-25 10:43:06,059 - INFO - Starting QueueForwarder
2025-05-25 10:43:17,099 - INFO - Application shutdown event triggered.
2025-05-25 10:43:17,099 - INFO - Stopping MessageProcessor...
2025-05-25 10:43:17,100 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 10:43:17,100 - INFO - QueueForwarder task cancelled.
2025-05-25 10:43:17,100 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:43:17,100 - INFO - Application shutdown complete.
2025-05-25 10:43:20,318 - INFO - Application startup event triggered.
2025-05-25 10:43:20,318 - INFO - Initializing all queues...
2025-05-25 10:43:20,318 - INFO - All queues initialized on loop 56294944
2025-05-25 10:43:20,319 - INFO - Shared queues initialized.
2025-05-25 10:43:20,319 - INFO - Retrieved queue instances. Event loop ID: 56294944
2025-05-25 10:43:20,319 - INFO - SimulationManager ready state set to: True
2025-05-25 10:43:20,319 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 10:43:20,319 - INFO - MessageProcessor queues verified
2025-05-25 10:43:20,319 - INFO - MessageProcessor task started.
2025-05-25 10:43:20,319 - INFO - QueueForwarder queues verified
2025-05-25 10:43:20,319 - INFO - QueueForwarder task started.
2025-05-25 10:43:20,319 - INFO - Application startup complete. All core services initialized.
2025-05-25 10:43:20,319 - INFO - Starting MessageProcessor
2025-05-25 10:43:20,320 - INFO - Starting QueueForwarder
2025-05-25 10:43:21,572 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49572)
2025-05-25 10:43:21,572 - ERROR - Connection lifetime error for 127.0.0.1:49572: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 10:43:21,573 - INFO - Initiating cleanup for connection: 127.0.0.1:49572
2025-05-25 10:43:21,573 - INFO - Starting cleanup for 127.0.0.1:49572
2025-05-25 10:43:21,577 - INFO - Closed WebSocket connection for 127.0.0.1:49572
2025-05-25 10:43:21,577 - INFO - Connection cleanup completed for 127.0.0.1:49572. Remaining connections: 0
2025-05-25 10:43:21,577 - INFO - Cleanup finished for connection: 127.0.0.1:49572. Total connections: 0
2025-05-25 10:43:21,577 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-25 10:43:21,577 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-25 10:44:20,396 - INFO - Application shutdown event triggered.
2025-05-25 10:44:20,396 - INFO - Stopping MessageProcessor...
2025-05-25 10:44:20,396 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-25 10:44:20,396 - INFO - All WebSocket connections attempted to close.
2025-05-25 10:44:20,396 - INFO - Application shutdown complete.
2025-05-25 11:50:50,379 - INFO - Application startup event triggered.
2025-05-25 11:50:50,380 - INFO - Initializing all queues...
2025-05-25 11:50:50,380 - INFO - All queues initialized on loop 687328800
2025-05-25 11:50:50,380 - INFO - Shared queues initialized.
2025-05-25 11:50:50,380 - INFO - Retrieved queue instances. Event loop ID: 687328800
2025-05-25 11:50:50,380 - INFO - SimulationManager ready state set to: True
2025-05-25 11:50:50,380 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 11:50:50,380 - INFO - MessageProcessor queues verified
2025-05-25 11:50:50,381 - INFO - MessageProcessor task started.
2025-05-25 11:50:50,381 - INFO - QueueForwarder queues verified
2025-05-25 11:50:50,381 - INFO - QueueForwarder task started.
2025-05-25 11:50:50,381 - INFO - Application startup complete. All core services initialized.
2025-05-25 11:50:50,381 - INFO - Starting MessageProcessor
2025-05-25 11:50:50,381 - INFO - Starting QueueForwarder
2025-05-25 11:50:51,721 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=56332)
2025-05-25 11:50:51,721 - ERROR - Connection lifetime error for 127.0.0.1:56332: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 11:50:51,722 - INFO - Initiating cleanup for connection: 127.0.0.1:56332
2025-05-25 11:50:51,722 - INFO - Starting cleanup for 127.0.0.1:56332
2025-05-25 11:50:51,728 - INFO - Closed WebSocket connection for 127.0.0.1:56332
2025-05-25 11:50:51,728 - INFO - Connection cleanup completed for 127.0.0.1:56332. Remaining connections: 0
2025-05-25 11:50:51,728 - INFO - Cleanup finished for connection: 127.0.0.1:56332. Total connections: 0
2025-05-25 11:50:51,728 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-25 11:50:51,729 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-25 11:58:28,641 - INFO - Application shutdown event triggered.
2025-05-25 11:58:28,641 - INFO - Stopping MessageProcessor...
2025-05-25 11:58:28,641 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 11:58:28,641 - INFO - QueueForwarder task cancelled.
2025-05-25 11:58:28,641 - INFO - All WebSocket connections attempted to close.
2025-05-25 11:58:28,641 - INFO - Application shutdown complete.
2025-05-25 11:58:32,010 - INFO - Application startup event triggered.
2025-05-25 11:58:32,010 - INFO - Initializing all queues...
2025-05-25 11:58:32,011 - INFO - All queues initialized on loop 181468704
2025-05-25 11:58:32,011 - INFO - Shared queues initialized.
2025-05-25 11:58:32,011 - INFO - Retrieved queue instances. Event loop ID: 181468704
2025-05-25 11:58:32,011 - INFO - SimulationManager ready state set to: True
2025-05-25 11:58:32,011 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 11:58:32,011 - INFO - MessageProcessor queues verified
2025-05-25 11:58:32,011 - INFO - MessageProcessor task started.
2025-05-25 11:58:32,011 - INFO - QueueForwarder queues verified
2025-05-25 11:58:32,011 - INFO - QueueForwarder task started.
2025-05-25 11:58:32,011 - INFO - Application startup complete. All core services initialized.
2025-05-25 11:58:32,011 - INFO - Starting MessageProcessor
2025-05-25 11:58:32,011 - INFO - Starting QueueForwarder
2025-05-25 11:58:33,330 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=45324)
2025-05-25 11:58:33,330 - ERROR - Connection lifetime error for 127.0.0.1:45324: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 11:58:33,331 - INFO - Initiating cleanup for connection: 127.0.0.1:45324
2025-05-25 11:58:33,331 - INFO - Starting cleanup for 127.0.0.1:45324
2025-05-25 11:58:33,336 - INFO - Closed WebSocket connection for 127.0.0.1:45324
2025-05-25 11:58:33,336 - INFO - Connection cleanup completed for 127.0.0.1:45324. Remaining connections: 0
2025-05-25 11:58:33,336 - INFO - Cleanup finished for connection: 127.0.0.1:45324. Total connections: 0
2025-05-25 11:58:33,336 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-25 11:58:33,336 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
2025-05-25 11:59:59,781 - INFO - Application shutdown event triggered.
2025-05-25 11:59:59,781 - INFO - Stopping MessageProcessor...
2025-05-25 11:59:59,782 - WARNING - MessageProcessor didn't stop cleanly
2025-05-25 11:59:59,782 - INFO - QueueForwarder task cancelled.
2025-05-25 11:59:59,782 - INFO - All WebSocket connections attempted to close.
2025-05-25 11:59:59,782 - INFO - Application shutdown complete.
2025-05-25 12:03:15,467 - INFO - Application startup event triggered.
2025-05-25 12:03:15,468 - INFO - Initializing all queues...
2025-05-25 12:03:15,468 - INFO - All queues initialized on loop 597392928
2025-05-25 12:03:15,468 - INFO - Shared queues initialized.
2025-05-25 12:03:15,468 - INFO - Retrieved queue instances. Event loop ID: 597392928
2025-05-25 12:03:15,468 - INFO - SimulationManager ready state set to: True
2025-05-25 12:03:15,468 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-25 12:03:15,468 - INFO - MessageProcessor queues verified
2025-05-25 12:03:15,468 - INFO - MessageProcessor task started.
2025-05-25 12:03:15,468 - INFO - QueueForwarder queues verified
2025-05-25 12:03:15,468 - INFO - QueueForwarder task started.
2025-05-25 12:03:15,468 - INFO - Application startup complete. All core services initialized.
2025-05-25 12:03:15,468 - INFO - Starting MessageProcessor
2025-05-25 12:03:15,469 - INFO - Starting QueueForwarder
2025-05-25 12:03:16,817 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=60520)
2025-05-25 12:03:16,817 - ERROR - Connection lifetime error for 127.0.0.1:60520: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-25 12:03:16,818 - INFO - Initiating cleanup for connection: 127.0.0.1:60520
2025-05-25 12:03:16,818 - INFO - Starting cleanup for 127.0.0.1:60520
2025-05-25 12:03:16,824 - INFO - Closed WebSocket connection for 127.0.0.1:60520
2025-05-25 12:03:16,824 - INFO - Connection cleanup completed for 127.0.0.1:60520. Remaining connections: 0
2025-05-25 12:03:16,824 - INFO - Cleanup finished for connection: 127.0.0.1:60520. Total connections: 0
2025-05-25 12:03:16,824 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-25 12:03:16,825 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 214, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-26 14:06:49,663 - INFO - Application shutdown event triggered.
2025-05-26 14:06:49,670 - INFO - Stopping MessageProcessor...
2025-05-26 14:06:49,676 - WARNING - MessageProcessor didn't stop cleanly
2025-05-26 14:06:49,677 - INFO - QueueForwarder task cancelled.
2025-05-26 14:06:49,678 - INFO - All WebSocket connections attempted to close.
2025-05-26 14:06:49,679 - INFO - Application shutdown complete.
2025-05-26 14:07:03,051 - INFO - Application startup event triggered.
2025-05-26 14:07:03,051 - INFO - Initializing all queues...
2025-05-26 14:07:03,051 - INFO - All queues initialized on loop 678977056
2025-05-26 14:07:03,051 - INFO - Shared queues initialized.
2025-05-26 14:07:03,052 - INFO - Retrieved queue instances. Event loop ID: 678977056
2025-05-26 14:07:03,052 - INFO - SimulationManager ready state set to: True
2025-05-26 14:07:03,052 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-26 14:07:03,052 - INFO - MessageProcessor queues verified
2025-05-26 14:07:03,052 - INFO - MessageProcessor task started.
2025-05-26 14:07:03,052 - INFO - QueueForwarder queues verified
2025-05-26 14:07:03,052 - INFO - QueueForwarder task started.
2025-05-26 14:07:03,052 - INFO - Application startup complete. All core services initialized.
2025-05-26 14:07:03,052 - INFO - Starting MessageProcessor
2025-05-26 14:07:03,052 - INFO - Starting QueueForwarder
2025-05-26 14:07:04,680 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54424)
2025-05-26 14:07:04,680 - ERROR - Connection lifetime error for 127.0.0.1:54424: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-26 14:07:04,682 - INFO - Initiating cleanup for connection: 127.0.0.1:54424
2025-05-26 14:07:04,682 - INFO - Starting cleanup for 127.0.0.1:54424
2025-05-26 14:07:04,686 - INFO - Closed WebSocket connection for 127.0.0.1:54424
2025-05-26 14:07:04,686 - INFO - Connection cleanup completed for 127.0.0.1:54424. Remaining connections: 0
2025-05-26 14:07:04,686 - INFO - Cleanup finished for connection: 127.0.0.1:54424. Total connections: 0
2025-05-26 14:07:04,686 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-26 14:07:04,687 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 214, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-26 14:07:10,403 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49096)
2025-05-26 14:07:10,403 - ERROR - Connection lifetime error for 127.0.0.1:49096: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-26 14:07:10,404 - INFO - Initiating cleanup for connection: 127.0.0.1:49096
2025-05-26 14:07:10,404 - INFO - Starting cleanup for 127.0.0.1:49096
2025-05-26 14:07:10,407 - INFO - Closed WebSocket connection for 127.0.0.1:49096
2025-05-26 14:07:10,407 - INFO - Connection cleanup completed for 127.0.0.1:49096. Remaining connections: 0
2025-05-26 14:07:10,408 - INFO - Cleanup finished for connection: 127.0.0.1:49096. Total connections: 0
2025-05-26 14:07:10,408 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-26 14:07:10,408 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 214, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-26 14:20:08,454 - INFO - Application shutdown event triggered.
2025-05-26 14:20:08,455 - INFO - Stopping MessageProcessor...
2025-05-26 14:20:08,455 - WARNING - MessageProcessor didn't stop cleanly
2025-05-26 14:20:08,455 - INFO - QueueForwarder task cancelled.
2025-05-26 14:20:08,455 - INFO - All WebSocket connections attempted to close.
2025-05-26 14:20:08,455 - INFO - Application shutdown complete.
2025-05-26 19:35:34,787 - INFO - Application startup event triggered.
2025-05-26 19:35:34,788 - INFO - Initializing all queues...
2025-05-26 19:35:34,788 - INFO - All queues initialized on loop 905666080
2025-05-26 19:35:34,788 - INFO - Shared queues initialized.
2025-05-26 19:35:34,788 - INFO - Retrieved queue instances. Event loop ID: 905666080
2025-05-26 19:35:34,788 - INFO - SimulationManager ready state set to: True
2025-05-26 19:35:34,788 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-26 19:35:34,788 - INFO - MessageProcessor queues verified
2025-05-26 19:35:34,788 - INFO - MessageProcessor task started.
2025-05-26 19:35:34,788 - INFO - QueueForwarder queues verified
2025-05-26 19:35:34,788 - INFO - QueueForwarder task started.
2025-05-26 19:35:34,788 - INFO - Application startup complete. All core services initialized.
2025-05-26 19:35:34,788 - INFO - Starting MessageProcessor
2025-05-26 19:35:34,788 - INFO - Starting QueueForwarder
2025-05-26 19:35:36,537 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=50008)
2025-05-26 19:35:36,537 - ERROR - Connection lifetime error for 127.0.0.1:50008: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-26 19:35:36,538 - INFO - Initiating cleanup for connection: 127.0.0.1:50008
2025-05-26 19:35:36,538 - INFO - Starting cleanup for 127.0.0.1:50008
2025-05-26 19:35:36,540 - INFO - Closed WebSocket connection for 127.0.0.1:50008
2025-05-26 19:35:36,540 - INFO - Connection cleanup completed for 127.0.0.1:50008. Remaining connections: 0
2025-05-26 19:35:36,540 - INFO - Cleanup finished for connection: 127.0.0.1:50008. Total connections: 0
2025-05-26 19:35:36,540 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-26 19:35:36,540 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 214, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-26 19:38:12,600 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=58946)
2025-05-26 19:38:12,601 - ERROR - Connection lifetime error for 127.0.0.1:58946: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 38, in handle_connection
    await websocket.accept()
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 99, in accept
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 79, in send
    raise RuntimeError(
RuntimeError: Expected ASGI message "websocket.send" or "websocket.close", but got 'websocket.accept'
2025-05-26 19:38:12,601 - INFO - Initiating cleanup for connection: 127.0.0.1:58946
2025-05-26 19:38:12,601 - INFO - Starting cleanup for 127.0.0.1:58946
2025-05-26 19:38:12,612 - INFO - Closed WebSocket connection for 127.0.0.1:58946
2025-05-26 19:38:12,612 - INFO - Connection cleanup completed for 127.0.0.1:58946. Remaining connections: 0
2025-05-26 19:38:12,612 - INFO - Cleanup finished for connection: 127.0.0.1:58946. Total connections: 0
2025-05-26 19:38:12,612 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-26 19:38:12,612 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 214, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-26 19:50:37,895 - INFO - Application startup event triggered.
2025-05-26 19:50:37,895 - INFO - Initializing all queues...
2025-05-26 19:50:37,895 - INFO - All queues initialized on loop 1020968480
2025-05-26 19:50:37,895 - INFO - Shared queues initialized.
2025-05-26 19:50:37,895 - INFO - Retrieved queue instances. Event loop ID: 1020968480
2025-05-26 19:50:37,896 - INFO - SimulationManager ready state set to: True
2025-05-26 19:50:37,896 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-26 19:50:37,896 - INFO - MessageProcessor queues verified
2025-05-26 19:50:37,896 - INFO - MessageProcessor task started.
2025-05-26 19:50:37,896 - INFO - QueueForwarder queues verified
2025-05-26 19:50:37,896 - INFO - QueueForwarder task started.
2025-05-26 19:50:37,896 - INFO - Application startup complete. All core services initialized.
2025-05-26 19:50:37,896 - INFO - Starting MessageProcessor
2025-05-26 19:50:37,896 - INFO - Starting QueueForwarder
2025-05-26 19:50:39,638 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:39,638 - INFO - Adding connection: 127.0.0.1:36122. Total connections: 1
2025-05-26 19:50:39,638 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:39,638 - INFO - Sender task started for Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:39,638 - INFO - Receiver task started for Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:39,643 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:44,952 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:44,952 - INFO - Processed 2 messages
2025-05-26 19:50:47,828 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=36122): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-26 19:50:47,829 - INFO - Receiver task for Address(host='127.0.0.1', port=36122) finished.
2025-05-26 19:50:47,857 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=50910)
2025-05-26 19:50:47,858 - INFO - Adding connection: 127.0.0.1:50910. Total connections: 2
2025-05-26 19:50:47,858 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=50910)
2025-05-26 19:50:47,858 - INFO - Sender task started for Address(host='127.0.0.1', port=50910)
2025-05-26 19:50:47,858 - INFO - Receiver task started for Address(host='127.0.0.1', port=50910)
2025-05-26 19:50:47,859 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=50910)
2025-05-26 19:50:47,860 - WARNING - Failed to send message to Address(host='127.0.0.1', port=36122), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-26 19:50:47,860 - INFO - Sender task for Address(host='127.0.0.1', port=36122) finished.
2025-05-26 19:50:47,860 - INFO - Initiating cleanup for connection: 127.0.0.1:36122
2025-05-26 19:50:47,860 - INFO - Starting cleanup for 127.0.0.1:36122
2025-05-26 19:50:47,860 - INFO - Connection cleanup completed for 127.0.0.1:36122. Remaining connections: 1
2025-05-26 19:50:47,860 - INFO - Cleanup finished for connection: 127.0.0.1:36122. Total connections: 1
2025-05-26 19:50:47,860 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-26 19:50:47,860 - INFO - Starting cleanup for Address(host='127.0.0.1', port=36122)
2025-05-26 19:50:47,860 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=36122). Remaining connections: 1
2025-05-26 19:50:52,204 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=50910)
2025-05-26 19:50:52,204 - INFO - Processed 2 messages
2025-05-26 19:51:22,834 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=50910): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-26 19:51:22,835 - INFO - Receiver task for Address(host='127.0.0.1', port=50910) finished.
2025-05-27 00:22:48,783 - INFO - Sender task for Address(host='127.0.0.1', port=50910) was cancelled.
2025-05-27 00:22:48,783 - INFO - Application shutdown event triggered.
2025-05-27 00:22:48,784 - INFO - Stopping MessageProcessor...
2025-05-27 00:22:48,784 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:22:48,784 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:22:48,784 - INFO - Application shutdown complete.
2025-05-27 00:22:48,786 - INFO - Initiating cleanup for connection: 127.0.0.1:50910
2025-05-27 00:22:48,786 - INFO - Starting cleanup for 127.0.0.1:50910
2025-05-27 00:22:48,786 - INFO - Connection cleanup completed for 127.0.0.1:50910. Remaining connections: 0
2025-05-27 00:22:48,786 - INFO - Cleanup finished for connection: 127.0.0.1:50910. Total connections: 0
2025-05-27 00:22:48,786 - INFO - Starting cleanup for Address(host='127.0.0.1', port=50910)
2025-05-27 00:22:48,786 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=50910). Remaining connections: 0
2025-05-27 00:23:01,251 - INFO - Application startup event triggered.
2025-05-27 00:23:01,251 - INFO - Initializing all queues...
2025-05-27 00:23:01,251 - INFO - All queues initialized on loop 319348256
2025-05-27 00:23:01,251 - INFO - Shared queues initialized.
2025-05-27 00:23:01,251 - INFO - Retrieved queue instances. Event loop ID: 319348256
2025-05-27 00:23:01,251 - INFO - SimulationManager ready state set to: True
2025-05-27 00:23:01,251 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:23:01,251 - INFO - MessageProcessor queues verified
2025-05-27 00:23:01,252 - INFO - MessageProcessor task started.
2025-05-27 00:23:01,252 - INFO - QueueForwarder queues verified
2025-05-27 00:23:01,252 - INFO - QueueForwarder task started.
2025-05-27 00:23:01,252 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:23:01,252 - INFO - Starting MessageProcessor
2025-05-27 00:23:01,252 - INFO - Starting QueueForwarder
2025-05-27 00:23:03,019 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:03,019 - INFO - Adding connection: 127.0.0.1:38202. Total connections: 1
2025-05-27 00:23:03,020 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:03,021 - INFO - Sender task started for Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:03,021 - INFO - Receiver task started for Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:03,024 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:05,208 - INFO - Initiating simulation start
2025-05-27 00:23:05,208 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 00:23:05,208 - INFO - Simulation task starting
2025-05-27 00:23:05,208 - INFO - System message enqueued to backend queue
2025-05-27 00:23:06,590 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:06,590 - INFO - Processed 4 messages
2025-05-27 00:23:12,778 - INFO - Processed 3 messages
2025-05-27 00:23:15,983 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:23:18,625 - INFO - Processed 3 messages
2025-05-27 00:23:23,682 - INFO - Processed 2 messages
2025-05-27 00:23:27,258 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:23:28,025 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=38202)
2025-05-27 00:23:28,025 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=38202): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:23:28,027 - INFO - Receiver task for Address(host='127.0.0.1', port=38202) finished.
2025-05-27 00:23:29,998 - INFO - Processed 3 messages
2025-05-27 00:23:35,864 - INFO - Application shutdown event triggered.
2025-05-27 00:23:35,864 - INFO - SimulationManager stopped.
2025-05-27 00:23:35,864 - INFO - Stopping MessageProcessor...
2025-05-27 00:23:35,864 - INFO - Sender task for Address(host='127.0.0.1', port=38202) was cancelled.
2025-05-27 00:23:35,869 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:23:35,869 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:23:35,869 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:23:35,869 - INFO - Application shutdown complete.
2025-05-27 00:23:35,869 - INFO - Initiating cleanup for connection: 127.0.0.1:38202
2025-05-27 00:23:35,870 - INFO - Starting cleanup for 127.0.0.1:38202
2025-05-27 00:23:35,870 - INFO - Closed WebSocket connection for 127.0.0.1:38202
2025-05-27 00:23:35,870 - INFO - Connection cleanup completed for 127.0.0.1:38202. Remaining connections: 0
2025-05-27 00:23:35,870 - INFO - Cleanup finished for connection: 127.0.0.1:38202. Total connections: 0
2025-05-27 00:23:35,870 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 141, in websocket_endpoint
    await ws_manager.handle_connection(websocket)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 50, in handle_connection
    await asyncio.gather(sender_task, receiver_task) # <--- CRITICAL CHANGE HERE
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 222, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:25:48,272 - INFO - Application startup event triggered.
2025-05-27 00:25:48,272 - INFO - Initializing all queues...
2025-05-27 00:25:48,272 - INFO - All queues initialized on loop 523157024
2025-05-27 00:25:48,272 - INFO - Shared queues initialized.
2025-05-27 00:25:48,272 - INFO - Retrieved queue instances. Event loop ID: 523157024
2025-05-27 00:25:48,273 - INFO - SimulationManager ready state set to: True
2025-05-27 00:25:48,273 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:25:48,273 - INFO - MessageProcessor queues verified
2025-05-27 00:25:48,273 - INFO - MessageProcessor task started.
2025-05-27 00:25:48,273 - INFO - QueueForwarder queues verified
2025-05-27 00:25:48,273 - INFO - QueueForwarder task started.
2025-05-27 00:25:48,273 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:25:48,273 - INFO - Starting MessageProcessor
2025-05-27 00:25:48,273 - INFO - Starting QueueForwarder
2025-05-27 00:25:50,002 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=58982)
2025-05-27 00:25:50,002 - INFO - Adding connection: 127.0.0.1:58982. Total connections: 1
2025-05-27 00:25:50,003 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=58982)
2025-05-27 00:25:50,003 - INFO - Sender task started for Address(host='127.0.0.1', port=58982)
2025-05-27 00:25:50,003 - INFO - Receiver task started for Address(host='127.0.0.1', port=58982)
2025-05-27 00:25:50,006 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=58982)
2025-05-27 00:25:50,321 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=58984)
2025-05-27 00:25:50,321 - INFO - Adding connection: 127.0.0.1:58984. Total connections: 2
2025-05-27 00:25:50,321 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=58984)
2025-05-27 00:25:50,322 - INFO - Sender task started for Address(host='127.0.0.1', port=58984)
2025-05-27 00:25:50,322 - INFO - Receiver task started for Address(host='127.0.0.1', port=58984)
2025-05-27 00:25:50,323 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=58984)
2025-05-27 00:25:51,904 - INFO - Initiating simulation start
2025-05-27 00:25:51,905 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 00:25:51,905 - INFO - Simulation task starting
2025-05-27 00:25:51,905 - INFO - System message enqueued to backend queue
2025-05-27 00:25:55,322 - INFO - Processed 5 messages
2025-05-27 00:26:02,404 - INFO - Processed 3 messages
2025-05-27 00:26:03,284 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:26:09,469 - INFO - Processed 3 messages
2025-05-27 00:26:12,011 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=58982): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:26:12,012 - INFO - Receiver task for Address(host='127.0.0.1', port=58982) finished.
2025-05-27 00:26:12,143 - WARNING - Failed to send message to Address(host='127.0.0.1', port=58982), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:26:12,143 - INFO - Sender task for Address(host='127.0.0.1', port=58982) finished.
2025-05-27 00:26:12,144 - INFO - Initiating cleanup for connection: 127.0.0.1:58982
2025-05-27 00:26:12,144 - INFO - Starting cleanup for 127.0.0.1:58982
2025-05-27 00:26:12,144 - INFO - Connection cleanup completed for 127.0.0.1:58982. Remaining connections: 1
2025-05-27 00:26:12,144 - INFO - Cleanup finished for connection: 127.0.0.1:58982. Total connections: 1
2025-05-27 00:26:12,144 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:26:12,144 - INFO - Starting cleanup for Address(host='127.0.0.1', port=58982)
2025-05-27 00:26:12,144 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=58982). Remaining connections: 1
2025-05-27 00:26:14,882 - INFO - Processed 2 messages
2025-05-27 00:26:16,320 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=58984)
2025-05-27 00:26:16,321 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=58984): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:26:16,321 - INFO - Receiver task for Address(host='127.0.0.1', port=58984) finished.
2025-05-27 00:26:16,617 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:26:20,424 - INFO - Processed 2 messages
2025-05-27 00:26:22,868 - INFO - Application shutdown event triggered.
2025-05-27 00:26:22,868 - INFO - SimulationManager stopped.
2025-05-27 00:26:22,868 - INFO - Stopping MessageProcessor...
2025-05-27 00:26:22,869 - INFO - Sender task for Address(host='127.0.0.1', port=58984) was cancelled.
2025-05-27 00:26:22,871 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:26:22,871 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:26:22,871 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:26:22,871 - INFO - Application shutdown complete.
2025-05-27 00:26:22,872 - INFO - Initiating cleanup for connection: 127.0.0.1:58984
2025-05-27 00:26:22,872 - INFO - Starting cleanup for 127.0.0.1:58984
2025-05-27 00:26:22,872 - INFO - Closed WebSocket connection for 127.0.0.1:58984
2025-05-27 00:26:22,872 - INFO - Connection cleanup completed for 127.0.0.1:58984. Remaining connections: 0
2025-05-27 00:26:22,872 - INFO - Cleanup finished for connection: 127.0.0.1:58984. Total connections: 0
2025-05-27 00:26:22,872 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 141, in websocket_endpoint
    await ws_manager.handle_connection(websocket)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 50, in handle_connection
    await asyncio.gather(sender_task, receiver_task) # <--- CRITICAL CHANGE HERE
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 222, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:28:13,403 - INFO - Application startup event triggered.
2025-05-27 00:28:13,403 - INFO - Initializing all queues...
2025-05-27 00:28:13,403 - INFO - All queues initialized on loop 479178272
2025-05-27 00:28:13,403 - INFO - Shared queues initialized.
2025-05-27 00:28:13,403 - INFO - Retrieved queue instances. Event loop ID: 479178272
2025-05-27 00:28:13,403 - INFO - SimulationManager ready state set to: True
2025-05-27 00:28:13,403 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:28:13,403 - INFO - MessageProcessor queues verified
2025-05-27 00:28:13,403 - INFO - MessageProcessor task started.
2025-05-27 00:28:13,403 - INFO - QueueForwarder queues verified
2025-05-27 00:28:13,403 - INFO - QueueForwarder task started.
2025-05-27 00:28:13,403 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:28:13,404 - INFO - Starting MessageProcessor
2025-05-27 00:28:13,404 - INFO - Starting QueueForwarder
2025-05-27 00:28:15,138 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:15,138 - INFO - Adding connection: 127.0.0.1:35044. Total connections: 1
2025-05-27 00:28:15,138 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:15,139 - INFO - Sender task started for Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:15,139 - INFO - Receiver task started for Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:15,143 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:17,231 - INFO - Initiating simulation start
2025-05-27 00:28:17,231 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 00:28:17,231 - INFO - Simulation task starting
2025-05-27 00:28:17,232 - INFO - System message enqueued to backend queue
2025-05-27 00:28:19,173 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:19,173 - INFO - Processed 4 messages
2025-05-27 00:28:25,182 - INFO - Processed 3 messages
2025-05-27 00:28:28,293 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:28:30,930 - INFO - Processed 3 messages
2025-05-27 00:28:37,264 - INFO - Processed 3 messages
2025-05-27 00:28:38,000 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:28:38,322 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54954)
2025-05-27 00:28:38,323 - INFO - Adding connection: 127.0.0.1:54954. Total connections: 2
2025-05-27 00:28:38,324 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=54954)
2025-05-27 00:28:38,324 - INFO - Sender task started for Address(host='127.0.0.1', port=54954)
2025-05-27 00:28:38,324 - INFO - Receiver task started for Address(host='127.0.0.1', port=54954)
2025-05-27 00:28:38,326 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=54954)
2025-05-27 00:28:39,081 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=54954): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 00:28:39,082 - INFO - Receiver task for Address(host='127.0.0.1', port=54954) finished.
2025-05-27 00:28:39,082 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=35044): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 00:28:39,082 - INFO - Receiver task for Address(host='127.0.0.1', port=35044) finished.
2025-05-27 00:28:39,282 - INFO - Sender task for Address(host='127.0.0.1', port=35044) was cancelled.
2025-05-27 00:28:39,283 - INFO - Application shutdown event triggered.
2025-05-27 00:28:39,283 - INFO - SimulationManager stopped.
2025-05-27 00:28:39,283 - INFO - Stopping MessageProcessor...
2025-05-27 00:28:39,283 - INFO - Sender task for Address(host='127.0.0.1', port=54954) was cancelled.
2025-05-27 00:28:39,286 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:28:39,286 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:28:39,286 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:28:39,286 - INFO - Application shutdown complete.
2025-05-27 00:28:39,287 - INFO - Initiating cleanup for connection: 127.0.0.1:35044
2025-05-27 00:28:39,287 - INFO - Starting cleanup for 127.0.0.1:35044
2025-05-27 00:28:39,287 - INFO - Connection cleanup completed for 127.0.0.1:35044. Remaining connections: 1
2025-05-27 00:28:39,287 - INFO - Cleanup finished for connection: 127.0.0.1:35044. Total connections: 1
2025-05-27 00:28:39,287 - INFO - Starting cleanup for Address(host='127.0.0.1', port=35044)
2025-05-27 00:28:39,288 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=35044). Remaining connections: 1
2025-05-27 00:28:39,289 - INFO - Initiating cleanup for connection: 127.0.0.1:54954
2025-05-27 00:28:39,289 - INFO - Starting cleanup for 127.0.0.1:54954
2025-05-27 00:28:39,289 - INFO - Connection cleanup completed for 127.0.0.1:54954. Remaining connections: 0
2025-05-27 00:28:39,289 - INFO - Cleanup finished for connection: 127.0.0.1:54954. Total connections: 0
2025-05-27 00:28:39,289 - INFO - Starting cleanup for Address(host='127.0.0.1', port=54954)
2025-05-27 00:28:39,289 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=54954). Remaining connections: 0
2025-05-27 00:34:20,361 - INFO - Application startup event triggered.
2025-05-27 00:34:20,362 - INFO - Initializing all queues...
2025-05-27 00:34:20,362 - INFO - All queues initialized on loop 1035554336
2025-05-27 00:34:20,362 - INFO - Shared queues initialized.
2025-05-27 00:34:20,362 - INFO - Retrieved queue instances. Event loop ID: 1035554336
2025-05-27 00:34:20,362 - INFO - SimulationManager ready state set to: True
2025-05-27 00:34:20,362 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:34:20,362 - INFO - MessageProcessor queues verified
2025-05-27 00:34:20,362 - INFO - MessageProcessor task started.
2025-05-27 00:34:20,362 - INFO - QueueForwarder queues verified
2025-05-27 00:34:20,362 - INFO - QueueForwarder task started.
2025-05-27 00:34:20,362 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:34:20,362 - INFO - Starting MessageProcessor
2025-05-27 00:34:20,362 - INFO - Starting QueueForwarder
2025-05-27 00:34:22,094 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:22,094 - INFO - Adding connection: 127.0.0.1:44536. Total connections: 1
2025-05-27 00:34:22,095 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:22,095 - INFO - Sender task started for Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:22,095 - INFO - Receiver task started for Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:22,101 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:24,072 - INFO - Initiating simulation start
2025-05-27 00:34:24,073 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 00:34:24,073 - INFO - Simulation task starting
2025-05-27 00:34:24,073 - INFO - System message enqueued to backend queue
2025-05-27 00:34:25,718 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:25,718 - INFO - Processed 4 messages
2025-05-27 00:34:30,193 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=44536): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:34:30,193 - INFO - Receiver task for Address(host='127.0.0.1', port=44536) finished.
2025-05-27 00:34:30,218 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:30,218 - INFO - Adding connection: 127.0.0.1:37862. Total connections: 2
2025-05-27 00:34:30,219 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:30,219 - INFO - Sender task started for Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:30,219 - INFO - Receiver task started for Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:30,220 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:30,221 - WARNING - Failed to send message to Address(host='127.0.0.1', port=44536), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:34:30,221 - INFO - Sender task for Address(host='127.0.0.1', port=44536) finished.
2025-05-27 00:34:30,221 - INFO - Initiating cleanup for connection: 127.0.0.1:44536
2025-05-27 00:34:30,221 - INFO - Starting cleanup for 127.0.0.1:44536
2025-05-27 00:34:30,221 - INFO - Connection cleanup completed for 127.0.0.1:44536. Remaining connections: 1
2025-05-27 00:34:30,221 - INFO - Cleanup finished for connection: 127.0.0.1:44536. Total connections: 1
2025-05-27 00:34:30,222 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:34:30,222 - INFO - Starting cleanup for Address(host='127.0.0.1', port=44536)
2025-05-27 00:34:30,222 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=44536). Remaining connections: 1
2025-05-27 00:34:30,740 - INFO - Processed 3 messages
2025-05-27 00:34:31,322 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37868)
2025-05-27 00:34:31,322 - INFO - Adding connection: 127.0.0.1:37868. Total connections: 2
2025-05-27 00:34:31,323 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=37868)
2025-05-27 00:34:31,323 - INFO - Sender task started for Address(host='127.0.0.1', port=37868)
2025-05-27 00:34:31,323 - INFO - Receiver task started for Address(host='127.0.0.1', port=37868)
2025-05-27 00:34:31,325 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=37868)
2025-05-27 00:34:31,334 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=37884)
2025-05-27 00:34:31,334 - INFO - Adding connection: 127.0.0.1:37884. Total connections: 3
2025-05-27 00:34:31,335 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=37884)
2025-05-27 00:34:31,335 - INFO - Sender task started for Address(host='127.0.0.1', port=37884)
2025-05-27 00:34:31,335 - INFO - Receiver task started for Address(host='127.0.0.1', port=37884)
2025-05-27 00:34:31,336 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=37884)
2025-05-27 00:34:32,228 - INFO - Initiating simulation start
2025-05-27 00:34:32,228 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 00:34:34,233 - INFO - Initiating simulation start
2025-05-27 00:34:34,233 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 00:34:34,847 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:36,953 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:36,953 - INFO - Processed 6 messages
2025-05-27 00:34:37,129 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:34:37,520 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:39,061 - INFO - Initiating simulation start
2025-05-27 00:34:39,061 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 00:34:40,214 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:42,343 - INFO - Processed 5 messages
2025-05-27 00:34:44,435 - INFO - Initiating simulation start
2025-05-27 00:34:44,435 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 00:34:48,861 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:34:49,862 - INFO - Processed 3 messages
2025-05-27 00:34:55,221 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=37862)
2025-05-27 00:34:55,221 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=37862): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:34:55,222 - INFO - Receiver task for Address(host='127.0.0.1', port=37862) finished.
2025-05-27 00:34:56,659 - INFO - Processed 3 messages
2025-05-27 00:34:57,320 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=37884)
2025-05-27 00:34:57,320 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=37884): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:34:57,321 - INFO - Receiver task for Address(host='127.0.0.1', port=37884) finished.
2025-05-27 00:34:57,321 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=37868)
2025-05-27 00:34:57,321 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=37868): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:34:57,322 - INFO - Receiver task for Address(host='127.0.0.1', port=37868) finished.
2025-05-27 00:35:00,104 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:35:02,636 - INFO - Processed 3 messages
2025-05-27 00:35:08,851 - INFO - Processed 3 messages
2025-05-27 00:35:09,809 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:35:16,552 - INFO - Processed 3 messages
2025-05-27 00:35:20,224 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=55410)
2025-05-27 00:35:20,224 - INFO - Adding connection: 127.0.0.1:55410. Total connections: 4
2025-05-27 00:35:20,224 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=55410)
2025-05-27 00:35:20,224 - INFO - Sender task started for Address(host='127.0.0.1', port=55410)
2025-05-27 00:35:20,225 - INFO - Receiver task started for Address(host='127.0.0.1', port=55410)
2025-05-27 00:35:20,227 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=55410)
2025-05-27 00:35:20,583 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=37862): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 00:35:20,585 - INFO - Sender task for Address(host='127.0.0.1', port=37862) finished.
2025-05-27 00:35:20,586 - INFO - Initiating cleanup for connection: 127.0.0.1:37862
2025-05-27 00:35:20,586 - INFO - Starting cleanup for 127.0.0.1:37862
2025-05-27 00:35:20,586 - INFO - Closed WebSocket connection for 127.0.0.1:37862
2025-05-27 00:35:20,586 - INFO - Connection cleanup completed for 127.0.0.1:37862. Remaining connections: 3
2025-05-27 00:35:20,586 - INFO - Cleanup finished for connection: 127.0.0.1:37862. Total connections: 3
2025-05-27 00:35:20,586 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 00:35:20,587 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:35:21,316 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:35:22,317 - INFO - Processed 4 messages
2025-05-27 00:35:22,323 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57604)
2025-05-27 00:35:22,323 - INFO - Adding connection: 127.0.0.1:57604. Total connections: 4
2025-05-27 00:35:22,324 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=57604)
2025-05-27 00:35:22,324 - INFO - Sender task started for Address(host='127.0.0.1', port=57604)
2025-05-27 00:35:22,324 - INFO - Receiver task started for Address(host='127.0.0.1', port=57604)
2025-05-27 00:35:22,326 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=57604)
2025-05-27 00:35:22,327 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=37884): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 00:35:22,327 - INFO - Sender task for Address(host='127.0.0.1', port=37884) finished.
2025-05-27 00:35:22,328 - INFO - Initiating cleanup for connection: 127.0.0.1:37884
2025-05-27 00:35:22,328 - INFO - Starting cleanup for 127.0.0.1:37884
2025-05-27 00:35:22,328 - INFO - Closed WebSocket connection for 127.0.0.1:37884
2025-05-27 00:35:22,328 - INFO - Connection cleanup completed for 127.0.0.1:37884. Remaining connections: 3
2025-05-27 00:35:22,328 - INFO - Cleanup finished for connection: 127.0.0.1:37884. Total connections: 3
2025-05-27 00:35:22,328 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 00:35:22,328 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:35:22,336 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57616)
2025-05-27 00:35:22,336 - INFO - Adding connection: 127.0.0.1:57616. Total connections: 4
2025-05-27 00:35:22,336 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=57616)
2025-05-27 00:35:22,337 - INFO - Sender task started for Address(host='127.0.0.1', port=57616)
2025-05-27 00:35:22,337 - INFO - Receiver task started for Address(host='127.0.0.1', port=57616)
2025-05-27 00:35:22,338 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=57616)
2025-05-27 00:35:22,338 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=37868): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 00:35:22,339 - INFO - Sender task for Address(host='127.0.0.1', port=37868) finished.
2025-05-27 00:35:22,339 - INFO - Initiating cleanup for connection: 127.0.0.1:37868
2025-05-27 00:35:22,339 - INFO - Starting cleanup for 127.0.0.1:37868
2025-05-27 00:35:22,339 - INFO - Closed WebSocket connection for 127.0.0.1:37868
2025-05-27 00:35:22,339 - INFO - Connection cleanup completed for 127.0.0.1:37868. Remaining connections: 3
2025-05-27 00:35:22,339 - INFO - Cleanup finished for connection: 127.0.0.1:37868. Total connections: 3
2025-05-27 00:35:22,340 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 00:35:22,340 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:35:28,868 - INFO - Processed 5 messages
2025-05-27 00:35:32,545 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:35:35,514 - INFO - Processed 3 messages
2025-05-27 00:35:40,614 - INFO - Processed 2 messages
2025-05-27 00:35:44,544 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:35:45,227 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=55410)
2025-05-27 00:35:45,227 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=55410): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:35:45,228 - INFO - Receiver task for Address(host='127.0.0.1', port=55410) finished.
2025-05-27 00:35:47,338 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=57616)
2025-05-27 00:35:47,339 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=57616): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:35:47,339 - INFO - Receiver task for Address(host='127.0.0.1', port=57616) finished.
2025-05-27 00:35:47,636 - INFO - Processed 3 messages
2025-05-27 00:35:48,320 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=57604)
2025-05-27 00:35:48,320 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=57604): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 00:35:48,321 - INFO - Receiver task for Address(host='127.0.0.1', port=57604) finished.
2025-05-27 00:35:53,102 - INFO - Processed 2 messages
2025-05-27 00:35:55,919 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:35:58,939 - INFO - Processed 3 messages
2025-05-27 00:36:04,432 - INFO - Processed 2 messages
2025-05-27 00:36:07,434 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:36:10,322 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=50152)
2025-05-27 00:36:10,322 - INFO - Adding connection: 127.0.0.1:50152. Total connections: 4
2025-05-27 00:36:10,323 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=50152)
2025-05-27 00:36:10,323 - INFO - Sender task started for Address(host='127.0.0.1', port=50152)
2025-05-27 00:36:10,323 - INFO - Receiver task started for Address(host='127.0.0.1', port=50152)
2025-05-27 00:36:10,325 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=50152)
2025-05-27 00:36:10,325 - INFO - Processed 3 messages
2025-05-27 00:36:10,325 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=55410): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 00:36:10,326 - INFO - Sender task for Address(host='127.0.0.1', port=55410) finished.
2025-05-27 00:36:10,326 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=57616): received 1001 (going away); then sent 1001 (going away)
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-27 00:36:10,327 - INFO - Sender task for Address(host='127.0.0.1', port=57616) finished.
2025-05-27 00:36:10,327 - INFO - Initiating cleanup for connection: 127.0.0.1:55410
2025-05-27 00:36:10,327 - INFO - Starting cleanup for 127.0.0.1:55410
2025-05-27 00:36:10,327 - INFO - Closed WebSocket connection for 127.0.0.1:55410
2025-05-27 00:36:10,327 - INFO - Connection cleanup completed for 127.0.0.1:55410. Remaining connections: 3
2025-05-27 00:36:10,327 - INFO - Cleanup finished for connection: 127.0.0.1:55410. Total connections: 3
2025-05-27 00:36:10,327 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 00:36:10,327 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:36:10,328 - INFO - Initiating cleanup for connection: 127.0.0.1:57616
2025-05-27 00:36:10,328 - INFO - Starting cleanup for 127.0.0.1:57616
2025-05-27 00:36:10,328 - INFO - Closed WebSocket connection for 127.0.0.1:57616
2025-05-27 00:36:10,328 - INFO - Connection cleanup completed for 127.0.0.1:57616. Remaining connections: 2
2025-05-27 00:36:10,328 - INFO - Cleanup finished for connection: 127.0.0.1:57616. Total connections: 2
2025-05-27 00:36:10,328 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 00:36:10,328 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:36:13,322 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=57152)
2025-05-27 00:36:13,323 - INFO - Adding connection: 127.0.0.1:57152. Total connections: 3
2025-05-27 00:36:13,325 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=57152)
2025-05-27 00:36:13,325 - INFO - Sender task started for Address(host='127.0.0.1', port=57152)
2025-05-27 00:36:13,326 - INFO - Receiver task started for Address(host='127.0.0.1', port=57152)
2025-05-27 00:36:13,326 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=57152)
2025-05-27 00:36:13,326 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=57604): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 00:36:13,327 - INFO - Sender task for Address(host='127.0.0.1', port=57604) finished.
2025-05-27 00:36:13,327 - INFO - Initiating cleanup for connection: 127.0.0.1:57604
2025-05-27 00:36:13,327 - INFO - Starting cleanup for 127.0.0.1:57604
2025-05-27 00:36:13,327 - INFO - Closed WebSocket connection for 127.0.0.1:57604
2025-05-27 00:36:13,328 - INFO - Connection cleanup completed for 127.0.0.1:57604. Remaining connections: 2
2025-05-27 00:36:13,328 - INFO - Cleanup finished for connection: 127.0.0.1:57604. Total connections: 2
2025-05-27 00:36:13,328 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 00:36:13,328 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 00:36:15,778 - INFO - Processed 4 messages
2025-05-27 00:36:17,084 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=57152): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 00:36:17,085 - INFO - Receiver task for Address(host='127.0.0.1', port=57152) finished.
2025-05-27 00:36:17,085 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=50152): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 00:36:17,085 - INFO - Receiver task for Address(host='127.0.0.1', port=50152) finished.
2025-05-27 00:36:17,285 - INFO - Application shutdown event triggered.
2025-05-27 00:36:17,285 - INFO - SimulationManager stopped.
2025-05-27 00:36:17,285 - INFO - Stopping MessageProcessor...
2025-05-27 00:36:17,285 - INFO - Sender task for Address(host='127.0.0.1', port=50152) was cancelled.
2025-05-27 00:36:17,288 - INFO - Sender task for Address(host='127.0.0.1', port=57152) was cancelled.
2025-05-27 00:36:17,288 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:36:17,288 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:36:17,289 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:36:17,289 - INFO - Application shutdown complete.
2025-05-27 00:36:17,289 - INFO - Initiating cleanup for connection: 127.0.0.1:50152
2025-05-27 00:36:17,289 - INFO - Starting cleanup for 127.0.0.1:50152
2025-05-27 00:36:17,289 - INFO - Connection cleanup completed for 127.0.0.1:50152. Remaining connections: 1
2025-05-27 00:36:17,289 - INFO - Cleanup finished for connection: 127.0.0.1:50152. Total connections: 1
2025-05-27 00:36:17,290 - INFO - Starting cleanup for Address(host='127.0.0.1', port=50152)
2025-05-27 00:36:17,290 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=50152). Remaining connections: 1
2025-05-27 00:36:17,291 - INFO - Initiating cleanup for connection: 127.0.0.1:57152
2025-05-27 00:36:17,291 - INFO - Starting cleanup for 127.0.0.1:57152
2025-05-27 00:36:17,291 - INFO - Connection cleanup completed for 127.0.0.1:57152. Remaining connections: 0
2025-05-27 00:36:17,291 - INFO - Cleanup finished for connection: 127.0.0.1:57152. Total connections: 0
2025-05-27 00:36:17,291 - INFO - Starting cleanup for Address(host='127.0.0.1', port=57152)
2025-05-27 00:36:17,291 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=57152). Remaining connections: 0
2025-05-27 00:37:37,027 - INFO - Application startup event triggered.
2025-05-27 00:37:37,027 - INFO - Initializing all queues...
2025-05-27 00:37:37,027 - INFO - All queues initialized on loop 167493152
2025-05-27 00:37:37,027 - INFO - Shared queues initialized.
2025-05-27 00:37:37,027 - INFO - Retrieved queue instances. Event loop ID: 167493152
2025-05-27 00:37:37,027 - INFO - SimulationManager ready state set to: True
2025-05-27 00:37:37,027 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:37:37,027 - INFO - MessageProcessor queues verified
2025-05-27 00:37:37,027 - INFO - MessageProcessor task started.
2025-05-27 00:37:37,027 - INFO - QueueForwarder queues verified
2025-05-27 00:37:37,027 - INFO - QueueForwarder task started.
2025-05-27 00:37:37,027 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:37:37,027 - INFO - Starting MessageProcessor
2025-05-27 00:37:37,028 - INFO - Starting QueueForwarder
2025-05-27 00:37:38,760 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=36518)
2025-05-27 00:37:38,760 - INFO - Adding connection: 127.0.0.1:36518. Total connections: 1
2025-05-27 00:37:38,761 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=36518)
2025-05-27 00:37:38,761 - INFO - Sender task started for Address(host='127.0.0.1', port=36518)
2025-05-27 00:37:38,761 - INFO - Receiver task started for Address(host='127.0.0.1', port=36518)
2025-05-27 00:37:38,764 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=36518)
2025-05-27 00:37:40,387 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=36518): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:37:40,387 - INFO - Receiver task for Address(host='127.0.0.1', port=36518) finished.
2025-05-27 00:37:40,413 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=36526)
2025-05-27 00:37:40,413 - INFO - Adding connection: 127.0.0.1:36526. Total connections: 2
2025-05-27 00:37:40,413 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=36526)
2025-05-27 00:37:40,413 - INFO - Sender task started for Address(host='127.0.0.1', port=36526)
2025-05-27 00:37:40,413 - INFO - Receiver task started for Address(host='127.0.0.1', port=36526)
2025-05-27 00:37:40,415 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=36526)
2025-05-27 00:37:40,415 - WARNING - Failed to send message to Address(host='127.0.0.1', port=36518), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:37:40,415 - INFO - Sender task for Address(host='127.0.0.1', port=36518) finished.
2025-05-27 00:37:40,415 - INFO - Initiating cleanup for connection: 127.0.0.1:36518
2025-05-27 00:37:40,415 - INFO - Starting cleanup for 127.0.0.1:36518
2025-05-27 00:37:40,415 - INFO - Connection cleanup completed for 127.0.0.1:36518. Remaining connections: 1
2025-05-27 00:37:40,415 - INFO - Cleanup finished for connection: 127.0.0.1:36518. Total connections: 1
2025-05-27 00:37:40,416 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:37:40,416 - INFO - Starting cleanup for Address(host='127.0.0.1', port=36518)
2025-05-27 00:37:40,416 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=36518). Remaining connections: 1
2025-05-27 00:37:41,063 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=36526): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:37:41,063 - INFO - Receiver task for Address(host='127.0.0.1', port=36526) finished.
2025-05-27 00:37:41,091 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:41,091 - INFO - Adding connection: 127.0.0.1:36542. Total connections: 2
2025-05-27 00:37:41,091 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:41,091 - INFO - Sender task started for Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:41,092 - INFO - Receiver task started for Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:41,093 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:41,093 - WARNING - Failed to send message to Address(host='127.0.0.1', port=36526), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:37:41,093 - INFO - Sender task for Address(host='127.0.0.1', port=36526) finished.
2025-05-27 00:37:41,093 - INFO - Initiating cleanup for connection: 127.0.0.1:36526
2025-05-27 00:37:41,093 - INFO - Starting cleanup for 127.0.0.1:36526
2025-05-27 00:37:41,093 - INFO - Connection cleanup completed for 127.0.0.1:36526. Remaining connections: 1
2025-05-27 00:37:41,093 - INFO - Cleanup finished for connection: 127.0.0.1:36526. Total connections: 1
2025-05-27 00:37:41,093 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:37:41,093 - INFO - Starting cleanup for Address(host='127.0.0.1', port=36526)
2025-05-27 00:37:41,093 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=36526). Remaining connections: 1
2025-05-27 00:37:41,955 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:42,983 - INFO - Initiating simulation start
2025-05-27 00:37:42,983 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 00:37:42,984 - INFO - Simulation task starting
2025-05-27 00:37:42,984 - INFO - System message enqueued to backend queue
2025-05-27 00:37:42,985 - INFO - Processed 5 messages
2025-05-27 00:37:44,073 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=36542): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:37:44,073 - INFO - Receiver task for Address(host='127.0.0.1', port=36542) finished.
2025-05-27 00:37:44,097 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44954)
2025-05-27 00:37:44,097 - INFO - Adding connection: 127.0.0.1:44954. Total connections: 2
2025-05-27 00:37:44,097 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=44954)
2025-05-27 00:37:44,097 - INFO - Sender task started for Address(host='127.0.0.1', port=44954)
2025-05-27 00:37:44,097 - INFO - Receiver task started for Address(host='127.0.0.1', port=44954)
2025-05-27 00:37:44,099 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=44954)
2025-05-27 00:37:44,099 - WARNING - Failed to send message to Address(host='127.0.0.1', port=36542), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:37:44,099 - INFO - Sender task for Address(host='127.0.0.1', port=36542) finished.
2025-05-27 00:37:44,099 - INFO - Initiating cleanup for connection: 127.0.0.1:36542
2025-05-27 00:37:44,099 - INFO - Starting cleanup for 127.0.0.1:36542
2025-05-27 00:37:44,099 - INFO - Connection cleanup completed for 127.0.0.1:36542. Remaining connections: 1
2025-05-27 00:37:44,099 - INFO - Cleanup finished for connection: 127.0.0.1:36542. Total connections: 1
2025-05-27 00:37:44,100 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:37:44,100 - INFO - Starting cleanup for Address(host='127.0.0.1', port=36542)
2025-05-27 00:37:44,100 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=36542). Remaining connections: 1
2025-05-27 00:37:44,698 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=44954): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:37:44,698 - INFO - Receiver task for Address(host='127.0.0.1', port=44954) finished.
2025-05-27 00:37:44,725 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:44,725 - INFO - Adding connection: 127.0.0.1:44968. Total connections: 2
2025-05-27 00:37:44,725 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:44,725 - INFO - Sender task started for Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:44,725 - INFO - Receiver task started for Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:44,726 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:44,727 - WARNING - Failed to send message to Address(host='127.0.0.1', port=44954), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:37:44,727 - INFO - Sender task for Address(host='127.0.0.1', port=44954) finished.
2025-05-27 00:37:44,727 - INFO - Initiating cleanup for connection: 127.0.0.1:44954
2025-05-27 00:37:44,727 - INFO - Starting cleanup for 127.0.0.1:44954
2025-05-27 00:37:44,727 - INFO - Connection cleanup completed for 127.0.0.1:44954. Remaining connections: 1
2025-05-27 00:37:44,727 - INFO - Cleanup finished for connection: 127.0.0.1:44954. Total connections: 1
2025-05-27 00:37:44,727 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:37:44,727 - INFO - Starting cleanup for Address(host='127.0.0.1', port=44954)
2025-05-27 00:37:44,727 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=44954). Remaining connections: 1
2025-05-27 00:37:45,147 - INFO - Initiating simulation start
2025-05-27 00:37:45,147 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 00:37:45,817 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:48,505 - INFO - Processed 6 messages
2025-05-27 00:37:50,066 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=44968): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 00:37:50,067 - INFO - Receiver task for Address(host='127.0.0.1', port=44968) finished.
2025-05-27 00:37:50,168 - INFO - Application shutdown event triggered.
2025-05-27 00:37:50,168 - INFO - SimulationManager stopped.
2025-05-27 00:37:50,168 - INFO - Stopping MessageProcessor...
2025-05-27 00:37:50,168 - INFO - Sender task for Address(host='127.0.0.1', port=44968) was cancelled.
2025-05-27 00:37:50,171 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:37:50,171 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:37:50,171 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:37:50,171 - INFO - Application shutdown complete.
2025-05-27 00:37:50,172 - INFO - Initiating cleanup for connection: 127.0.0.1:44968
2025-05-27 00:37:50,172 - INFO - Starting cleanup for 127.0.0.1:44968
2025-05-27 00:37:50,172 - INFO - Connection cleanup completed for 127.0.0.1:44968. Remaining connections: 0
2025-05-27 00:37:50,172 - INFO - Cleanup finished for connection: 127.0.0.1:44968. Total connections: 0
2025-05-27 00:37:50,172 - INFO - Starting cleanup for Address(host='127.0.0.1', port=44968)
2025-05-27 00:37:50,172 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=44968). Remaining connections: 0
2025-05-27 00:39:07,464 - INFO - Application startup event triggered.
2025-05-27 00:39:07,464 - INFO - Initializing all queues...
2025-05-27 00:39:07,464 - INFO - All queues initialized on loop 1087278624
2025-05-27 00:39:07,464 - INFO - Shared queues initialized.
2025-05-27 00:39:07,464 - INFO - Retrieved queue instances. Event loop ID: 1087278624
2025-05-27 00:39:07,464 - INFO - SimulationManager ready state set to: True
2025-05-27 00:39:07,464 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:39:07,464 - INFO - MessageProcessor queues verified
2025-05-27 00:39:07,464 - INFO - MessageProcessor task started.
2025-05-27 00:39:07,464 - INFO - QueueForwarder queues verified
2025-05-27 00:39:07,464 - INFO - QueueForwarder task started.
2025-05-27 00:39:07,464 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:39:07,464 - INFO - Starting MessageProcessor
2025-05-27 00:39:07,464 - INFO - Starting QueueForwarder
2025-05-27 00:39:09,213 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:09,213 - INFO - Adding connection: 127.0.0.1:38178. Total connections: 1
2025-05-27 00:39:09,213 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:09,213 - INFO - Sender task started for Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:09,213 - INFO - Receiver task started for Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:09,218 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:11,088 - INFO - Initiating simulation start
2025-05-27 00:39:11,088 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 00:39:11,089 - INFO - Simulation task starting
2025-05-27 00:39:11,089 - INFO - System message enqueued to backend queue
2025-05-27 00:39:13,346 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:13,346 - INFO - Processed 4 messages
2025-05-27 00:39:19,437 - INFO - Processed 3 messages
2025-05-27 00:39:22,547 - WARNING - Messages not being forwarded to frontend
2025-05-27 00:39:26,167 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=38178): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 00:39:26,167 - INFO - Receiver task for Address(host='127.0.0.1', port=38178) finished.
2025-05-27 00:39:26,361 - INFO - Processed 3 messages
2025-05-27 00:39:26,361 - WARNING - Failed to send message to Address(host='127.0.0.1', port=38178), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 00:39:26,361 - INFO - Sender task for Address(host='127.0.0.1', port=38178) finished.
2025-05-27 00:39:26,362 - INFO - Initiating cleanup for connection: 127.0.0.1:38178
2025-05-27 00:39:26,362 - INFO - Starting cleanup for 127.0.0.1:38178
2025-05-27 00:39:26,362 - INFO - Connection cleanup completed for 127.0.0.1:38178. Remaining connections: 0
2025-05-27 00:39:26,362 - INFO - Cleanup finished for connection: 127.0.0.1:38178. Total connections: 0
2025-05-27 00:39:26,362 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 00:39:26,362 - INFO - Starting cleanup for Address(host='127.0.0.1', port=38178)
2025-05-27 00:39:26,362 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=38178). Remaining connections: 0
2025-05-27 00:39:27,631 - INFO - Application shutdown event triggered.
2025-05-27 00:39:27,632 - INFO - SimulationManager stopped.
2025-05-27 00:39:27,632 - INFO - Stopping MessageProcessor...
2025-05-27 00:39:27,634 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:39:27,635 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:39:27,635 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:39:27,635 - INFO - Application shutdown complete.
2025-05-27 00:48:55,572 - INFO - Application startup event triggered.
2025-05-27 00:48:55,572 - INFO - Initializing all queues...
2025-05-27 00:48:55,572 - INFO - All queues initialized on loop 737357344
2025-05-27 00:48:55,572 - INFO - Shared queues initialized.
2025-05-27 00:48:55,572 - INFO - Retrieved queue instances. Event loop ID: 737357344
2025-05-27 00:48:55,572 - INFO - SimulationManager ready state set to: True
2025-05-27 00:48:55,572 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:48:55,572 - INFO - MessageProcessor queues verified
2025-05-27 00:48:55,572 - INFO - MessageProcessor task started.
2025-05-27 00:48:55,572 - INFO - QueueForwarder queues verified
2025-05-27 00:48:55,573 - INFO - QueueForwarder task started.
2025-05-27 00:48:55,573 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:48:55,573 - INFO - Starting MessageProcessor
2025-05-27 00:48:55,573 - INFO - Starting QueueForwarder
2025-05-27 00:52:07,439 - INFO - Application shutdown event triggered.
2025-05-27 00:52:07,439 - INFO - Stopping MessageProcessor...
2025-05-27 00:52:07,440 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:52:07,440 - INFO - QueueForwarder task cancelled.
2025-05-27 00:52:07,440 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:52:07,440 - INFO - Application shutdown complete.
2025-05-27 00:52:07,839 - INFO - Application startup event triggered.
2025-05-27 00:52:07,840 - INFO - Initializing all queues...
2025-05-27 00:52:07,840 - INFO - All queues initialized on loop 628469968
2025-05-27 00:52:07,840 - INFO - Shared queues initialized.
2025-05-27 00:52:07,840 - INFO - Retrieved queue instances. Event loop ID: 628469968
2025-05-27 00:52:07,840 - INFO - SimulationManager ready state set to: True
2025-05-27 00:52:07,840 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:52:07,840 - INFO - MessageProcessor queues verified
2025-05-27 00:52:07,840 - INFO - MessageProcessor task started.
2025-05-27 00:52:07,840 - INFO - QueueForwarder queues verified
2025-05-27 00:52:07,840 - INFO - QueueForwarder task started.
2025-05-27 00:52:07,840 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:52:07,840 - INFO - Starting MessageProcessor
2025-05-27 00:52:07,840 - INFO - Starting QueueForwarder
2025-05-27 00:52:28,085 - INFO - Application shutdown event triggered.
2025-05-27 00:52:28,086 - INFO - Stopping MessageProcessor...
2025-05-27 00:52:28,086 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:52:28,086 - INFO - QueueForwarder task cancelled.
2025-05-27 00:52:28,086 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:52:28,086 - INFO - Application shutdown complete.
2025-05-27 00:52:28,483 - INFO - Application startup event triggered.
2025-05-27 00:52:28,483 - INFO - Initializing all queues...
2025-05-27 00:52:28,483 - INFO - All queues initialized on loop 819732688
2025-05-27 00:52:28,483 - INFO - Shared queues initialized.
2025-05-27 00:52:28,483 - INFO - Retrieved queue instances. Event loop ID: 819732688
2025-05-27 00:52:28,483 - INFO - SimulationManager ready state set to: True
2025-05-27 00:52:28,483 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:52:28,483 - INFO - MessageProcessor queues verified
2025-05-27 00:52:28,483 - INFO - MessageProcessor task started.
2025-05-27 00:52:28,483 - INFO - QueueForwarder queues verified
2025-05-27 00:52:28,483 - INFO - QueueForwarder task started.
2025-05-27 00:52:28,484 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:52:28,484 - INFO - Starting MessageProcessor
2025-05-27 00:52:28,484 - INFO - Starting QueueForwarder
2025-05-27 00:54:46,421 - INFO - Application shutdown event triggered.
2025-05-27 00:54:46,421 - INFO - Stopping MessageProcessor...
2025-05-27 00:54:46,421 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:54:46,422 - INFO - QueueForwarder task cancelled.
2025-05-27 00:54:46,422 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:54:46,422 - INFO - Application shutdown complete.
2025-05-27 00:54:49,158 - INFO - Application startup event triggered.
2025-05-27 00:54:49,158 - INFO - Initializing all queues...
2025-05-27 00:54:49,159 - INFO - All queues initialized on loop 152907296
2025-05-27 00:54:49,159 - INFO - Shared queues initialized.
2025-05-27 00:54:49,159 - INFO - Retrieved queue instances. Event loop ID: 152907296
2025-05-27 00:54:49,159 - INFO - SimulationManager ready state set to: True
2025-05-27 00:54:49,159 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:54:49,159 - INFO - MessageProcessor queues verified
2025-05-27 00:54:49,159 - INFO - MessageProcessor task started.
2025-05-27 00:54:49,159 - INFO - QueueForwarder queues verified
2025-05-27 00:54:49,159 - INFO - QueueForwarder task started.
2025-05-27 00:54:49,159 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:54:49,159 - INFO - Starting MessageProcessor
2025-05-27 00:54:49,159 - INFO - Starting QueueForwarder
2025-05-27 00:55:56,920 - INFO - Application shutdown event triggered.
2025-05-27 00:55:56,921 - INFO - Stopping MessageProcessor...
2025-05-27 00:55:56,921 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:55:56,921 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:55:56,921 - INFO - Application shutdown complete.
2025-05-27 00:55:58,802 - INFO - Application startup event triggered.
2025-05-27 00:55:58,802 - INFO - Initializing all queues...
2025-05-27 00:55:58,802 - INFO - All queues initialized on loop 72252960
2025-05-27 00:55:58,802 - INFO - Shared queues initialized.
2025-05-27 00:55:58,802 - INFO - Retrieved queue instances. Event loop ID: 72252960
2025-05-27 00:55:58,802 - INFO - SimulationManager ready state set to: True
2025-05-27 00:55:58,802 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:55:58,802 - INFO - MessageProcessor queues verified
2025-05-27 00:55:58,802 - INFO - MessageProcessor task started.
2025-05-27 00:55:58,802 - INFO - QueueForwarder queues verified
2025-05-27 00:55:58,803 - INFO - QueueForwarder task started.
2025-05-27 00:55:58,803 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:55:58,803 - INFO - Starting MessageProcessor
2025-05-27 00:55:58,803 - INFO - Starting QueueForwarder
2025-05-27 00:57:04,864 - INFO - Application shutdown event triggered.
2025-05-27 00:57:04,865 - INFO - Stopping MessageProcessor...
2025-05-27 00:57:04,865 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 00:57:04,865 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:57:04,865 - INFO - Application shutdown complete.
2025-05-27 00:57:09,717 - INFO - Application startup event triggered.
2025-05-27 00:57:09,718 - INFO - Initializing all queues...
2025-05-27 00:57:09,718 - INFO - All queues initialized on loop 215572000
2025-05-27 00:57:09,718 - INFO - Shared queues initialized.
2025-05-27 00:57:09,718 - INFO - Retrieved queue instances. Event loop ID: 215572000
2025-05-27 00:57:09,718 - INFO - SimulationManager ready state set to: True
2025-05-27 00:57:09,718 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:57:09,718 - INFO - MessageProcessor queues verified
2025-05-27 00:57:09,718 - INFO - MessageProcessor task started.
2025-05-27 00:57:09,718 - INFO - QueueForwarder queues verified
2025-05-27 00:57:09,718 - INFO - QueueForwarder task started.
2025-05-27 00:57:09,718 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:57:09,718 - INFO - Starting MessageProcessor
2025-05-27 00:57:09,718 - INFO - Starting QueueForwarder
2025-05-27 00:57:44,302 - INFO - Application shutdown event triggered.
2025-05-27 00:57:44,303 - INFO - Stopping MessageProcessor...
2025-05-27 00:57:44,303 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:57:44,303 - INFO - QueueForwarder task cancelled.
2025-05-27 00:57:44,303 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:57:44,303 - INFO - Application shutdown complete.
2025-05-27 00:57:49,820 - INFO - Application startup event triggered.
2025-05-27 00:57:49,820 - INFO - Initializing all queues...
2025-05-27 00:57:49,820 - INFO - All queues initialized on loop 1053384224
2025-05-27 00:57:49,820 - INFO - Shared queues initialized.
2025-05-27 00:57:49,820 - INFO - Retrieved queue instances. Event loop ID: 1053384224
2025-05-27 00:57:49,820 - INFO - SimulationManager ready state set to: True
2025-05-27 00:57:49,820 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 00:57:49,820 - INFO - MessageProcessor queues verified
2025-05-27 00:57:49,820 - INFO - MessageProcessor task started.
2025-05-27 00:57:49,821 - INFO - QueueForwarder queues verified
2025-05-27 00:57:49,821 - INFO - QueueForwarder task started.
2025-05-27 00:57:49,821 - INFO - Application startup complete. All core services initialized.
2025-05-27 00:57:49,821 - INFO - Starting MessageProcessor
2025-05-27 00:57:49,821 - INFO - Starting QueueForwarder
2025-05-27 00:58:26,914 - INFO - Application shutdown event triggered.
2025-05-27 00:58:26,914 - INFO - Stopping MessageProcessor...
2025-05-27 00:58:26,914 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 00:58:26,915 - INFO - QueueForwarder task cancelled.
2025-05-27 00:58:26,915 - INFO - All WebSocket connections attempted to close.
2025-05-27 00:58:26,915 - INFO - Application shutdown complete.
2025-05-27 01:00:00,478 - INFO - Application startup event triggered.
2025-05-27 01:00:00,478 - INFO - Initializing all queues...
2025-05-27 01:00:00,478 - INFO - All queues initialized on loop 158604832
2025-05-27 01:00:00,478 - INFO - Shared queues initialized.
2025-05-27 01:00:00,478 - INFO - Retrieved queue instances. Event loop ID: 158604832
2025-05-27 01:00:00,478 - INFO - SimulationManager ready state set to: True
2025-05-27 01:00:00,478 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:00:00,479 - INFO - MessageProcessor queues verified
2025-05-27 01:00:00,479 - INFO - MessageProcessor task started.
2025-05-27 01:00:00,479 - INFO - QueueForwarder queues verified
2025-05-27 01:00:00,479 - INFO - QueueForwarder task started.
2025-05-27 01:00:00,479 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:00:00,479 - INFO - Starting MessageProcessor
2025-05-27 01:00:00,479 - INFO - Starting QueueForwarder
2025-05-27 01:05:16,024 - INFO - Application shutdown event triggered.
2025-05-27 01:05:16,024 - INFO - Stopping MessageProcessor...
2025-05-27 01:05:16,024 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:05:16,024 - INFO - QueueForwarder task cancelled.
2025-05-27 01:05:16,024 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:05:16,024 - INFO - Application shutdown complete.
2025-05-27 01:05:17,830 - INFO - Application startup event triggered.
2025-05-27 01:05:17,831 - INFO - Initializing all queues...
2025-05-27 01:05:17,831 - INFO - All queues initialized on loop 574352928
2025-05-27 01:05:17,831 - INFO - Shared queues initialized.
2025-05-27 01:05:17,831 - INFO - Retrieved queue instances. Event loop ID: 574352928
2025-05-27 01:05:17,831 - INFO - SimulationManager ready state set to: True
2025-05-27 01:05:17,831 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:05:17,831 - INFO - MessageProcessor queues verified
2025-05-27 01:05:17,831 - INFO - MessageProcessor task started.
2025-05-27 01:05:17,831 - INFO - QueueForwarder queues verified
2025-05-27 01:05:17,831 - INFO - QueueForwarder task started.
2025-05-27 01:05:17,831 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:05:17,831 - INFO - Starting MessageProcessor
2025-05-27 01:05:17,831 - INFO - Starting QueueForwarder
2025-05-27 01:06:32,327 - INFO - Application shutdown event triggered.
2025-05-27 01:06:32,327 - INFO - Stopping MessageProcessor...
2025-05-27 01:06:32,327 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:06:32,328 - INFO - QueueForwarder task cancelled.
2025-05-27 01:06:32,328 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:06:32,328 - INFO - Application shutdown complete.
2025-05-27 01:06:34,228 - INFO - Application startup event triggered.
2025-05-27 01:06:34,228 - INFO - Initializing all queues...
2025-05-27 01:06:34,228 - INFO - All queues initialized on loop 699932192
2025-05-27 01:06:34,228 - INFO - Shared queues initialized.
2025-05-27 01:06:34,228 - INFO - Retrieved queue instances. Event loop ID: 699932192
2025-05-27 01:06:34,228 - INFO - SimulationManager ready state set to: True
2025-05-27 01:06:34,228 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:06:34,228 - INFO - MessageProcessor queues verified
2025-05-27 01:06:34,228 - INFO - MessageProcessor task started.
2025-05-27 01:06:34,228 - INFO - QueueForwarder queues verified
2025-05-27 01:06:34,228 - INFO - QueueForwarder task started.
2025-05-27 01:06:34,229 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:06:34,229 - INFO - Starting MessageProcessor
2025-05-27 01:06:34,229 - INFO - Starting QueueForwarder
2025-05-27 01:07:27,549 - INFO - Application shutdown event triggered.
2025-05-27 01:07:27,549 - INFO - Stopping MessageProcessor...
2025-05-27 01:07:27,549 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:07:27,549 - INFO - QueueForwarder task cancelled.
2025-05-27 01:07:27,549 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:07:27,549 - INFO - Application shutdown complete.
2025-05-27 01:07:32,812 - INFO - Application startup event triggered.
2025-05-27 01:07:32,813 - INFO - Initializing all queues...
2025-05-27 01:07:32,813 - INFO - All queues initialized on loop 750591520
2025-05-27 01:07:32,813 - INFO - Shared queues initialized.
2025-05-27 01:07:32,813 - INFO - Retrieved queue instances. Event loop ID: 750591520
2025-05-27 01:07:32,813 - INFO - SimulationManager ready state set to: True
2025-05-27 01:07:32,813 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:07:32,813 - INFO - MessageProcessor queues verified
2025-05-27 01:07:32,813 - INFO - MessageProcessor task started.
2025-05-27 01:07:32,813 - INFO - QueueForwarder queues verified
2025-05-27 01:07:32,813 - INFO - QueueForwarder task started.
2025-05-27 01:07:32,813 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:07:32,813 - INFO - Starting MessageProcessor
2025-05-27 01:07:32,813 - INFO - Starting QueueForwarder
2025-05-27 01:07:42,140 - INFO - Application shutdown event triggered.
2025-05-27 01:07:42,141 - INFO - Stopping MessageProcessor...
2025-05-27 01:07:42,141 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:07:42,141 - INFO - QueueForwarder task cancelled.
2025-05-27 01:07:42,141 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:07:42,141 - INFO - Application shutdown complete.
2025-05-27 01:08:53,307 - INFO - Application startup event triggered.
2025-05-27 01:08:53,308 - INFO - Initializing all queues...
2025-05-27 01:08:53,308 - INFO - All queues initialized on loop 895614496
2025-05-27 01:08:53,308 - INFO - Shared queues initialized.
2025-05-27 01:08:53,308 - INFO - Retrieved queue instances. Event loop ID: 895614496
2025-05-27 01:08:53,308 - INFO - SimulationManager ready state set to: True
2025-05-27 01:08:53,308 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:08:53,308 - INFO - MessageProcessor queues verified
2025-05-27 01:08:53,308 - INFO - MessageProcessor task started.
2025-05-27 01:08:53,308 - INFO - QueueForwarder queues verified
2025-05-27 01:08:53,308 - INFO - QueueForwarder task started.
2025-05-27 01:08:53,308 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:08:53,308 - INFO - Starting MessageProcessor
2025-05-27 01:08:53,308 - INFO - Starting QueueForwarder
2025-05-27 01:09:22,301 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54094)
2025-05-27 01:09:22,301 - INFO - Adding connection: 127.0.0.1:54094. Total connections: 1
2025-05-27 01:09:22,303 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=54094)
2025-05-27 01:09:22,303 - INFO - Sender task started for Address(host='127.0.0.1', port=54094)
2025-05-27 01:09:22,303 - INFO - Receiver task started for Address(host='127.0.0.1', port=54094)
2025-05-27 01:09:22,312 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=54094)
2025-05-27 01:09:22,313 - INFO - Processed 1 messages
2025-05-27 01:09:25,143 - INFO - Initiating simulation start
2025-05-27 01:09:25,144 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 01:09:25,144 - INFO - Simulation task starting
2025-05-27 01:09:25,144 - INFO - System message enqueued to backend queue
2025-05-27 01:09:28,847 - INFO - Processed 3 messages
2025-05-27 01:09:36,136 - INFO - Processed 3 messages
2025-05-27 01:09:37,985 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:09:41,454 - INFO - Processed 2 messages
2025-05-27 01:09:47,312 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=54094)
2025-05-27 01:09:47,313 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=54094): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:09:47,313 - INFO - Receiver task for Address(host='127.0.0.1', port=54094) finished.
2025-05-27 01:09:48,323 - INFO - Processed 3 messages
2025-05-27 01:09:49,179 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:09:54,922 - INFO - Processed 3 messages
2025-05-27 01:10:00,043 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:10:01,043 - INFO - Processed 3 messages
2025-05-27 01:10:07,137 - INFO - Processed 3 messages
2025-05-27 01:10:10,610 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:10:12,314 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=60520)
2025-05-27 01:10:12,315 - INFO - Adding connection: 127.0.0.1:60520. Total connections: 2
2025-05-27 01:10:12,316 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=60520)
2025-05-27 01:10:12,316 - INFO - Sender task started for Address(host='127.0.0.1', port=60520)
2025-05-27 01:10:12,316 - INFO - Receiver task started for Address(host='127.0.0.1', port=60520)
2025-05-27 01:10:12,318 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=60520)
2025-05-27 01:10:12,318 - INFO - Processed 3 messages
2025-05-27 01:10:12,319 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=54094): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:10:12,321 - INFO - Sender task for Address(host='127.0.0.1', port=54094) finished.
2025-05-27 01:10:12,322 - INFO - Initiating cleanup for connection: 127.0.0.1:54094
2025-05-27 01:10:12,322 - INFO - Starting cleanup for 127.0.0.1:54094
2025-05-27 01:10:12,322 - INFO - Closed WebSocket connection for 127.0.0.1:54094
2025-05-27 01:10:12,322 - INFO - Connection cleanup completed for 127.0.0.1:54094. Remaining connections: 1
2025-05-27 01:10:12,322 - INFO - Cleanup finished for connection: 127.0.0.1:54094. Total connections: 1
2025-05-27 01:10:12,322 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:10:12,322 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:10:18,630 - INFO - Processed 3 messages
2025-05-27 01:10:21,843 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:10:24,810 - INFO - Processed 3 messages
2025-05-27 01:10:30,368 - INFO - Processed 2 messages
2025-05-27 01:10:34,180 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:10:37,319 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=60520)
2025-05-27 01:10:37,319 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=60520): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:10:37,319 - INFO - Receiver task for Address(host='127.0.0.1', port=60520) finished.
2025-05-27 01:10:37,653 - INFO - Processed 3 messages
2025-05-27 01:10:44,203 - INFO - Processed 3 messages
2025-05-27 01:10:45,403 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:10:49,341 - INFO - Processed 2 messages
2025-05-27 01:10:55,444 - INFO - Processed 3 messages
2025-05-27 01:10:57,081 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:11:00,668 - INFO - Processed 2 messages
2025-05-27 01:11:02,320 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=47976)
2025-05-27 01:11:02,320 - INFO - Adding connection: 127.0.0.1:47976. Total connections: 2
2025-05-27 01:11:02,321 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=47976)
2025-05-27 01:11:02,321 - INFO - Sender task started for Address(host='127.0.0.1', port=47976)
2025-05-27 01:11:02,321 - INFO - Receiver task started for Address(host='127.0.0.1', port=47976)
2025-05-27 01:11:02,322 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=47976)
2025-05-27 01:11:02,323 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=60520): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:11:02,323 - INFO - Sender task for Address(host='127.0.0.1', port=60520) finished.
2025-05-27 01:11:02,324 - INFO - Initiating cleanup for connection: 127.0.0.1:60520
2025-05-27 01:11:02,324 - INFO - Starting cleanup for 127.0.0.1:60520
2025-05-27 01:11:02,324 - INFO - Closed WebSocket connection for 127.0.0.1:60520
2025-05-27 01:11:02,324 - INFO - Connection cleanup completed for 127.0.0.1:60520. Remaining connections: 1
2025-05-27 01:11:02,324 - INFO - Cleanup finished for connection: 127.0.0.1:60520. Total connections: 1
2025-05-27 01:11:02,324 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:11:02,324 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:11:05,981 - INFO - Processed 3 messages
2025-05-27 01:11:09,134 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:11:11,788 - INFO - Processed 3 messages
2025-05-27 01:11:16,809 - INFO - Processed 2 messages
2025-05-27 01:11:19,607 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:11:23,360 - INFO - Processed 3 messages
2025-05-27 01:11:27,323 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=47976)
2025-05-27 01:11:27,323 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=47976): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:11:27,323 - INFO - Receiver task for Address(host='127.0.0.1', port=47976) finished.
2025-05-27 01:11:29,431 - INFO - Processed 3 messages
2025-05-27 01:11:29,549 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:29,549 - INFO - Adding connection: 127.0.0.1:44108. Total connections: 2
2025-05-27 01:11:29,549 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:29,550 - INFO - Sender task started for Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:29,550 - INFO - Receiver task started for Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:29,558 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:29,558 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=47976): received 1001 (going away); then sent 1001 (going away)
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-27 01:11:29,559 - INFO - Sender task for Address(host='127.0.0.1', port=47976) finished.
2025-05-27 01:11:29,560 - INFO - Initiating cleanup for connection: 127.0.0.1:47976
2025-05-27 01:11:29,560 - INFO - Starting cleanup for 127.0.0.1:47976
2025-05-27 01:11:29,560 - INFO - Closed WebSocket connection for 127.0.0.1:47976
2025-05-27 01:11:29,560 - INFO - Connection cleanup completed for 127.0.0.1:47976. Remaining connections: 1
2025-05-27 01:11:29,560 - INFO - Cleanup finished for connection: 127.0.0.1:47976. Total connections: 1
2025-05-27 01:11:29,560 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:11:29,560 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:11:30,499 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:11:35,766 - INFO - Processed 4 messages
2025-05-27 01:11:41,518 - INFO - Processed 2 messages
2025-05-27 01:11:42,084 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:11:43,345 - INFO - Initiating simulation start
2025-05-27 01:11:43,345 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 01:11:44,411 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:48,502 - INFO - Processed 4 messages
2025-05-27 01:11:50,623 - INFO - Initiating simulation start
2025-05-27 01:11:50,623 - INFO - Simulation started successfully: {'status': 'already running'}
2025-05-27 01:11:54,997 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:11:55,319 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=44108)
2025-05-27 01:11:55,319 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=44108): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:11:55,320 - INFO - Receiver task for Address(host='127.0.0.1', port=44108) finished.
2025-05-27 01:11:55,997 - INFO - Processed 3 messages
2025-05-27 01:12:00,821 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=44108): received 1001 (going away); then sent 1001 (going away)
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-27 01:12:00,821 - INFO - Sender task for Address(host='127.0.0.1', port=44108) finished.
2025-05-27 01:12:00,821 - INFO - Initiating cleanup for connection: 127.0.0.1:44108
2025-05-27 01:12:00,821 - INFO - Starting cleanup for 127.0.0.1:44108
2025-05-27 01:12:00,822 - INFO - Closed WebSocket connection for 127.0.0.1:44108
2025-05-27 01:12:00,822 - INFO - Connection cleanup completed for 127.0.0.1:44108. Remaining connections: 0
2025-05-27 01:12:00,822 - INFO - Cleanup finished for connection: 127.0.0.1:44108. Total connections: 0
2025-05-27 01:12:00,822 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:12:00,822 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:12:03,036 - INFO - Application shutdown event triggered.
2025-05-27 01:12:03,036 - INFO - SimulationManager stopped.
2025-05-27 01:12:03,036 - INFO - Stopping MessageProcessor...
2025-05-27 01:12:03,038 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:12:03,038 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:12:03,038 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:12:03,038 - INFO - Application shutdown complete.
2025-05-27 01:12:33,181 - INFO - Application startup event triggered.
2025-05-27 01:12:33,181 - INFO - Initializing all queues...
2025-05-27 01:12:33,181 - INFO - All queues initialized on loop 100580896
2025-05-27 01:12:33,181 - INFO - Shared queues initialized.
2025-05-27 01:12:33,181 - INFO - Retrieved queue instances. Event loop ID: 100580896
2025-05-27 01:12:33,181 - INFO - SimulationManager ready state set to: True
2025-05-27 01:12:33,181 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:12:33,181 - INFO - MessageProcessor queues verified
2025-05-27 01:12:33,181 - INFO - MessageProcessor task started.
2025-05-27 01:12:33,181 - INFO - QueueForwarder queues verified
2025-05-27 01:12:33,181 - INFO - QueueForwarder task started.
2025-05-27 01:12:33,181 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:12:33,181 - INFO - Starting MessageProcessor
2025-05-27 01:12:33,181 - INFO - Starting QueueForwarder
2025-05-27 01:12:34,903 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:34,903 - INFO - Adding connection: 127.0.0.1:44334. Total connections: 1
2025-05-27 01:12:34,904 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:34,904 - INFO - Sender task started for Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:34,904 - INFO - Receiver task started for Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:34,906 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:35,965 - INFO - Initiating simulation start
2025-05-27 01:12:35,965 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 01:12:35,965 - INFO - Simulation task starting
2025-05-27 01:12:35,966 - INFO - System message enqueued to backend queue
2025-05-27 01:12:38,014 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:38,550 - INFO - Processed 5 messages
2025-05-27 01:12:39,212 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:44,933 - INFO - Processed 4 messages
2025-05-27 01:12:45,685 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:12:50,358 - INFO - Processed 3 messages
2025-05-27 01:12:51,135 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=44334): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 01:12:51,136 - INFO - Receiver task for Address(host='127.0.0.1', port=44334) finished.
2025-05-27 01:12:51,236 - INFO - Application shutdown event triggered.
2025-05-27 01:12:51,237 - INFO - SimulationManager stopped.
2025-05-27 01:12:51,237 - INFO - Stopping MessageProcessor...
2025-05-27 01:12:51,237 - INFO - Sender task for Address(host='127.0.0.1', port=44334) was cancelled.
2025-05-27 01:12:51,240 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:12:51,240 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:12:51,240 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:12:51,240 - INFO - Application shutdown complete.
2025-05-27 01:12:51,241 - INFO - Initiating cleanup for connection: 127.0.0.1:44334
2025-05-27 01:12:51,241 - INFO - Starting cleanup for 127.0.0.1:44334
2025-05-27 01:12:51,241 - INFO - Connection cleanup completed for 127.0.0.1:44334. Remaining connections: 0
2025-05-27 01:12:51,241 - INFO - Cleanup finished for connection: 127.0.0.1:44334. Total connections: 0
2025-05-27 01:12:51,241 - INFO - Starting cleanup for Address(host='127.0.0.1', port=44334)
2025-05-27 01:12:51,241 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=44334). Remaining connections: 0
2025-05-27 01:14:32,629 - INFO - Application startup event triggered.
2025-05-27 01:14:32,629 - INFO - Initializing all queues...
2025-05-27 01:14:32,629 - INFO - All queues initialized on loop 57921056
2025-05-27 01:14:32,629 - INFO - Shared queues initialized.
2025-05-27 01:14:32,629 - INFO - Retrieved queue instances. Event loop ID: 57921056
2025-05-27 01:14:32,629 - INFO - SimulationManager ready state set to: True
2025-05-27 01:14:32,629 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:14:32,629 - INFO - MessageProcessor queues verified
2025-05-27 01:14:32,630 - INFO - MessageProcessor task started.
2025-05-27 01:14:32,630 - INFO - QueueForwarder queues verified
2025-05-27 01:14:32,630 - INFO - QueueForwarder task started.
2025-05-27 01:14:32,630 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:14:32,630 - INFO - Starting MessageProcessor
2025-05-27 01:14:32,630 - INFO - Starting QueueForwarder
2025-05-27 01:14:34,306 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:34,306 - INFO - Adding connection: 127.0.0.1:45234. Total connections: 1
2025-05-27 01:14:34,307 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:34,307 - INFO - Sender task started for Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:34,307 - INFO - Receiver task started for Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:34,310 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:35,733 - INFO - Initiating simulation start
2025-05-27 01:14:35,733 - INFO - Simulation started successfully: {'status': 'started', 'message': 'Simulation messages will begin flowing through queues'}
2025-05-27 01:14:35,733 - INFO - Simulation task starting
2025-05-27 01:14:35,734 - INFO - System message enqueued to backend queue
2025-05-27 01:14:37,721 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:37,721 - INFO - Processed 4 messages
2025-05-27 01:14:38,199 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:43,948 - INFO - Processed 4 messages
2025-05-27 01:14:46,263 - WARNING - Messages not being forwarded to frontend
2025-05-27 01:14:48,976 - INFO - Processed 3 messages
2025-05-27 01:14:49,484 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=45234): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 01:14:49,485 - INFO - Receiver task for Address(host='127.0.0.1', port=45234) finished.
2025-05-27 01:14:49,584 - INFO - Application shutdown event triggered.
2025-05-27 01:14:49,585 - INFO - SimulationManager stopped.
2025-05-27 01:14:49,585 - INFO - Stopping MessageProcessor...
2025-05-27 01:14:49,585 - INFO - Sender task for Address(host='127.0.0.1', port=45234) was cancelled.
2025-05-27 01:14:49,588 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:14:49,588 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:14:49,588 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:14:49,588 - INFO - Application shutdown complete.
2025-05-27 01:14:49,589 - INFO - Initiating cleanup for connection: 127.0.0.1:45234
2025-05-27 01:14:49,589 - INFO - Starting cleanup for 127.0.0.1:45234
2025-05-27 01:14:49,589 - INFO - Connection cleanup completed for 127.0.0.1:45234. Remaining connections: 0
2025-05-27 01:14:49,589 - INFO - Cleanup finished for connection: 127.0.0.1:45234. Total connections: 0
2025-05-27 01:14:49,589 - INFO - Starting cleanup for Address(host='127.0.0.1', port=45234)
2025-05-27 01:14:49,589 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=45234). Remaining connections: 0
2025-05-27 01:17:44,017 - INFO - Application startup event triggered.
2025-05-27 01:17:44,017 - INFO - Initializing all queues...
2025-05-27 01:17:44,017 - INFO - All queues initialized on loop 1086381600
2025-05-27 01:17:44,017 - INFO - Shared queues initialized.
2025-05-27 01:17:44,017 - INFO - Retrieved queue instances. Event loop ID: 1086381600
2025-05-27 01:17:44,017 - INFO - SimulationManager ready state set to: True
2025-05-27 01:17:44,017 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:17:44,017 - INFO - MessageProcessor queues verified
2025-05-27 01:17:44,017 - INFO - MessageProcessor task started.
2025-05-27 01:17:44,017 - INFO - QueueForwarder queues verified
2025-05-27 01:17:44,017 - INFO - QueueForwarder task started.
2025-05-27 01:17:44,017 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:17:44,017 - INFO - Starting MessageProcessor
2025-05-27 01:17:44,017 - INFO - Starting QueueForwarder
2025-05-27 01:17:45,906 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:45,906 - INFO - Adding connection: 127.0.0.1:59654. Total connections: 1
2025-05-27 01:17:45,907 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:45,907 - INFO - Sender task started for Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:45,907 - INFO - Receiver task started for Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:45,910 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:48,744 - INFO - Enqueuing valid message of type 'command' from Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:53,216 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:53,216 - INFO - Processed 3 messages
2025-05-27 01:17:54,440 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=59654)
2025-05-27 01:17:55,819 - INFO - Enqueuing valid message of type 'command' from Address(host='127.0.0.1', port=59654)
2025-05-27 01:18:05,322 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54226)
2025-05-27 01:18:05,322 - INFO - Adding connection: 127.0.0.1:54226. Total connections: 2
2025-05-27 01:18:05,323 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=54226)
2025-05-27 01:18:05,323 - INFO - Sender task started for Address(host='127.0.0.1', port=54226)
2025-05-27 01:18:05,323 - INFO - Receiver task started for Address(host='127.0.0.1', port=54226)
2025-05-27 01:18:05,325 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=54226)
2025-05-27 01:18:05,326 - INFO - Processed 3 messages
2025-05-27 01:18:10,910 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=59654)
2025-05-27 01:18:10,910 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=59654): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:18:10,912 - INFO - Receiver task for Address(host='127.0.0.1', port=59654) finished.
2025-05-27 01:18:31,320 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=54226)
2025-05-27 01:18:31,320 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=54226): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:18:31,321 - INFO - Receiver task for Address(host='127.0.0.1', port=54226) finished.
2025-05-27 01:18:36,323 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=54078)
2025-05-27 01:18:36,323 - INFO - Adding connection: 127.0.0.1:54078. Total connections: 3
2025-05-27 01:18:36,323 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=54078)
2025-05-27 01:18:36,324 - INFO - Sender task started for Address(host='127.0.0.1', port=54078)
2025-05-27 01:18:36,324 - INFO - Receiver task started for Address(host='127.0.0.1', port=54078)
2025-05-27 01:18:36,325 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=54078)
2025-05-27 01:18:36,326 - INFO - Processed 1 messages
2025-05-27 01:18:36,326 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=59654): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:18:36,328 - INFO - Sender task for Address(host='127.0.0.1', port=59654) finished.
2025-05-27 01:18:36,328 - INFO - Initiating cleanup for connection: 127.0.0.1:59654
2025-05-27 01:18:36,329 - INFO - Starting cleanup for 127.0.0.1:59654
2025-05-27 01:18:36,329 - INFO - Closed WebSocket connection for 127.0.0.1:59654
2025-05-27 01:18:36,329 - INFO - Connection cleanup completed for 127.0.0.1:59654. Remaining connections: 2
2025-05-27 01:18:36,329 - INFO - Cleanup finished for connection: 127.0.0.1:59654. Total connections: 2
2025-05-27 01:18:36,329 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:18:36,329 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:18:56,321 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=39546)
2025-05-27 01:18:56,321 - INFO - Adding connection: 127.0.0.1:39546. Total connections: 3
2025-05-27 01:18:56,321 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=39546)
2025-05-27 01:18:56,322 - INFO - Sender task started for Address(host='127.0.0.1', port=39546)
2025-05-27 01:18:56,322 - INFO - Receiver task started for Address(host='127.0.0.1', port=39546)
2025-05-27 01:18:56,323 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=39546)
2025-05-27 01:18:56,324 - INFO - Processed 1 messages
2025-05-27 01:19:02,320 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=54078)
2025-05-27 01:19:02,320 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=54078): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:19:02,321 - INFO - Receiver task for Address(host='127.0.0.1', port=54078) finished.
2025-05-27 01:19:22,320 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=39546)
2025-05-27 01:19:22,320 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=39546): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:19:22,321 - INFO - Receiver task for Address(host='127.0.0.1', port=39546) finished.
2025-05-27 01:19:27,322 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=53714)
2025-05-27 01:19:27,322 - INFO - Adding connection: 127.0.0.1:53714. Total connections: 4
2025-05-27 01:19:27,322 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=53714)
2025-05-27 01:19:27,323 - INFO - Sender task started for Address(host='127.0.0.1', port=53714)
2025-05-27 01:19:27,323 - INFO - Receiver task started for Address(host='127.0.0.1', port=53714)
2025-05-27 01:19:27,324 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=53714)
2025-05-27 01:19:27,324 - INFO - Processed 1 messages
2025-05-27 01:19:52,325 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=53714)
2025-05-27 01:19:52,325 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=53714): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:19:52,326 - INFO - Receiver task for Address(host='127.0.0.1', port=53714) finished.
2025-05-27 01:20:17,326 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=39210)
2025-05-27 01:20:17,327 - INFO - Adding connection: 127.0.0.1:39210. Total connections: 5
2025-05-27 01:20:17,328 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=39210)
2025-05-27 01:20:17,328 - INFO - Sender task started for Address(host='127.0.0.1', port=39210)
2025-05-27 01:20:17,328 - INFO - Receiver task started for Address(host='127.0.0.1', port=39210)
2025-05-27 01:20:17,329 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=39210)
2025-05-27 01:20:17,330 - INFO - Processed 1 messages
2025-05-27 01:20:17,330 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=54226): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:20:17,331 - INFO - Sender task for Address(host='127.0.0.1', port=54226) finished.
2025-05-27 01:20:17,331 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=53714): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:20:17,332 - INFO - Sender task for Address(host='127.0.0.1', port=53714) finished.
2025-05-27 01:20:17,332 - INFO - Initiating cleanup for connection: 127.0.0.1:54226
2025-05-27 01:20:17,332 - INFO - Starting cleanup for 127.0.0.1:54226
2025-05-27 01:20:17,332 - INFO - Closed WebSocket connection for 127.0.0.1:54226
2025-05-27 01:20:17,332 - INFO - Connection cleanup completed for 127.0.0.1:54226. Remaining connections: 4
2025-05-27 01:20:17,332 - INFO - Cleanup finished for connection: 127.0.0.1:54226. Total connections: 4
2025-05-27 01:20:17,332 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:20:17,332 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:20:17,333 - INFO - Initiating cleanup for connection: 127.0.0.1:53714
2025-05-27 01:20:17,333 - INFO - Starting cleanup for 127.0.0.1:53714
2025-05-27 01:20:17,333 - INFO - Closed WebSocket connection for 127.0.0.1:53714
2025-05-27 01:20:17,333 - INFO - Connection cleanup completed for 127.0.0.1:53714. Remaining connections: 3
2025-05-27 01:20:17,333 - INFO - Cleanup finished for connection: 127.0.0.1:53714. Total connections: 3
2025-05-27 01:20:17,333 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:20:17,333 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:20:24,224 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=39210): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 01:20:24,224 - INFO - Receiver task for Address(host='127.0.0.1', port=39210) finished.
2025-05-27 01:20:24,424 - INFO - Application shutdown event triggered.
2025-05-27 01:20:24,424 - INFO - Stopping MessageProcessor...
2025-05-27 01:20:24,425 - INFO - Sender task for Address(host='127.0.0.1', port=39210) was cancelled.
2025-05-27 01:20:24,425 - INFO - Sender task for Address(host='127.0.0.1', port=39546) was cancelled.
2025-05-27 01:20:24,425 - INFO - Sender task for Address(host='127.0.0.1', port=54078) was cancelled.
2025-05-27 01:20:24,425 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:20:24,425 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:20:24,425 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:20:24,425 - INFO - Application shutdown complete.
2025-05-27 01:20:24,426 - INFO - Initiating cleanup for connection: 127.0.0.1:39210
2025-05-27 01:20:24,426 - INFO - Starting cleanup for 127.0.0.1:39210
2025-05-27 01:20:24,426 - INFO - Connection cleanup completed for 127.0.0.1:39210. Remaining connections: 2
2025-05-27 01:20:24,427 - INFO - Cleanup finished for connection: 127.0.0.1:39210. Total connections: 2
2025-05-27 01:20:24,427 - INFO - Starting cleanup for Address(host='127.0.0.1', port=39210)
2025-05-27 01:20:24,427 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=39210). Remaining connections: 2
2025-05-27 01:20:24,430 - INFO - Initiating cleanup for connection: 127.0.0.1:39546
2025-05-27 01:20:24,430 - INFO - Starting cleanup for 127.0.0.1:39546
2025-05-27 01:20:24,430 - INFO - Closed WebSocket connection for 127.0.0.1:39546
2025-05-27 01:20:24,430 - INFO - Connection cleanup completed for 127.0.0.1:39546. Remaining connections: 1
2025-05-27 01:20:24,430 - INFO - Cleanup finished for connection: 127.0.0.1:39546. Total connections: 1
2025-05-27 01:20:24,430 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 164, in websocket_endpoint
    await ws_manager.handle_connection(websocket)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 50, in handle_connection
    await asyncio.gather(sender_task, receiver_task) # <--- CRITICAL CHANGE HERE
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:20:24,431 - INFO - Initiating cleanup for connection: 127.0.0.1:54078
2025-05-27 01:20:24,431 - INFO - Starting cleanup for 127.0.0.1:54078
2025-05-27 01:20:24,431 - INFO - Closed WebSocket connection for 127.0.0.1:54078
2025-05-27 01:20:24,431 - INFO - Connection cleanup completed for 127.0.0.1:54078. Remaining connections: 0
2025-05-27 01:20:24,432 - INFO - Cleanup finished for connection: 127.0.0.1:54078. Total connections: 0
2025-05-27 01:20:24,432 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 164, in websocket_endpoint
    await ws_manager.handle_connection(websocket)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 50, in handle_connection
    await asyncio.gather(sender_task, receiver_task) # <--- CRITICAL CHANGE HERE
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:38:44,594 - INFO - Application startup event triggered.
2025-05-27 01:38:44,594 - INFO - Initializing all queues...
2025-05-27 01:38:44,594 - INFO - All queues initialized on loop 380583456
2025-05-27 01:38:44,594 - INFO - Shared queues initialized.
2025-05-27 01:38:44,594 - INFO - Retrieved queue instances. Event loop ID: 380583456
2025-05-27 01:38:44,595 - INFO - SimulationManager ready state set to: True
2025-05-27 01:38:44,595 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:38:44,595 - INFO - MessageProcessor queues verified
2025-05-27 01:38:44,595 - INFO - MessageProcessor task started.
2025-05-27 01:38:44,595 - INFO - QueueForwarder queues verified
2025-05-27 01:38:44,595 - INFO - QueueForwarder task started.
2025-05-27 01:38:44,596 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:38:44,596 - INFO - Starting MessageProcessor
2025-05-27 01:38:44,596 - INFO - Starting QueueForwarder
2025-05-27 01:39:01,257 - INFO - Application shutdown event triggered.
2025-05-27 01:39:01,257 - INFO - Stopping MessageProcessor...
2025-05-27 01:39:01,257 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:39:01,257 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:39:01,257 - INFO - Application shutdown complete.
2025-05-27 01:40:09,656 - INFO - Application startup event triggered.
2025-05-27 01:40:09,657 - INFO - Initializing all queues...
2025-05-27 01:40:09,657 - INFO - All queues initialized on loop 862174752
2025-05-27 01:40:09,657 - INFO - Shared queues initialized.
2025-05-27 01:40:09,657 - INFO - Retrieved queue instances. Event loop ID: 862174752
2025-05-27 01:40:09,657 - INFO - SimulationManager ready state set to: True
2025-05-27 01:40:09,657 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:40:09,657 - INFO - MessageProcessor queues verified
2025-05-27 01:40:09,657 - INFO - MessageProcessor task started.
2025-05-27 01:40:09,657 - INFO - QueueForwarder queues verified
2025-05-27 01:40:09,657 - INFO - QueueForwarder task started.
2025-05-27 01:40:09,658 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:40:09,658 - INFO - Starting MessageProcessor
2025-05-27 01:40:09,658 - INFO - Starting QueueForwarder
2025-05-27 01:40:11,132 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=53010)
2025-05-27 01:40:11,133 - INFO - Adding connection: 127.0.0.1:53010. Total connections: 1
2025-05-27 01:40:11,134 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=53010)
2025-05-27 01:40:11,134 - INFO - Sender task started for Address(host='127.0.0.1', port=53010)
2025-05-27 01:40:11,135 - INFO - Receiver task started for Address(host='127.0.0.1', port=53010)
2025-05-27 01:40:11,139 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=53010)
2025-05-27 01:40:11,323 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=53024)
2025-05-27 01:40:11,323 - INFO - Adding connection: 127.0.0.1:53024. Total connections: 2
2025-05-27 01:40:11,324 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=53024)
2025-05-27 01:40:11,325 - INFO - Sender task started for Address(host='127.0.0.1', port=53024)
2025-05-27 01:40:11,325 - INFO - Receiver task started for Address(host='127.0.0.1', port=53024)
2025-05-27 01:40:11,328 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=53024)
2025-05-27 01:40:27,051 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=53010): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:40:27,053 - INFO - Receiver task for Address(host='127.0.0.1', port=53010) finished.
2025-05-27 01:40:28,832 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=53024): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:40:28,833 - INFO - Receiver task for Address(host='127.0.0.1', port=53024) finished.
2025-05-27 01:41:05,850 - INFO - Application shutdown event triggered.
2025-05-27 01:41:05,850 - INFO - Stopping MessageProcessor...
2025-05-27 01:41:05,851 - INFO - Sender task for Address(host='127.0.0.1', port=53010) was cancelled.
2025-05-27 01:41:05,851 - INFO - Sender task for Address(host='127.0.0.1', port=53024) was cancelled.
2025-05-27 01:41:05,851 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:41:05,851 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:41:05,851 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:41:05,851 - INFO - Application shutdown complete.
2025-05-27 01:41:05,852 - INFO - Initiating cleanup for connection: 127.0.0.1:53010
2025-05-27 01:41:05,853 - INFO - Starting cleanup for 127.0.0.1:53010
2025-05-27 01:41:05,853 - INFO - Connection cleanup completed for 127.0.0.1:53010. Remaining connections: 1
2025-05-27 01:41:05,853 - INFO - Cleanup finished for connection: 127.0.0.1:53010. Total connections: 1
2025-05-27 01:41:05,853 - INFO - Starting cleanup for Address(host='127.0.0.1', port=53010)
2025-05-27 01:41:05,853 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=53010). Remaining connections: 1
2025-05-27 01:41:05,855 - INFO - Initiating cleanup for connection: 127.0.0.1:53024
2025-05-27 01:41:05,855 - INFO - Starting cleanup for 127.0.0.1:53024
2025-05-27 01:41:05,855 - INFO - Connection cleanup completed for 127.0.0.1:53024. Remaining connections: 0
2025-05-27 01:41:05,855 - INFO - Cleanup finished for connection: 127.0.0.1:53024. Total connections: 0
2025-05-27 01:41:05,855 - INFO - Starting cleanup for Address(host='127.0.0.1', port=53024)
2025-05-27 01:41:05,855 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=53024). Remaining connections: 0
2025-05-27 01:41:51,820 - INFO - Application startup event triggered.
2025-05-27 01:41:51,820 - INFO - Initializing all queues...
2025-05-27 01:41:51,820 - INFO - All queues initialized on loop 205008416
2025-05-27 01:41:51,820 - INFO - Shared queues initialized.
2025-05-27 01:41:51,821 - INFO - Retrieved queue instances. Event loop ID: 205008416
2025-05-27 01:41:51,821 - INFO - SimulationManager ready state set to: True
2025-05-27 01:41:51,821 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:41:51,821 - INFO - MessageProcessor queues verified
2025-05-27 01:41:51,821 - INFO - MessageProcessor task started.
2025-05-27 01:41:51,821 - INFO - QueueForwarder queues verified
2025-05-27 01:41:51,821 - INFO - QueueForwarder task started.
2025-05-27 01:41:51,822 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:41:51,822 - INFO - Starting MessageProcessor
2025-05-27 01:41:51,822 - INFO - Starting QueueForwarder
2025-05-27 01:41:53,196 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35650)
2025-05-27 01:41:53,196 - INFO - Adding connection: 127.0.0.1:35650. Total connections: 1
2025-05-27 01:41:53,197 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=35650)
2025-05-27 01:41:53,197 - INFO - Sender task started for Address(host='127.0.0.1', port=35650)
2025-05-27 01:41:53,197 - INFO - Receiver task started for Address(host='127.0.0.1', port=35650)
2025-05-27 01:41:53,203 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=35650)
2025-05-27 01:41:54,713 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=35650): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:41:54,714 - INFO - Receiver task for Address(host='127.0.0.1', port=35650) finished.
2025-05-27 01:41:54,765 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35654)
2025-05-27 01:41:54,765 - INFO - Adding connection: 127.0.0.1:35654. Total connections: 2
2025-05-27 01:41:54,766 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=35654)
2025-05-27 01:41:54,766 - INFO - Sender task started for Address(host='127.0.0.1', port=35654)
2025-05-27 01:41:54,766 - INFO - Receiver task started for Address(host='127.0.0.1', port=35654)
2025-05-27 01:41:54,769 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=35654)
2025-05-27 01:41:54,769 - WARNING - Failed to send message to Address(host='127.0.0.1', port=35650), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 01:41:54,770 - INFO - Sender task for Address(host='127.0.0.1', port=35650) finished.
2025-05-27 01:41:54,770 - INFO - Initiating cleanup for connection: 127.0.0.1:35650
2025-05-27 01:41:54,770 - INFO - Starting cleanup for 127.0.0.1:35650
2025-05-27 01:41:54,770 - INFO - Connection cleanup completed for 127.0.0.1:35650. Remaining connections: 1
2025-05-27 01:41:54,771 - INFO - Cleanup finished for connection: 127.0.0.1:35650. Total connections: 1
2025-05-27 01:41:54,771 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 01:41:54,771 - INFO - Starting cleanup for Address(host='127.0.0.1', port=35650)
2025-05-27 01:41:54,771 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=35650). Remaining connections: 1
2025-05-27 01:41:58,299 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=35654): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:41:58,300 - INFO - Receiver task for Address(host='127.0.0.1', port=35654) finished.
2025-05-27 01:41:58,447 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=35664)
2025-05-27 01:41:58,447 - INFO - Adding connection: 127.0.0.1:35664. Total connections: 2
2025-05-27 01:41:58,448 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=35664)
2025-05-27 01:41:58,448 - INFO - Sender task started for Address(host='127.0.0.1', port=35664)
2025-05-27 01:41:58,448 - INFO - Receiver task started for Address(host='127.0.0.1', port=35664)
2025-05-27 01:41:58,452 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=35664)
2025-05-27 01:41:58,453 - INFO - Processed 3 messages
2025-05-27 01:41:58,453 - WARNING - Failed to send message to Address(host='127.0.0.1', port=35654), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 01:41:58,454 - INFO - Sender task for Address(host='127.0.0.1', port=35654) finished.
2025-05-27 01:41:58,454 - INFO - Initiating cleanup for connection: 127.0.0.1:35654
2025-05-27 01:41:58,454 - INFO - Starting cleanup for 127.0.0.1:35654
2025-05-27 01:41:58,454 - INFO - Connection cleanup completed for 127.0.0.1:35654. Remaining connections: 1
2025-05-27 01:41:58,454 - INFO - Cleanup finished for connection: 127.0.0.1:35654. Total connections: 1
2025-05-27 01:41:58,455 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 01:41:58,455 - INFO - Starting cleanup for Address(host='127.0.0.1', port=35654)
2025-05-27 01:41:58,455 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=35654). Remaining connections: 1
2025-05-27 01:42:23,453 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=35664)
2025-05-27 01:42:23,453 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=35664): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:42:23,454 - INFO - Receiver task for Address(host='127.0.0.1', port=35664) finished.
2025-05-27 01:42:48,455 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=40932)
2025-05-27 01:42:48,455 - INFO - Adding connection: 127.0.0.1:40932. Total connections: 2
2025-05-27 01:42:48,456 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=40932)
2025-05-27 01:42:48,456 - INFO - Sender task started for Address(host='127.0.0.1', port=40932)
2025-05-27 01:42:48,456 - INFO - Receiver task started for Address(host='127.0.0.1', port=40932)
2025-05-27 01:42:48,459 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=40932)
2025-05-27 01:42:48,459 - INFO - Processed 1 messages
2025-05-27 01:42:48,460 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=35664): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:42:48,461 - INFO - Sender task for Address(host='127.0.0.1', port=35664) finished.
2025-05-27 01:42:48,462 - INFO - Initiating cleanup for connection: 127.0.0.1:35664
2025-05-27 01:42:48,462 - INFO - Starting cleanup for 127.0.0.1:35664
2025-05-27 01:42:48,462 - INFO - Closed WebSocket connection for 127.0.0.1:35664
2025-05-27 01:42:48,462 - INFO - Connection cleanup completed for 127.0.0.1:35664. Remaining connections: 1
2025-05-27 01:42:48,462 - INFO - Cleanup finished for connection: 127.0.0.1:35664. Total connections: 1
2025-05-27 01:42:48,462 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:42:48,462 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:43:13,459 - INFO - Enqueuing valid message of type 'ping' from Address(host='127.0.0.1', port=40932)
2025-05-27 01:43:13,460 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=40932): Invalid message format for queue from_frontend
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 173, in _receiver
    await get_from_frontend_queue().enqueue(queue_msg)
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/queues/shared_queue.py", line 33, in enqueue
    raise ValueError(f"Invalid message format for queue {self._name}")
ValueError: Invalid message format for queue from_frontend
2025-05-27 01:43:13,460 - INFO - Receiver task for Address(host='127.0.0.1', port=40932) finished.
2025-05-27 01:43:38,463 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=39920)
2025-05-27 01:43:38,463 - INFO - Adding connection: 127.0.0.1:39920. Total connections: 2
2025-05-27 01:43:38,464 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=39920)
2025-05-27 01:43:38,464 - INFO - Sender task started for Address(host='127.0.0.1', port=39920)
2025-05-27 01:43:38,464 - INFO - Receiver task started for Address(host='127.0.0.1', port=39920)
2025-05-27 01:43:38,467 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=39920)
2025-05-27 01:43:38,468 - INFO - Processed 1 messages
2025-05-27 01:43:38,468 - ERROR - Unexpected error during WebSocket send to Address(host='127.0.0.1', port=40932): received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 108, in _sender
    await websocket.send_text(ws_msg.json())
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 85, in send
    await self._send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in sender
    await send(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 327, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 635, in send
    await self.ensure_open()
  File "/home/Leo/.local/lib/python3.12/site-packages/websockets/legacy/protocol.py", line 935, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1005 (no status code [internal]); then sent 1005 (no status code [internal])
2025-05-27 01:43:38,469 - INFO - Sender task for Address(host='127.0.0.1', port=40932) finished.
2025-05-27 01:43:38,470 - INFO - Initiating cleanup for connection: 127.0.0.1:40932
2025-05-27 01:43:38,470 - INFO - Starting cleanup for 127.0.0.1:40932
2025-05-27 01:43:38,470 - INFO - Closed WebSocket connection for 127.0.0.1:40932
2025-05-27 01:43:38,470 - INFO - Connection cleanup completed for 127.0.0.1:40932. Remaining connections: 1
2025-05-27 01:43:38,471 - INFO - Cleanup finished for connection: 127.0.0.1:40932. Total connections: 1
2025-05-27 01:43:38,471 - ERROR - WebSocket receive error: WebSocket is not connected. Need to call "accept" first.
2025-05-27 01:43:38,471 - ERROR - Error during WebSocket cleanup: Cannot call "send" once a close message has been sent.
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/api/endpoints.py", line 245, in websocket_endpoint
    await websocket.close(code=1000)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 180, in close
    await self.send(
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 87, in send
    raise RuntimeError('Cannot call "send" once a close message has been sent.')
RuntimeError: Cannot call "send" once a close message has been sent.
2025-05-27 01:43:43,494 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=39920): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:43:43,494 - INFO - Receiver task for Address(host='127.0.0.1', port=39920) finished.
2025-05-27 01:46:26,716 - INFO - Application shutdown event triggered.
2025-05-27 01:46:26,716 - INFO - Stopping MessageProcessor...
2025-05-27 01:46:26,717 - INFO - Sender task for Address(host='127.0.0.1', port=39920) was cancelled.
2025-05-27 01:46:26,717 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:46:26,717 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:46:26,717 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:46:26,717 - INFO - Application shutdown complete.
2025-05-27 01:46:26,718 - INFO - Initiating cleanup for connection: 127.0.0.1:39920
2025-05-27 01:46:26,718 - INFO - Starting cleanup for 127.0.0.1:39920
2025-05-27 01:46:26,718 - INFO - Connection cleanup completed for 127.0.0.1:39920. Remaining connections: 0
2025-05-27 01:46:26,718 - INFO - Cleanup finished for connection: 127.0.0.1:39920. Total connections: 0
2025-05-27 01:46:26,718 - INFO - Starting cleanup for Address(host='127.0.0.1', port=39920)
2025-05-27 01:46:26,719 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=39920). Remaining connections: 0
2025-05-27 01:46:31,255 - INFO - Application startup event triggered.
2025-05-27 01:46:31,255 - INFO - Initializing all queues...
2025-05-27 01:46:31,255 - INFO - All queues initialized on loop 168328736
2025-05-27 01:46:31,255 - INFO - Shared queues initialized.
2025-05-27 01:46:31,255 - INFO - Retrieved queue instances. Event loop ID: 168328736
2025-05-27 01:46:31,255 - INFO - SimulationManager ready state set to: True
2025-05-27 01:46:31,255 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:46:31,255 - INFO - MessageProcessor queues verified
2025-05-27 01:46:31,255 - INFO - MessageProcessor task started.
2025-05-27 01:46:31,256 - INFO - QueueForwarder queues verified
2025-05-27 01:46:31,256 - INFO - QueueForwarder task started.
2025-05-27 01:46:31,256 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:46:31,256 - INFO - Starting MessageProcessor
2025-05-27 01:46:31,256 - INFO - Starting QueueForwarder
2025-05-27 01:47:54,228 - INFO - Application shutdown event triggered.
2025-05-27 01:47:54,228 - INFO - Stopping MessageProcessor...
2025-05-27 01:47:54,229 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:47:54,229 - INFO - QueueForwarder task cancelled.
2025-05-27 01:47:54,229 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:47:54,229 - INFO - Application shutdown complete.
2025-05-27 01:47:57,480 - INFO - Application startup event triggered.
2025-05-27 01:47:57,480 - INFO - Initializing all queues...
2025-05-27 01:47:57,480 - INFO - All queues initialized on loop 438795808
2025-05-27 01:47:57,480 - INFO - Shared queues initialized.
2025-05-27 01:47:57,481 - INFO - Retrieved queue instances. Event loop ID: 438795808
2025-05-27 01:47:57,481 - INFO - SimulationManager ready state set to: True
2025-05-27 01:47:57,481 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:47:57,481 - INFO - MessageProcessor queues verified
2025-05-27 01:47:57,481 - INFO - MessageProcessor task started.
2025-05-27 01:47:57,481 - INFO - QueueForwarder queues verified
2025-05-27 01:47:57,481 - INFO - QueueForwarder task started.
2025-05-27 01:47:57,481 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:47:57,481 - INFO - Starting MessageProcessor
2025-05-27 01:47:57,482 - INFO - Starting QueueForwarder
2025-05-27 01:47:58,879 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=49440)
2025-05-27 01:47:58,880 - INFO - Adding connection: 127.0.0.1:49440. Total connections: 1
2025-05-27 01:47:58,881 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=49440)
2025-05-27 01:47:58,882 - INFO - Sender task started for Address(host='127.0.0.1', port=49440)
2025-05-27 01:47:58,882 - INFO - Receiver task started for Address(host='127.0.0.1', port=49440)
2025-05-27 01:48:18,761 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=49440): 1012
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1012
2025-05-27 01:48:18,762 - INFO - Receiver task for Address(host='127.0.0.1', port=49440) finished.
2025-05-27 01:48:18,862 - INFO - Application shutdown event triggered.
2025-05-27 01:48:18,862 - INFO - Stopping MessageProcessor...
2025-05-27 01:48:18,862 - INFO - Sender task for Address(host='127.0.0.1', port=49440) was cancelled.
2025-05-27 01:48:18,862 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:48:18,862 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:48:18,862 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:48:18,863 - INFO - Application shutdown complete.
2025-05-27 01:48:18,864 - INFO - Initiating cleanup for connection: 127.0.0.1:49440
2025-05-27 01:48:18,864 - INFO - Starting cleanup for 127.0.0.1:49440
2025-05-27 01:48:18,864 - INFO - Connection cleanup completed for 127.0.0.1:49440. Remaining connections: 0
2025-05-27 01:48:18,864 - INFO - Cleanup finished for connection: 127.0.0.1:49440. Total connections: 0
2025-05-27 01:48:18,864 - INFO - Starting cleanup for Address(host='127.0.0.1', port=49440)
2025-05-27 01:48:18,864 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=49440). Remaining connections: 0
2025-05-27 01:51:54,979 - INFO - Application startup event triggered.
2025-05-27 01:51:54,980 - INFO - Initializing all queues...
2025-05-27 01:51:54,980 - INFO - All queues initialized on loop 544169504
2025-05-27 01:51:54,980 - INFO - Shared queues initialized.
2025-05-27 01:51:54,980 - INFO - Retrieved queue instances. Event loop ID: 544169504
2025-05-27 01:51:54,980 - INFO - SimulationManager ready state set to: True
2025-05-27 01:51:54,980 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:51:54,980 - INFO - MessageProcessor queues verified
2025-05-27 01:51:54,981 - INFO - MessageProcessor task started.
2025-05-27 01:51:54,981 - INFO - QueueForwarder queues verified
2025-05-27 01:51:54,981 - INFO - QueueForwarder task started.
2025-05-27 01:51:54,981 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:51:54,981 - INFO - Starting MessageProcessor
2025-05-27 01:51:54,981 - INFO - Starting QueueForwarder
2025-05-27 01:51:56,433 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=44582)
2025-05-27 01:51:56,433 - INFO - Adding connection: 127.0.0.1:44582. Total connections: 1
2025-05-27 01:51:56,435 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=44582)
2025-05-27 01:51:56,435 - INFO - Sender task started for Address(host='127.0.0.1', port=44582)
2025-05-27 01:51:56,435 - INFO - Receiver task started for Address(host='127.0.0.1', port=44582)
2025-05-27 01:51:56,442 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=44582)
2025-05-27 01:51:57,710 - INFO - Enqueuing valid message of type 'command' from Address(host='127.0.0.1', port=44582)
2025-05-27 01:52:02,070 - INFO - Enqueuing valid message of type 'test_message' from Address(host='127.0.0.1', port=44582)
2025-05-27 01:52:02,070 - INFO - Processed 3 messages
2025-05-27 01:52:09,075 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=44582): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:52:09,076 - INFO - Receiver task for Address(host='127.0.0.1', port=44582) finished.
2025-05-27 01:52:09,143 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=42992)
2025-05-27 01:52:09,143 - INFO - Adding connection: 127.0.0.1:42992. Total connections: 2
2025-05-27 01:52:09,144 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=42992)
2025-05-27 01:52:09,144 - INFO - Sender task started for Address(host='127.0.0.1', port=42992)
2025-05-27 01:52:09,145 - INFO - Receiver task started for Address(host='127.0.0.1', port=42992)
2025-05-27 01:52:09,150 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=42992)
2025-05-27 01:52:09,151 - INFO - Processed 1 messages
2025-05-27 01:52:09,151 - WARNING - Failed to send message to Address(host='127.0.0.1', port=44582), connection likely closed: Unexpected ASGI message 'websocket.send', after sending 'websocket.close'.
2025-05-27 01:52:09,152 - INFO - Sender task for Address(host='127.0.0.1', port=44582) finished.
2025-05-27 01:52:09,152 - INFO - Initiating cleanup for connection: 127.0.0.1:44582
2025-05-27 01:52:09,152 - INFO - Starting cleanup for 127.0.0.1:44582
2025-05-27 01:52:09,153 - INFO - Connection cleanup completed for 127.0.0.1:44582. Remaining connections: 1
2025-05-27 01:52:09,153 - INFO - Cleanup finished for connection: 127.0.0.1:44582. Total connections: 1
2025-05-27 01:52:09,153 - ERROR - WebSocket receive error: Cannot call "receive" once a disconnect message has been received.
2025-05-27 01:52:09,153 - INFO - Starting cleanup for Address(host='127.0.0.1', port=44582)
2025-05-27 01:52:09,153 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=44582). Remaining connections: 1
2025-05-27 01:52:11,845 - INFO - Enqueuing valid message of type 'command' from Address(host='127.0.0.1', port=42992)
2025-05-27 01:52:28,877 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=42992): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:52:28,878 - INFO - Receiver task for Address(host='127.0.0.1', port=42992) finished.
2025-05-27 01:56:48,623 - INFO - Application shutdown event triggered.
2025-05-27 01:56:48,624 - INFO - Stopping MessageProcessor...
2025-05-27 01:56:48,624 - INFO - Sender task for Address(host='127.0.0.1', port=42992) was cancelled.
2025-05-27 01:56:48,624 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:56:48,624 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:56:48,625 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:56:48,625 - INFO - Application shutdown complete.
2025-05-27 01:56:48,626 - INFO - Initiating cleanup for connection: 127.0.0.1:42992
2025-05-27 01:56:48,626 - INFO - Starting cleanup for 127.0.0.1:42992
2025-05-27 01:56:48,626 - INFO - Connection cleanup completed for 127.0.0.1:42992. Remaining connections: 0
2025-05-27 01:56:48,626 - INFO - Cleanup finished for connection: 127.0.0.1:42992. Total connections: 0
2025-05-27 01:56:48,626 - INFO - Starting cleanup for Address(host='127.0.0.1', port=42992)
2025-05-27 01:56:48,626 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=42992). Remaining connections: 0
2025-05-27 01:56:54,012 - INFO - Application startup event triggered.
2025-05-27 01:56:54,012 - INFO - Initializing all queues...
2025-05-27 01:56:54,012 - INFO - All queues initialized on loop 959639072
2025-05-27 01:56:54,012 - INFO - Shared queues initialized.
2025-05-27 01:56:54,012 - INFO - Retrieved queue instances. Event loop ID: 959639072
2025-05-27 01:56:54,012 - INFO - SimulationManager ready state set to: True
2025-05-27 01:56:54,013 - INFO - SimulationManager initialized and stored in dependencies.
2025-05-27 01:56:54,013 - INFO - MessageProcessor queues verified
2025-05-27 01:56:54,013 - INFO - MessageProcessor task started.
2025-05-27 01:56:54,013 - INFO - QueueForwarder queues verified
2025-05-27 01:56:54,013 - INFO - QueueForwarder task started.
2025-05-27 01:56:54,013 - INFO - Application startup complete. All core services initialized.
2025-05-27 01:56:54,013 - INFO - Starting MessageProcessor
2025-05-27 01:56:54,014 - INFO - Starting QueueForwarder
2025-05-27 01:56:55,438 - INFO - WebSocket connection established from Address(host='127.0.0.1', port=39584)
2025-05-27 01:56:55,439 - INFO - Adding connection: 127.0.0.1:39584. Total connections: 1
2025-05-27 01:56:55,440 - INFO - Sent connection_ack to Address(host='127.0.0.1', port=39584)
2025-05-27 01:56:55,440 - INFO - Sender task started for Address(host='127.0.0.1', port=39584)
2025-05-27 01:56:55,440 - INFO - Receiver task started for Address(host='127.0.0.1', port=39584)
2025-05-27 01:56:55,446 - INFO - Enqueuing valid message of type 'frontend_ready_ack' from Address(host='127.0.0.1', port=39584)
2025-05-27 01:56:57,065 - INFO - Enqueuing valid message of type 'command' from Address(host='127.0.0.1', port=39584)
2025-05-27 01:57:09,535 - ERROR - Receive/processing error for Address(host='127.0.0.1', port=39584): 1001
Traceback (most recent call last):
  File "/home/Leo/Documents/Coding/Teamprojekt Context Translator/Backend/services/websocket_manager.py", line 133, in _receiver
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 113, in receive_text
    self._raise_on_disconnect(message)
  File "/home/Leo/.local/lib/python3.12/site-packages/starlette/websockets.py", line 105, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"])
starlette.websockets.WebSocketDisconnect: 1001
2025-05-27 01:57:09,537 - INFO - Receiver task for Address(host='127.0.0.1', port=39584) finished.
2025-05-27 01:57:12,783 - INFO - Application shutdown event triggered.
2025-05-27 01:57:12,783 - INFO - Stopping MessageProcessor...
2025-05-27 01:57:12,783 - INFO - Sender task for Address(host='127.0.0.1', port=39584) was cancelled.
2025-05-27 01:57:12,783 - WARNING - MessageProcessor didn't stop cleanly
2025-05-27 01:57:12,784 - WARNING - QueueForwarder instance or task not available for graceful shutdown.
2025-05-27 01:57:12,784 - INFO - All WebSocket connections attempted to close.
2025-05-27 01:57:12,784 - INFO - Application shutdown complete.
2025-05-27 01:57:12,785 - INFO - Initiating cleanup for connection: 127.0.0.1:39584
2025-05-27 01:57:12,785 - INFO - Starting cleanup for 127.0.0.1:39584
2025-05-27 01:57:12,785 - INFO - Connection cleanup completed for 127.0.0.1:39584. Remaining connections: 0
2025-05-27 01:57:12,785 - INFO - Cleanup finished for connection: 127.0.0.1:39584. Total connections: 0
2025-05-27 01:57:12,785 - INFO - Starting cleanup for Address(host='127.0.0.1', port=39584)
2025-05-27 01:57:12,785 - INFO - Connection cleanup completed for Address(host='127.0.0.1', port=39584). Remaining connections: 0
